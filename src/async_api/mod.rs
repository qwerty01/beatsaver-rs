#![cfg(feature = "async")]
use async_trait::async_trait;
use crate::{BeatSaverApiError, MapId, Map, BEATSAVER_URL, BeatSaverUser, Page};
use std::error::Error;
use bytes::Bytes;
use url::Url;
use urlencoding::encode;

/// API trait for asynchronous clients
#[async_trait]
pub trait BeatSaverApiAsync<'a, T: 'a + Error>
where
    BeatSaverApiError<T>: From<T>,
{
    /// Executes a raw request to the provided [Url][url::Url]
    async fn request_raw(&'a self, url: Url) -> Result<Bytes, T>;
    /// Executes a request and converts the result into a [String][std::string::String]
    async fn request(&'a self, url: Url) -> Result<String, BeatSaverApiError<T>> {
        let data = self.request_raw(url).await?;
        Ok(String::from_utf8(data.as_ref().to_vec())?)
    }
    /// Gets a map from a given [MapId][crate::MapId]
    async fn map(&'a self, id: &MapId) -> Result<Map, BeatSaverApiError<T>> {
        let data = match id {
            MapId::Key(k) => {
                let url = BEATSAVER_URL
                    .join(format!("api/maps/detail/{:x}", k).as_str())
                    .unwrap();
                self.request(url.clone()).await?
            }
            MapId::Hash(h) => {
                let url = BEATSAVER_URL
                    .join(format!("api/maps/by-hash/{}", h).as_str())
                    .unwrap();
                self.request(url.clone()).await?
            }
        };

        Ok(serde_json::from_str(data.as_str())?)
    }
    /// Retrieves maps created by a specified beatsaver user
    async fn maps_by(&'a self, user: &BeatSaverUser) -> Result<Page<Map>, BeatSaverApiError<T>> {
        self.maps_by_page(user, 0).await
    }
    /// Retrieves maps created by a specified beatsaver user, specifying a page number
    async fn maps_by_page(
        &'a self,
        user: &BeatSaverUser,
        page: usize,
    ) -> Result<Page<Map>, BeatSaverApiError<T>> {
        let url = BEATSAVER_URL
            .join(format!("api/maps/uploader/{}/", user.id).as_str())
            .unwrap();
        let data = self
            .request(url.join(page.to_string().as_str()).unwrap())
            .await?;

        let mut obj: Page<Map> = serde_json::from_str(data.as_str())?;
        obj.url = Some(url);

        Ok(obj)
    }
    /// Retrieves the current hot maps on beatsaver
    async fn maps_hot(&'a self) -> Result<Page<Map>, BeatSaverApiError<T>> {
        self.maps_hot_page(0).await
    }
    /// Retrieves the current hot maps on beatsaver, specifying a page number
    async fn maps_hot_page(&'a self, page: usize) -> Result<Page<Map>, BeatSaverApiError<T>> {
        let url = BEATSAVER_URL.join("api/maps/hot/").unwrap();
        let data = self
            .request(url.join(page.to_string().as_str()).unwrap())
            .await?;
        let mut page: Page<Map> = serde_json::from_str(data.as_str())?;

        page.url = Some(url);

        Ok(page)
    }
    /// Retrieves all maps sorted by rating
    async fn maps_rating(&'a self) -> Result<Page<Map>, BeatSaverApiError<T>> {
        self.maps_rating_page(0).await
    }
    /// Retrieves all maps sorted by rating, specifying a page number
    async fn maps_rating_page(&'a self, page: usize) -> Result<Page<Map>, BeatSaverApiError<T>> {
        let url = BEATSAVER_URL.join("api/maps/rating/").unwrap();
        let data = self
            .request(url.join(page.to_string().as_str()).unwrap())
            .await?;
        let mut page: Page<Map> = serde_json::from_str(data.as_str())?;

        page.url = Some(url);

        Ok(page)
    }
    /// Retrieves all maps sorted by upload time
    async fn maps_latest(&'a self) -> Result<Page<Map>, BeatSaverApiError<T>> {
        self.maps_latest_page(0).await
    }
    /// Retrieves all maps sorted by upload time, specifying a page number
    async fn maps_latest_page(&'a self, page: usize) -> Result<Page<Map>, BeatSaverApiError<T>> {
        let url = BEATSAVER_URL.join("api/maps/latest/").unwrap();
        let data = self
            .request(url.join(page.to_string().as_str()).unwrap())
            .await?;
        let mut page: Page<Map> = serde_json::from_str(data.as_str())?;

        page.url = Some(url);

        Ok(page)
    }
    /// Retrieves all maps sorted by total downloads
    async fn maps_downloads(&'a self) -> Result<Page<Map>, BeatSaverApiError<T>> {
        self.maps_downloads_page(0).await
    }
    /// Retrieves all maps sorted by total downloads, specifying a page number
    async fn maps_downloads_page(&'a self, page: usize) -> Result<Page<Map>, BeatSaverApiError<T>> {
        let url = BEATSAVER_URL.join("api/maps/downloads/").unwrap();
        let data = self
            .request(url.join(page.to_string().as_str()).unwrap())
            .await?;
        let mut page: Page<Map> = serde_json::from_str(data.as_str())?;

        page.url = Some(url);

        Ok(page)
    }
    /// Retrieves all maps sorted by number of plays, specifying a page number
    async fn maps_plays(&'a self) -> Result<Page<Map>, BeatSaverApiError<T>> {
        self.maps_plays_page(0).await
    }
    /// Retrieves all maps sorted by number of plays
    async fn maps_plays_page(&'a self, page: usize) -> Result<Page<Map>, BeatSaverApiError<T>> {
        let url = BEATSAVER_URL.join("api/maps/plays/").unwrap();
        let data = self
            .request(url.join(page.to_string().as_str()).unwrap())
            .await?;
        let mut page: Page<Map> = serde_json::from_str(data.as_str())?;

        page.url = Some(url);

        Ok(page)
    }
    /// Retrieves info on a specified beatsaber user
    async fn user(&'a self, id: String) -> Result<BeatSaverUser, BeatSaverApiError<T>> {
        if id.len() != 24 || hex::decode(&id).is_err() {
            return Err(BeatSaverApiError::ArgumentError("id"));
        }
        let url = BEATSAVER_URL
            .join(format!("api/users/find/{}", id).as_str())
            .unwrap();
        let data = self.request(url.clone()).await?;

        Ok(serde_json::from_str(data.as_str())?)
    }
    /// Retrieves maps based on a specified search query
    ///
    /// Note: urlencodes the query
    async fn search(&'a self, query: String) -> Result<Page<Map>, BeatSaverApiError<T>> {
        self.search_page(query, 0).await
    }
    /// Retrieves maps based on a specified search query, specifying a page number
    ///
    /// Note: urlencodes the query
    async fn search_page(
        &'a self,
        query: String,
        page: usize,
    ) -> Result<Page<Map>, BeatSaverApiError<T>> {
        let query = encode(query.as_str());
        let url = BEATSAVER_URL
            .join(format!("api/search/text/?q={}", query).as_str())
            .unwrap();

        let q = url.query();
        let mut url2 = url.join(page.to_string().as_str()).unwrap();
        url2.set_query(q);
        let data = self.request(url2).await?;

        let mut page: Page<Map> = serde_json::from_str(data.as_str())?;

        page.url = Some(url);

        Ok(page)
    }
    /// Retrieves maps based on an advanced search query
    ///
    /// Note: urlencodes the query
    ///
    /// Advanced queries use [Apache Lucene](https://lucene.apache.org/core/2_9_4/queryparsersyntax.html) syntax
    async fn search_advanced(&'a self, query: String) -> Result<Page<Map>, BeatSaverApiError<T>> {
        self.search_advanced_page(query, 0).await
    }
    /// Retrieves maps based on an advanced search query, specifying a page number
    ///
    /// Note: urlencodes the query
    ///
    /// Advanced queries use [Apache Lucene](https://lucene.apache.org/core/2_9_4/queryparsersyntax.html) syntax
    async fn search_advanced_page(
        &'a self,
        query: String,
        page: usize,
    ) -> Result<Page<Map>, BeatSaverApiError<T>> {
        // TODO: Validate Lucene syntax
        let query = encode(query.as_str());
        let url = BEATSAVER_URL
            .join(format!("api/search/advanced/?q={}", query).as_str())
            .unwrap();

        let q = url.query();
        let mut url2 = url.join(page.to_string().as_str()).unwrap();
        url2.set_query(q);
        let data = self.request(url2).await?;

        let mut page: Page<Map> = serde_json::from_str(data.as_str())?;

        page.url = Some(url);

        Ok(page)
    }
    /// Downloads a provided map
    ///
    /// [Maps][crate::map::Map] can be converted to [MapIds][crate::MapId] using the [Into][std::convert::Into] trait.
    async fn download(&'a self, id: MapId) -> Result<Bytes, BeatSaverApiError<T>> {
        let url = BEATSAVER_URL
            .join(
                match id {
                    MapId::Key(k) => format!("api/download/key/{:x}", k),
                    MapId::Hash(h) => format!("api/download/hash/{}", h),
                }
                .as_str(),
            )
            .unwrap();
        Ok(self.request_raw(url.clone()).await?)
    }
}

#[cfg(test)]
mod tests {
    use async_trait::async_trait;
    use crate::BeatSaverApiAsync;
    use crate::tests::{FakeError, FakeClient, FakeClientPaged};
    use bytes::Bytes;
    use url::Url;

    #[async_trait]
    impl<'a> BeatSaverApiAsync<'a, FakeError> for FakeClient {
        async fn request_raw(&'a self, url: Url) -> Result<Bytes, FakeError> {
            assert_eq!(self.url, url);
            Ok(self.data.clone())
        }
    }
    #[async_trait]
    impl<'a> BeatSaverApiAsync<'a, FakeError> for FakeClientPaged {
        async fn request_raw(&'a self, url: Url) -> Result<Bytes, FakeError> {
            let data = self.pages.get(&url).unwrap();
            Ok(data.clone())
        }
    }
    #[cfg(feature = "async-std")]
    mod async_std_tests {
        use crate::tests::FakeClient;
        use crate::BEATSAVER_URL;
        use crate::{BeatSaverApiAsync, BeatSaverUser};
        use async_std::test as async_test;
        use std::convert::TryInto;

        #[async_test]
        async fn test_map() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/detail/1").unwrap(),  r#"{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":false,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":188.625,"length":141,"bombs":28,"notes":337,"obstacles":11,"njs":10,"njsOffset":0},"expert":null,"expertPlus":null}}],"songName":"me & u","songSubName":"","songAuthorName":"succducc","levelAuthorName":"datkami","bpm":160},"stats":{"downloads":86164,"plays":8377,"downVotes":110,"upVotes":512,"heat":17.2028038,"rating":0.7765731134313741},"description":"Hard Only / ~330 notes / Event Lighting! / https://soundcloud.com/succducc/me-n-u","deletedAt":null,"_id":"5cff620c48229f7d88fc60df","key":"1","name":"succducc - me & u","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-05-08T14:28:56.000Z","hash":"fda568fc27c20d21f8dc6f3709b49b5cc96723be","directDownload":"/cdn/1/fda568fc27c20d21f8dc6f3709b49b5cc96723be.zip","downloadURL":"/api/download/key/1","coverURL":"/cdn/1/fda568fc27c20d21f8dc6f3709b49b5cc96723be.jpg"}"#.into());
            client
                .map(&"1".to_string().try_into().unwrap())
                .await
                .unwrap();
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/by-hash/fda568fc27c20d21f8dc6f3709b49b5cc96723be").unwrap(),  r#"{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":false,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":188.625,"length":141,"bombs":28,"notes":337,"obstacles":11,"njs":10,"njsOffset":0},"expert":null,"expertPlus":null}}],"songName":"me & u","songSubName":"","songAuthorName":"succducc","levelAuthorName":"datkami","bpm":160},"stats":{"downloads":86164,"plays":8377,"downVotes":110,"upVotes":512,"heat":17.2028038,"rating":0.7765731134313741},"description":"Hard Only / ~330 notes / Event Lighting! / https://soundcloud.com/succducc/me-n-u","deletedAt":null,"_id":"5cff620c48229f7d88fc60df","key":"1","name":"succducc - me & u","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-05-08T14:28:56.000Z","hash":"fda568fc27c20d21f8dc6f3709b49b5cc96723be","directDownload":"/cdn/1/fda568fc27c20d21f8dc6f3709b49b5cc96723be.zip","downloadURL":"/api/download/key/1","coverURL":"/cdn/1/fda568fc27c20d21f8dc6f3709b49b5cc96723be.jpg"}"#.into());
            client
                .map(
                    &"fda568fc27c20d21f8dc6f3709b49b5cc96723be"
                        .to_string()
                        .try_into()
                        .unwrap(),
                )
                .await
                .unwrap();
        }
        #[async_test]
        async fn test_maps_by() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/uploader/5cff0b7298cc5a672c84e8a3/0").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":{"duration":655.5,"length":228,"bombs":28,"notes":865,"obstacles":31,"njs":12,"njsOffset":0},"expertPlus":null}}],"songName":"Coconut Cabana","songSubName":"Ikura","songAuthorName":"Kami","levelAuthorName":"datkami","bpm":172},"stats":{"downloads":40619,"plays":201,"downVotes":43,"upVotes":207,"heat":326.6865772,"rating":0.7658415646708089},"description":"172 BPM / Expert (865 notes) / my lights are pretty / Video Demonstration: https://streamable.com/2yo6w / shout out to @ikuratunes for making this bangin' track https://soundcloud.com/chunchunmarudesu/coconut-cabana","deletedAt":null,"_id":"5cff621048229f7d88fc73e2","key":"1a98","name":"ikura - Coconut Cabana","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-10-16T23:53:48.000Z","hash":"023ae70b643a2abe62c9dbc9e3fdfd9c325f0f1f","directDownload":"/cdn/1a98/023ae70b643a2abe62c9dbc9e3fdfd9c325f0f1f.zip","downloadURL":"/api/download/key/1a98","coverURL":"/cdn/1a98/023ae70b643a2abe62c9dbc9e3fdfd9c325f0f1f.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":482,"length":199,"bombs":20,"notes":583,"obstacles":38,"njs":12,"njsOffset":0},"hard":{"duration":482,"length":199,"bombs":20,"notes":640,"obstacles":30,"njs":12,"njsOffset":0},"expert":{"duration":482,"length":199,"bombs":20,"notes":734,"obstacles":19,"njs":12,"njsOffset":0},"expertPlus":null}}],"songName":"Kodokushi","songSubName":"Kami","songAuthorName":"Mihka! x Kyoto Black","levelAuthorName":"datkami","bpm":145},"stats":{"downloads":21772,"plays":2937,"downVotes":17,"upVotes":327,"heat":30.7342061,"rating":0.87298999599274},"description":"Hard (583 Notes) / Hard+ (640 Notes) / Expert (734 Notes) / Event lighting! / Part 2 of the J-EDM Graduation series, a setlist of maps meant to help you bridge the gap between Hard and Expert! / Mapped by Kami#9635  / Video Demonstration: https://streamable.com/n3h12 / If you like the track, be sure to sign up for Beat Saver and give it a LIKE!","deletedAt":null,"_id":"5cff620c48229f7d88fc6171","key":"98","name":"Mihka! x Kyoto Black - Kodokushi","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-05-15T17:02:08.000Z","hash":"f829a801f10366ae4f61b8daabcf133209a65789","directDownload":"/cdn/98/f829a801f10366ae4f61b8daabcf133209a65789.zip","downloadURL":"/api/download/key/98","coverURL":"/cdn/98/f829a801f10366ae4f61b8daabcf133209a65789.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":291,"length":136,"bombs":4,"notes":353,"obstacles":15,"njs":10,"njsOffset":0},"hard":{"duration":291,"length":136,"bombs":4,"notes":455,"obstacles":15,"njs":10,"njsOffset":0},"expert":{"duration":291,"length":136,"bombs":10,"notes":526,"obstacles":15,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"LUVORATORRRRRY!","songSubName":"feat.nqrse","songAuthorName":"Reol","levelAuthorName":"datkami","bpm":128},"stats":{"downloads":273492,"plays":31684,"downVotes":177,"upVotes":4246,"heat":21.0822877,"rating":0.9232332918273986},"description":"Hard (353 notes) / Hard+ (455 notes) / Expert (526 notes) / 15 Obstacles / Video Demonstration: https://streamable.com/23ayv / Part 1 of the J-EDM Graduation series! Use this song pack to level up your game!","deletedAt":null,"_id":"5cff620c48229f7d88fc60fe","key":"21","name":"REOL feat. nqrse - LUVORATORRRRRY!","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-05-10T02:24:36.000Z","hash":"c807689fefdae82aa79ba9c7f861118fb426b4cc","directDownload":"/cdn/21/c807689fefdae82aa79ba9c7f861118fb426b4cc.zip","downloadURL":"/api/download/key/21","coverURL":"/cdn/21/c807689fefdae82aa79ba9c7f861118fb426b4cc.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":false,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":188.625,"length":141,"bombs":28,"notes":337,"obstacles":11,"njs":10,"njsOffset":0},"expert":null,"expertPlus":null}}],"songName":"me & u","songSubName":"","songAuthorName":"succducc","levelAuthorName":"datkami","bpm":160},"stats":{"downloads":86164,"plays":8377,"downVotes":110,"upVotes":512,"heat":17.2028038,"rating":0.7765731134313741},"description":"Hard Only / ~330 notes / Event Lighting! / https://soundcloud.com/succducc/me-n-u","deletedAt":null,"_id":"5cff620c48229f7d88fc60df","key":"1","name":"succducc - me & u","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-05-08T14:28:56.000Z","hash":"fda568fc27c20d21f8dc6f3709b49b5cc96723be","directDownload":"/cdn/1/fda568fc27c20d21f8dc6f3709b49b5cc96723be.zip","downloadURL":"/api/download/key/1","coverURL":"/cdn/1/fda568fc27c20d21f8dc6f3709b49b5cc96723be.jpg"}],"totalDocs":4,"lastPage":0,"prevPage":null,"nextPage":null}"#.into());
            client
                .maps_by(&BeatSaverUser {
                    id: "5cff0b7298cc5a672c84e8a3".into(),
                    username: "datkami".into(),
                })
                .await
                .unwrap();
        }
        #[async_test]
        async fn test_maps_by_page() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/uploader/5cff0b7298cc5a672c84e98d/2").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":386,"length":191,"bombs":32,"notes":354,"obstacles":107,"njs":10,"njsOffset":0},"expert":{"duration":388,"length":192,"bombs":68,"notes":616,"obstacles":123,"njs":10,"njsOffset":0},"expertPlus":{"duration":388,"length":192,"bombs":68,"notes":720,"obstacles":123,"njs":14,"njsOffset":0}}}],"songName":"Pretty Girl (Cheat Codes X Cade Remix)","songSubName":"Maggie Lindemann","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":121},"stats":{"downloads":61091,"plays":0,"downVotes":75,"upVotes":850,"heat":526.9025684,"rating":0.8653280150881011},"description":"Difficulties: Expert+, Expert, Hard","deletedAt":null,"_id":"5cff621348229f7d88fc8216","key":"31f8","name":"Pretty Girl (Cheat Codes X Cade Remix) - Maggie Lindemann","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2019-01-28T22:09:57.000Z","hash":"782d39ee1e15246ca16a9b00faf0188c4e1de63c","directDownload":"/cdn/31f8/782d39ee1e15246ca16a9b00faf0188c4e1de63c.zip","downloadURL":"/api/download/key/31f8","coverURL":"/cdn/31f8/782d39ee1e15246ca16a9b00faf0188c4e1de63c.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":357,"length":177,"bombs":0,"notes":373,"obstacles":268,"njs":10,"njsOffset":0},"expert":{"duration":357,"length":177,"bombs":0,"notes":661,"obstacles":291,"njs":10,"njsOffset":0},"expertPlus":{"duration":357,"length":177,"bombs":0,"notes":875,"obstacles":291,"njs":14,"njsOffset":0}}}],"songName":"Go Bang","songSubName":"PNAU","songAuthorName":"BennyDaBeast & TheRealZeroz","levelAuthorName":"bennydabeast","bpm":121},"stats":{"downloads":55371,"plays":0,"downVotes":63,"upVotes":973,"heat":514.3570192,"rating":0.8848876955933839},"description":"YouTube Preview: Coming Soon\r\nLighting By: TheRealZeroz\r\nMany many thanks to TheRealZeros for the grade A lighting, especially with the cool strobes! :D","deletedAt":null,"_id":"5cff621348229f7d88fc80e7","key":"300a","name":"Go Bang - PNAU (Lighting by TheRealZeroz)","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2019-01-22T08:28:29.000Z","hash":"7573b8504b186f217787fb8fb7c5218012c6299d","directDownload":"/cdn/300a/7573b8504b186f217787fb8fb7c5218012c6299d.zip","downloadURL":"/api/download/key/300a","coverURL":"/cdn/300a/7573b8504b186f217787fb8fb7c5218012c6299d.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":false,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":null,"expertPlus":{"duration":387.6815185546875,"length":145,"bombs":0,"notes":586,"obstacles":7,"njs":10,"njsOffset":0}}}],"songName":"What Christmas Means to Me","songSubName":"Stevie Wonder","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":160},"stats":{"downloads":23574,"plays":4,"downVotes":16,"upVotes":97,"heat":435.3491072,"rating":0.7722707184352429},"description":"","deletedAt":null,"_id":"5cff621248229f7d88fc7a2f","key":"2556","name":"What Christmas Means to Me - Stevie Wonder","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-12-12T18:00:28.000Z","hash":"34a51a17715446e103b1ae57709fa595f77dc0d5","directDownload":"/cdn/2556/34a51a17715446e103b1ae57709fa595f77dc0d5.zip","downloadURL":"/api/download/key/2556","coverURL":"/cdn/2556/34a51a17715446e103b1ae57709fa595f77dc0d5.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":false,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":null,"expertPlus":{"duration":545.281494140625,"length":212,"bombs":0,"notes":1007,"obstacles":17,"njs":11,"njsOffset":0}}}],"songName":"The Other Side (The Greatest Showman)","songSubName":"Hugh Jackman & Zac Efron","songAuthorName":"BennyDaBeast, Lit by Willums & Assistant","levelAuthorName":"bennydabeast","bpm":154},"stats":{"downloads":75997,"plays":11,"downVotes":42,"upVotes":990,"heat":430.8617861,"rating":0.9024479312105432},"description":"Expert+ Only!","deletedAt":null,"_id":"5cff621248229f7d88fc79e5","key":"24e3","name":"The Other Side (The Greatest Showman)","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-12-09T20:33:44.000Z","hash":"d1a01de5b779523c390b594bd0f61ed57b0e41f8","directDownload":"/cdn/24e3/d1a01de5b779523c390b594bd0f61ed57b0e41f8.zip","downloadURL":"/api/download/key/24e3","coverURL":"/cdn/24e3/d1a01de5b779523c390b594bd0f61ed57b0e41f8.png"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":417,"length":195,"bombs":4,"notes":301,"obstacles":24,"njs":10,"njsOffset":0},"hard":{"duration":417,"length":195,"bombs":4,"notes":486,"obstacles":24,"njs":10,"njsOffset":0},"expert":{"duration":417.5,"length":195,"bombs":4,"notes":620,"obstacles":24,"njs":10,"njsOffset":0},"expertPlus":{"duration":417.5,"length":195,"bombs":0,"notes":894,"obstacles":0,"njs":12,"njsOffset":0}}}],"songName":"Shut Up and Dance","songSubName":"WALK THE MOON","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":128},"stats":{"downloads":427710,"plays":558,"downVotes":138,"upVotes":10940,"heat":395.8295042,"rating":0.9579970045720925},"description":"Difficulties: Expert+ (Added 11/15), Expert, Hard, Normal\r\nYouTube Preview: https://youtu.be/x9hJbTlPQUY","deletedAt":null,"_id":"5cff621148229f7d88fc77c9","key":"2144","name":"Shut Up and Dance - WALK THE MOON","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-11-21T01:27:00.000Z","hash":"89cf8bb07afb3c59ae7b5ac00337d62261c36fb4","directDownload":"/cdn/2144/89cf8bb07afb3c59ae7b5ac00337d62261c36fb4.zip","downloadURL":"/api/download/key/2144","coverURL":"/cdn/2144/89cf8bb07afb3c59ae7b5ac00337d62261c36fb4.png"},{"metadata":{"difficulties":{"easy":true,"normal":true,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":{"duration":528,"length":198,"bombs":0,"notes":280,"obstacles":26,"njs":10,"njsOffset":0},"normal":{"duration":528,"length":198,"bombs":0,"notes":360,"obstacles":26,"njs":10,"njsOffset":0},"hard":{"duration":530,"length":198,"bombs":0,"notes":521,"obstacles":154,"njs":12,"njsOffset":0},"expert":{"duration":530,"length":198,"bombs":0,"notes":746,"obstacles":155,"njs":12,"njsOffset":0},"expertPlus":{"duration":530,"length":198,"bombs":0,"notes":1225,"obstacles":207,"njs":14,"njsOffset":0}}}],"songName":"Don't Let Me Down (Illenium Remix)","songSubName":"The Chainsmokers feat. Daya","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":160},"stats":{"downloads":256993,"plays":1391,"downVotes":135,"upVotes":3811,"heat":379.4704866,"rating":0.927275423748384},"description":"This is one of the 22 maps that were mapped for the 100k Contest where you can win over $7,000 in prizes. Go to https://bsaber.com/100k-contest/ to register!\r\nDifficulties: Expert+, Expert, Hard, Normal","deletedAt":null,"_id":"5cff621148229f7d88fc76f2","key":"1ff6","name":"Don't Let Me Down (Illenium Remix) - The Chainsmokers feat. Daya (100k Contest)","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-11-12T18:48:50.000Z","hash":"5639a12cccf90238055116ec53e5297aa004627e","directDownload":"/cdn/1ff6/5639a12cccf90238055116ec53e5297aa004627e.zip","downloadURL":"/api/download/key/1ff6","coverURL":"/cdn/1ff6/5639a12cccf90238055116ec53e5297aa004627e.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":false,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":null,"expertPlus":{"duration":580,"length":248,"bombs":0,"notes":1206,"obstacles":1,"njs":15,"njsOffset":0}}}],"songName":"Without Me (Nurko & Miles Away Remix)","songSubName":"Halsey","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":140},"stats":{"downloads":33210,"plays":366,"downVotes":20,"upVotes":780,"heat":339.135058,"rating":0.9115234775631975},"description":"Difficulties: Expert+ Only","deletedAt":null,"_id":"5cff621148229f7d88fc7491","key":"1bc4","name":"Without Me (Nurko & Miles Away Remix) - Halsey","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-10-23T03:10:41.000Z","hash":"e447ac77708869ac151546110aecda97acac2cab","directDownload":"/cdn/1bc4/e447ac77708869ac151546110aecda97acac2cab.zip","downloadURL":"/api/download/key/1bc4","coverURL":"/cdn/1bc4/e447ac77708869ac151546110aecda97acac2cab.png"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":434.5,"length":186,"bombs":0,"notes":256,"obstacles":5,"njs":10,"njsOffset":0},"hard":{"duration":434.5,"length":186,"bombs":0,"notes":334,"obstacles":5,"njs":10,"njsOffset":0},"expert":{"duration":434.5,"length":186,"bombs":0,"notes":492,"obstacles":5,"njs":10,"njsOffset":0},"expertPlus":{"duration":434.5,"length":186,"bombs":0,"notes":671,"obstacles":7,"njs":10,"njsOffset":0}}}],"songName":"Monster Mash","songSubName":"Boris Pickett","songAuthorName":"(HallowBeats) BennyDaBeast","levelAuthorName":"bennydabeast","bpm":140},"stats":{"downloads":54194,"plays":1403,"downVotes":45,"upVotes":386,"heat":332.5226655,"rating":0.831928595701797},"description":"'tis the season to be spooky, fall and fall and fall leaves to the ground!\r\nDifficulties: Expert+, Expert, Hard, Normal\r\nYouTube Preview: https://youtu.be/MIbpQlOdGw8","deletedAt":null,"_id":"5cff621048229f7d88fc742b","key":"1b0c","name":"[HallowBeats] Monster Mash - Boris Pickett","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-10-19T20:52:26.000Z","hash":"96dd957c33ed3d7094217737cedbe8700140f437","directDownload":"/cdn/1b0c/96dd957c33ed3d7094217737cedbe8700140f437.zip","downloadURL":"/api/download/key/1b0c","coverURL":"/cdn/1b0c/96dd957c33ed3d7094217737cedbe8700140f437.png"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":634,"length":190,"bombs":0,"notes":277,"obstacles":9,"njs":10,"njsOffset":0},"hard":{"duration":635,"length":190,"bombs":0,"notes":317,"obstacles":9,"njs":10,"njsOffset":0},"expert":{"duration":635,"length":190,"bombs":0,"notes":541,"obstacles":9,"njs":10,"njsOffset":0},"expertPlus":{"duration":635,"length":190,"bombs":0,"notes":848,"obstacles":9,"njs":10,"njsOffset":0}}}],"songName":"Under The Sea","songSubName":"Samuel E. Wright","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":200},"stats":{"downloads":248025,"plays":3317,"downVotes":118,"upVotes":5040,"heat":312.7915638,"rating":0.9407283375990468},"description":"\"What do they got? A lot of sand. We got a hot crustacean band! Each little clam here know how to jam here, under the sea!\"\r\nDifficulties: Expert+, Expert, Hard, Normal\r\nYouTube Preview: https://youtu.be/h6eMPlGUZsw","deletedAt":null,"_id":"5cff621048229f7d88fc7327","key":"195f","name":"Under The Sea (Little Mermaid) - Samuel E. Wright","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-10-08T23:44:34.000Z","hash":"f745bac45c618fa2c49a0ee0c383f2a6cb356a78","directDownload":"/cdn/195f/f745bac45c618fa2c49a0ee0c383f2a6cb356a78.zip","downloadURL":"/api/download/key/195f","coverURL":"/cdn/195f/f745bac45c618fa2c49a0ee0c383f2a6cb356a78.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":false,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":null,"expertPlus":{"duration":413.125,"length":130,"bombs":179,"notes":664,"obstacles":9,"njs":10,"njsOffset":0}}}],"songName":"THE HEISENBERG SONG","songSubName":"Say My Name","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":191},"stats":{"downloads":30210,"plays":129,"downVotes":39,"upVotes":41,"heat":308.6084522,"rating":0.5091703485317295},"description":"https://www.twitch.tv/heisenberg_irl\r\n\r\nA tribute to the mapping style of the one and only, Heisenberg in real life. The real Heisenberg. Not the fake one.","deletedAt":null,"_id":"5cff621048229f7d88fc731b","key":"194e","name":"THE HEISENBERG SONG (Tribute to Heisenbergirl)","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-10-08T13:50:34.000Z","hash":"c3b7b8a99a8f07961122b37547794f03adb27f96","directDownload":"/cdn/194e/c3b7b8a99a8f07961122b37547794f03adb27f96.zip","downloadURL":"/api/download/key/194e","coverURL":"/cdn/194e/c3b7b8a99a8f07961122b37547794f03adb27f96.png"}],"totalDocs":46,"lastPage":4,"prevPage":1,"nextPage":3}"#.into());
            client
                .maps_by_page(
                    &BeatSaverUser {
                        id: "5cff0b7298cc5a672c84e98d".into(),
                        username: "bennydabeast".into(),
                    },
                    2,
                )
                .await
                .unwrap();
        }
        #[async_test]
        async fn test_maps_hot() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/hot/0").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":true,"expert":false,"expertPlus":false,"hard":false,"normal":false},"duration":13,"automapper":null,"characteristics":[{"difficulties":{"easy":{"duration":13.625,"length":11,"njs":18,"njsOffset":1,"bombs":0,"notes":25,"obstacles":0},"expert":null,"expertPlus":null,"hard":null,"normal":null},"name":"Lawless"}],"levelAuthorName":"Chief Queef","songAuthorName":" ","songName":"*teleports behind you*","songSubName":"","bpm":69},"stats":{"downloads":494,"plays":0,"downVotes":0,"upVotes":10,"heat":1803.8752302,"rating":0.7570708845427101},"description":"nothing personnel kid","deletedAt":null,"_id":"5fbd9da95fd85f000691e895","key":"1146c","name":"*teleports behind you*","uploader":{"_id":"5f9a4d2a030219000627c2bf","username":"chief queef"},"hash":"4447287810e6ad338f379677c9d383b1634d876d","uploaded":"2020-11-24T23:56:25.360Z","directDownload":"/cdn/1146c/4447287810e6ad338f379677c9d383b1634d876d.zip","downloadURL":"/api/download/key/1146c","coverURL":"/cdn/1146c/4447287810e6ad338f379677c9d383b1634d876d.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":true,"hard":false,"normal":false},"duration":225,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":312.15301513671875,"length":208,"njs":16,"njsOffset":-0.4000000059604645,"bombs":12,"notes":551,"obstacles":194},"expertPlus":{"duration":312.15301513671875,"length":208,"njs":16,"njsOffset":-0.4000000059604645,"bombs":12,"notes":564,"obstacles":220},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"AmpereBEEP","songAuthorName":"Madeon","songName":"Home","songSubName":"","bpm":90},"stats":{"downloads":513,"plays":0,"downVotes":2,"upVotes":8,"heat":1803.5866947,"rating":0.6542425307256261},"description":"Really? No maps of this song before? That's a surprise.\r\n\r\nThis song is nice and slow and the map fits it accordingly. Could be good for accuracy practice or just a good map for newer players to see some good flow. \r\n\r\nMap comes with 2 difficulties: Expert+ with 564 notes at 2.50 notes per second, and a slightly less difficult Expert with 551 notes at 2.44 notes per second. Both maps are nearly identical, with the Expert+ difficulty having dodge walls and a section that might be a little difficult to read for new players.\r\n\r\nIf you have any feedback or any suggestions, send it to AmpereBEEP#1723 on Discord.","deletedAt":null,"_id":"5fbd91f000e48a00065a7826","key":"11467","name":"Home - Madeon","uploader":{"_id":"5ed1475c9ae7380006c6f245","username":"amperebeep"},"hash":"059a919433c73ebf299b32ec351b60adf50add89","uploaded":"2020-11-24T23:06:24.457Z","directDownload":"/cdn/11467/059a919433c73ebf299b32ec351b60adf50add89.zip","downloadURL":"/api/download/key/11467","coverURL":"/cdn/11467/059a919433c73ebf299b32ec351b60adf50add89.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":152,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":287.7916564941406,"length":150,"njs":18,"njsOffset":-0.30000001192092896,"bombs":0,"notes":763,"obstacles":0},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"EPG7ENS","songAuthorName":"MACROSS 82-99","songName":"89.22 FM","songSubName":"","bpm":115},"stats":{"downloads":680,"plays":0,"downVotes":0,"upVotes":9,"heat":1803.4551916,"rating":0.75},"description":"i'm kinda into japanese city pop rn\nenjoy ;)","deletedAt":null,"_id":"5fbd5bde5fd85f00069186b4","key":"11435","name":"82.99 MACROSS 82-99","uploader":{"_id":"5cff0b7798cc5a672c855bb6","username":"epg7ens"},"hash":"7555522308b9ed339a03ea574dd0b298d323349f","uploaded":"2020-11-24T19:15:42.711Z","directDownload":"/cdn/11435/7555522308b9ed339a03ea574dd0b298d323349f.zip","downloadURL":"/api/download/key/11435","coverURL":"/cdn/11435/7555522308b9ed339a03ea574dd0b298d323349f.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":317,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":904.8702392578125,"length":313,"njs":20,"njsOffset":-0.3199999928474426,"bombs":0,"notes":1914,"obstacles":116},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"EOP Glacier","songAuthorName":"Hatsuki Yura","songName":"Drivi'n Greedy","songSubName":"Nhato Remix","bpm":173},"stats":{"downloads":330,"plays":0,"downVotes":0,"upVotes":3,"heat":1803.443705,"rating":0.6705937099936721},"description":"This has been in my WIP folder for months but it's finally finished\n\nSong Stats:\nTop/Middle/Bottom Split:\n10%/32%/57%\nNPS: 6.02\nLights: 4,191","deletedAt":null,"_id":"5fbdadb8e3a5a20006f981d6","key":"11482","name":"Hatsuki Yura - Drivi'n Greedy","uploader":{"_id":"5d50e360adb1a20006305ca0","username":"eop glacier"},"hash":"2d000f27e4bf8a591f16cdd5322279186492b3ea","uploaded":"2020-11-25T01:04:56.269Z","directDownload":"/cdn/11482/2d000f27e4bf8a591f16cdd5322279186492b3ea.zip","downloadURL":"/api/download/key/11482","coverURL":"/cdn/11482/2d000f27e4bf8a591f16cdd5322279186492b3ea.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":110,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":174.537,"length":58,"njs":23,"njsOffset":-0.5,"bombs":6,"notes":333,"obstacles":46},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"Astrella","songAuthorName":"Breakmaster Cylinder","songName":"The Most Gangster Drop","songSubName":"","bpm":180},"stats":{"downloads":16,"plays":0,"downVotes":0,"upVotes":0,"heat":1803.3840344,"rating":0},"description":"gangster awehfiuawefluiawehfaiuwhfewaf","deletedAt":null,"_id":"5fbdf719ea68e70007b21333","key":"1149e","name":"The Most Gangster Drop - Breakmaster Cylinder","uploader":{"_id":"5fa1e74381e1d70006f2cc01","username":"c0r3nn"},"hash":"d6a267ea3d6a0d715d1d320e7773ad646aa2a424","uploaded":"2020-11-25T06:18:01.546Z","directDownload":"/cdn/1149e/d6a267ea3d6a0d715d1d320e7773ad646aa2a424.zip","downloadURL":"/api/download/key/1149e","coverURL":"/cdn/1149e/d6a267ea3d6a0d715d1d320e7773ad646aa2a424.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":false,"hard":false,"normal":false},"duration":239,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":243.375,"length":101,"njs":12,"njsOffset":0,"bombs":0,"notes":300,"obstacles":2},"expertPlus":null,"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"Packz","songAuthorName":"Illenium, John Bellion","songName":"Good Things Fall Apart - Illenium, John Bellion","songSubName":"","bpm":144},"stats":{"downloads":74,"plays":0,"downVotes":0,"upVotes":0,"heat":1803.3043823,"rating":0},"description":"this is a test map dont download","deletedAt":null,"_id":"5fbde91900e48a00065ae757","key":"1149d","name":"tyui","uploader":{"_id":"5f9a3ba76ef6a20006d59aea","username":"milla"},"hash":"eb7f40e59ee44be638054b3ca41f4f4b7b5b357f","uploaded":"2020-11-25T05:18:17.204Z","directDownload":"/cdn/1149d/eb7f40e59ee44be638054b3ca41f4f4b7b5b357f.zip","downloadURL":"/api/download/key/1149d","coverURL":"/cdn/1149d/eb7f40e59ee44be638054b3ca41f4f4b7b5b357f.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":254,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":567.219970703125,"length":243,"njs":21,"njsOffset":0.20000000298023224,"bombs":0,"notes":1253,"obstacles":7},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"night","songAuthorName":"Coheed and Cambria","songName":"Unheavenly Creatures","songSubName":"","bpm":140},"stats":{"downloads":409,"plays":0,"downVotes":0,"upVotes":3,"heat":1803.2977382,"rating":0.6705937099936721},"description":"Had fun mapping this one :)\nSend Feedback on Discord: night#0101","deletedAt":null,"_id":"5fbd940f9107590006129976","key":"1146a","name":"Coheed and Cambria - Unheavenly Creatures","uploader":{"_id":"5e244b8c003ea300067e67eb","username":"night"},"hash":"708d4a5c44c45a57d636b21c531cddde71674302","uploaded":"2020-11-24T23:15:27.762Z","directDownload":"/cdn/1146a/708d4a5c44c45a57d636b21c531cddde71674302.zip","downloadURL":"/api/download/key/1146a","coverURL":"/cdn/1146a/708d4a5c44c45a57d636b21c531cddde71674302.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":74,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":399,"length":106,"njs":23,"njsOffset":-0.20000000298023224,"bombs":0,"notes":931,"obstacles":0},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"DE125","songAuthorName":"you","songName":"Melancholia","songSubName":"(EKU's Desolation Remix) (Literally Just the First Drop Ver.)","bpm":225},"stats":{"downloads":85,"plays":0,"downVotes":0,"upVotes":0,"heat":1803.2910497,"rating":0},"description":"Literally just the first drop.\nI overmapped this so the pattern would work B)\n\nDm with issues @DE125#0001 if the issue isn't cringe saut burnt rice pattern","deletedAt":null,"_id":"5fbde6c1ea68e70007b20165","key":"1149c","name":"you - Melancholia (EKU's Desolation Remix) (TV Size)","uploader":{"_id":"5cff0b7798cc5a672c8554ba","username":"de125"},"hash":"2cb3a27602b362a6265fdfd543f4eec31f957ba4","uploaded":"2020-11-25T05:08:17.236Z","directDownload":"/cdn/1149c/2cb3a27602b362a6265fdfd543f4eec31f957ba4.zip","downloadURL":"/api/download/key/1149c","coverURL":"/cdn/1149c/2cb3a27602b362a6265fdfd543f4eec31f957ba4.jpg"},{"metadata":{"difficulties":{"easy":true,"expert":false,"expertPlus":false,"hard":false,"normal":false},"duration":6,"automapper":null,"characteristics":[{"difficulties":{"easy":{"duration":15.5,"length":5,"njs":18,"njsOffset":0,"bombs":0,"notes":6,"obstacles":0},"expert":null,"expertPlus":null,"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"Reddek","songAuthorName":"G","songName":"I like your cock G","songSubName":"","bpm":157.1999969482422},"stats":{"downloads":585,"plays":0,"downVotes":0,"upVotes":5,"heat":1803.273026,"rating":0.7084432256108616},"description":"why not","deletedAt":null,"_id":"5fbd68b800e48a00065a3663","key":"11445","name":"I like your cock G","uploader":{"_id":"5dbfb4426dea0b0006bd328d","username":"reddek"},"hash":"d3be6bc67cda1f13b3ac91c6b98d90605153f7f9","uploaded":"2020-11-24T20:10:32.522Z","directDownload":"/cdn/11445/d3be6bc67cda1f13b3ac91c6b98d90605153f7f9.zip","downloadURL":"/api/download/key/11445","coverURL":"/cdn/11445/d3be6bc67cda1f13b3ac91c6b98d90605153f7f9.jpg"},{"metadata":{"difficulties":{"easy":true,"expert":true,"expertPlus":false,"hard":true,"normal":true},"duration":96,"automapper":null,"characteristics":[{"difficulties":{"easy":{"duration":269.302083,"length":89,"njs":8,"njsOffset":0,"bombs":0,"notes":179,"obstacles":18},"expert":{"duration":269.302083,"length":89,"njs":15,"njsOffset":0,"bombs":14,"notes":403,"obstacles":112},"expertPlus":null,"hard":{"duration":269.302083,"length":89,"njs":13,"njsOffset":0,"bombs":11,"notes":360,"obstacles":102},"normal":{"duration":269.302083,"length":89,"njs":10,"njsOffset":0,"bombs":20,"notes":286,"obstacles":30}},"name":"Standard"}],"levelAuthorName":"rodysan","songAuthorName":"Ryu*","songName":"Sakura Sunrise","songSubName":"","bpm":181},"stats":{"downloads":91,"plays":0,"downVotes":0,"upVotes":0,"heat":1803.2705277,"rating":0},"description":"9","deletedAt":null,"_id":"5fbde325ea68e70007b1fd1e","key":"1149b","name":"Sakura Sunrise - Ryu☆","uploader":{"_id":"5fabfd44fe23c6000688154a","username":"rodysan"},"hash":"eea9c9813c1a06ce2ea754a4d4557f98bdc33d33","uploaded":"2020-11-25T04:52:53.745Z","directDownload":"/cdn/1149b/eea9c9813c1a06ce2ea754a4d4557f98bdc33d33.zip","downloadURL":"/api/download/key/1149b","coverURL":"/cdn/1149b/eea9c9813c1a06ce2ea754a4d4557f98bdc33d33.png"}],"totalDocs":35532,"lastPage":3553,"prevPage":null,"nextPage":1}"#.into());
            client.maps_hot().await.unwrap();
        }
        #[async_test]
        async fn test_maps_hot_page() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/hot/2").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":true,"hard":true,"normal":false},"duration":235,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":488.125,"length":232,"njs":19,"njsOffset":0.30000001192092896,"bombs":120,"notes":1643,"obstacles":94},"expertPlus":{"duration":487.625,"length":232,"njs":24,"njsOffset":0.20000000298023224,"bombs":124,"notes":1843,"obstacles":13},"hard":{"duration":488,"length":232,"njs":15,"njsOffset":0,"bombs":8,"notes":966,"obstacles":194},"normal":null},"name":"Standard"}],"levelAuthorName":"Mr.Mrow","songAuthorName":"Juggernaut.","songName":"Abyss","songSubName":"Counterfate","bpm":126},"stats":{"downloads":807,"plays":0,"downVotes":0,"upVotes":4,"heat":1811.014434,"rating":0.6919940778277485},"description":"Yo ItsMagma yo how do you be, I guess you'll mod this version too\nImplemented some feedback, simple up down map\n\nMr.Mrow#8039 for feedback","deletedAt":null,"_id":"5fc2ca8cf9ebbf000692dffe","key":"1170d","name":"Juggernaut - Abyss","uploader":{"_id":"5f1228528f03870006b5d00c","username":"mr.mrow"},"hash":"0859aa5c4c5985ecd1201d14b1bb3d3e80ce7fe1","uploaded":"2020-11-28T22:09:16.831Z","directDownload":"/cdn/1170d/0859aa5c4c5985ecd1201d14b1bb3d3e80ce7fe1.zip","downloadURL":"/api/download/key/1170d","coverURL":"/cdn/1170d/0859aa5c4c5985ecd1201d14b1bb3d3e80ce7fe1.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":169,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":420.25,"length":168,"njs":21,"njsOffset":-0.800000011920929,"bombs":32,"notes":1035,"obstacles":458},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"Fvrwvrd","songAuthorName":"Xilent","songName":"Run","songSubName":"","bpm":150},"stats":{"downloads":558,"plays":0,"downVotes":0,"upVotes":2,"heat":1811.0060785,"rating":0.6407951473548253},"description":"gamer streams.\n\nI think i'm getting better at this mappeing thing\n\nfvrwvrd#2472 on discord for feedback. pls give","deletedAt":null,"_id":"5fc2fdff62bd1c0007a277ef","key":"1176c","name":"Xilent - Run","uploader":{"_id":"5f7bd3c84bf28e00062a6286","username":"fvrwvrd"},"hash":"31a2090b68a28617d2060a97f66bc28d14e66952","uploaded":"2020-11-29T01:48:47.182Z","directDownload":"/cdn/1176c/31a2090b68a28617d2060a97f66bc28d14e66952.zip","downloadURL":"/api/download/key/1176c","coverURL":"/cdn/1176c/31a2090b68a28617d2060a97f66bc28d14e66952.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":false,"hard":false,"normal":false},"duration":236,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":413.75,"length":236,"njs":15,"njsOffset":0,"bombs":73,"notes":576,"obstacles":12},"expertPlus":null,"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"mspchill","songAuthorName":"Scott Gairdner","songName":"S*x Offender Shuffle ","songSubName":"","bpm":105},"stats":{"downloads":443,"plays":0,"downVotes":0,"upVotes":0,"heat":1810.9783342,"rating":0},"description":"The state of Florida has asked us to, make a Beat Saber map for you.","deletedAt":null,"_id":"5fc32e09ec1c5f00073c3393","key":"117aa","name":"S*x Offender Shuffle (Redone)","uploader":{"_id":"5e993d26d87e580006d85faf","username":"mspchill"},"hash":"39f5231f354b09fd5cd8c67b1794b73da5934bb8","uploaded":"2020-11-29T05:13:45.039Z","directDownload":"/cdn/117aa/39f5231f354b09fd5cd8c67b1794b73da5934bb8.zip","downloadURL":"/api/download/key/117aa","coverURL":"/cdn/117aa/39f5231f354b09fd5cd8c67b1794b73da5934bb8.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":true,"hard":false,"normal":false},"duration":274,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":638,"length":273,"njs":21,"njsOffset":0.400000005960464,"bombs":0,"notes":1674,"obstacles":0},"expertPlus":{"duration":638,"length":273,"njs":21,"njsOffset":0.400000005960464,"bombs":0,"notes":1674,"obstacles":1427},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"Verlexin","songAuthorName":"Code: Pandorum","songName":"Overseers","songSubName":"feat. Bratkilla","bpm":140},"stats":{"downloads":547,"plays":0,"downVotes":0,"upVotes":2,"heat":1810.9743956,"rating":0.6407951473548253},"description":"my proudest map so far, DARK (ex) has no walls and VOID (ex+) has the walls. :)","deletedAt":null,"_id":"5fc2f86d9f95e80006d2f51a","key":"11760","name":"Code: Pandorum & Bratkilla - Overseers","uploader":{"_id":"5e894f912a340900068db88c","username":"verlexin"},"hash":"0d628b3a8b694096b241fa13d2aa690ff1eb38f0","uploaded":"2020-11-29T01:25:01.453Z","directDownload":"/cdn/11760/0d628b3a8b694096b241fa13d2aa690ff1eb38f0.zip","downloadURL":"/api/download/key/11760","coverURL":"/cdn/11760/0d628b3a8b694096b241fa13d2aa690ff1eb38f0.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":false,"hard":false,"normal":false},"duration":23,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":27.578125,"length":23,"njs":15,"njsOffset":0,"bombs":10,"notes":152,"obstacles":0},"expertPlus":null,"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"mspchill","songAuthorName":"saturdaynightbigsalaryman","songName":"New Anime Plot","songSubName":"","bpm":70},"stats":{"downloads":430,"plays":0,"downVotes":0,"upVotes":0,"heat":1810.8794728,"rating":0},"description":"i got this new anime plot. basically there’s this high school girl except she’s got huge bunkers. i mean some serious honkers. a real set of badonkers. packin some dobonhonkeros. massive dohoonkabhankoloos. big ol’ tonhongerekoogers. what happens next?! transfer student shows up with even bigger bonkhonagahoogs. humongous hungolomghononoloughongous","deletedAt":null,"_id":"5fc31ca862bd1c0007a29993","key":"1179a","name":"New Anime Plot (Redone)","uploader":{"_id":"5e993d26d87e580006d85faf","username":"mspchill"},"hash":"7e3cdc22855ee91272b71e885c3f74335b3a6208","uploaded":"2020-11-29T03:59:36.274Z","directDownload":"/cdn/1179a/7e3cdc22855ee91272b71e885c3f74335b3a6208.zip","downloadURL":"/api/download/key/1179a","coverURL":"/cdn/1179a/7e3cdc22855ee91272b71e885c3f74335b3a6208.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":false,"hard":false,"normal":false},"duration":467,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":950.5875244140625,"length":456,"njs":12,"njsOffset":0,"bombs":16,"notes":1585,"obstacles":394},"expertPlus":null,"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"phunkyspelunky","songAuthorName":"Tame Impala","songName":"Let It Happen","songSubName":"","bpm":125},"stats":{"downloads":804,"plays":0,"downVotes":0,"upVotes":3,"heat":1810.8530357,"rating":0.6705937099936721},"description":"May add more difficulties in the near future. Enjoy :)","deletedAt":null,"_id":"5fc2c4249f95e80006d2af52","key":"11706","name":"Tame Impala - Let It Happen (Expert) ","uploader":{"_id":"5fa85d017925e2000613610e","username":"phunkyspelunky"},"hash":"6674b0161cda51ce3d1cb2c208cd4faaa12bdb70","uploaded":"2020-11-28T21:41:56.148Z","directDownload":"/cdn/11706/6674b0161cda51ce3d1cb2c208cd4faaa12bdb70.zip","downloadURL":"/api/download/key/11706","coverURL":"/cdn/11706/6674b0161cda51ce3d1cb2c208cd4faaa12bdb70.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":false,"hard":true,"normal":false},"duration":158,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":null,"hard":{"duration":231.69166564941406,"length":139,"njs":12,"njsOffset":0,"bombs":102,"notes":426,"obstacles":4},"normal":null},"name":"Standard"}],"levelAuthorName":"unknow","songAuthorName":"unknow","songName":"unknow","songSubName":"","bpm":100},"stats":{"downloads":459,"plays":0,"downVotes":1,"upVotes":0,"heat":1810.8503299,"rating":0.40583635249095656},"description":"A hip hop remix of Amelia Watson's ASMR Stream by Holo Bass","deletedAt":null,"_id":"5fc31788c09f4c0006f243b4","key":"11799","name":"Amelia Watson - Pop on Rocks A Dr. Seuss Rap","uploader":{"_id":"5f1a4db6a51f7f0006f1ac69","username":"budderbroham"},"hash":"2a8ab6a3439f365e834fa5d6d0446838eda8fe6e","uploaded":"2020-11-29T03:37:44.846Z","directDownload":"/cdn/11799/2a8ab6a3439f365e834fa5d6d0446838eda8fe6e.zip","downloadURL":"/api/download/key/11799","coverURL":"/cdn/11799/2a8ab6a3439f365e834fa5d6d0446838eda8fe6e.png"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":267,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":893.75,"length":255,"njs":23,"njsOffset":-0.5,"bombs":12,"notes":2669,"obstacles":95},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"Retrx","songAuthorName":"Camellia","songName":"The King Of Lions","songSubName":"","bpm":210},"stats":{"downloads":420,"plays":0,"downVotes":0,"upVotes":1,"heat":1810.8466323,"rating":0.5941636475090435},"description":"","deletedAt":null,"_id":"5fc316e2c09f4c0006f24324","key":"11798","name":"King of Lions","uploader":{"_id":"5ef3d186f82f170006c0aad8","username":"retrx"},"hash":"49b27568c702b6ceb9eb2d99555aa24893231390","uploaded":"2020-11-29T03:34:58.452Z","directDownload":"/cdn/11798/49b27568c702b6ceb9eb2d99555aa24893231390.zip","downloadURL":"/api/download/key/11798","coverURL":"/cdn/11798/49b27568c702b6ceb9eb2d99555aa24893231390.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":199,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":395.125,"length":189,"njs":20,"njsOffset":0.25,"bombs":0,"notes":560,"obstacles":43},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"Ryger","songAuthorName":"Rone","songName":"Lou","songSubName":"","bpm":125},"stats":{"downloads":424,"plays":0,"downVotes":0,"upVotes":1,"heat":1810.8344219,"rating":0.5941636475090435},"description":"","deletedAt":null,"_id":"5fc314bcec1c5f00073c171b","key":"11795","name":"Rone - Lou","uploader":{"_id":"5cff0b7798cc5a672c855a42","username":"ryger"},"hash":"6cacaae1760882e0b75bc6e6d97b8d0f9af2f218","uploaded":"2020-11-29T03:25:48.986Z","directDownload":"/cdn/11795/6cacaae1760882e0b75bc6e6d97b8d0f9af2f218.zip","downloadURL":"/api/download/key/11795","coverURL":"/cdn/11795/6cacaae1760882e0b75bc6e6d97b8d0f9af2f218.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":227,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":476.75,"length":228,"njs":20,"njsOffset":0,"bombs":27,"notes":2241,"obstacles":11},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"ImAbstr4kt","songAuthorName":"LHUGUENY","songName":"Undertale the Musical","songSubName":"","bpm":125},"stats":{"downloads":451,"plays":0,"downVotes":1,"upVotes":1,"heat":1810.7784936,"rating":0.5},"description":"A beautiful shitmap made in 2 hours, if you manage to pass this PLEASE send me a video. I would love to see it.\n\nFeedback: Abstr4kt#2416","deletedAt":null,"_id":"5fc30ae8f9ebbf000693349f","key":"11780","name":"LHUGUENY - Undertale the Musical","uploader":{"_id":"5f03a0cdc51ba90006d82f45","username":"imabstr4kt"},"hash":"48d4519cd15d323b4545845c7ce62a9899eec64e","uploaded":"2020-11-29T02:43:52.211Z","directDownload":"/cdn/11780/48d4519cd15d323b4545845c7ce62a9899eec64e.zip","downloadURL":"/api/download/key/11780","coverURL":"/cdn/11780/48d4519cd15d323b4545845c7ce62a9899eec64e.jpg"}],"totalDocs":35737,"lastPage":3573,"prevPage":1,"nextPage":3}"#.into());
            client.maps_hot_page(2).await.unwrap();
        }
        #[async_test]
        async fn test_maps_rating() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/rating/0").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":417,"length":195,"bombs":4,"notes":301,"obstacles":24,"njs":10,"njsOffset":0},"hard":{"duration":417,"length":195,"bombs":4,"notes":486,"obstacles":24,"njs":10,"njsOffset":0},"expert":{"duration":417.5,"length":195,"bombs":4,"notes":620,"obstacles":24,"njs":10,"njsOffset":0},"expertPlus":{"duration":417.5,"length":195,"bombs":0,"notes":894,"obstacles":0,"njs":12,"njsOffset":0}}}],"songName":"Shut Up and Dance","songSubName":"WALK THE MOON","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":128},"stats":{"downloads":422048,"plays":558,"downVotes":136,"upVotes":10824,"heat":395.8248964,"rating":0.9579470354714587},"description":"Difficulties: Expert+ (Added 11/15), Expert, Hard, Normal\r\nYouTube Preview: https://youtu.be/x9hJbTlPQUY","deletedAt":null,"_id":"5cff621148229f7d88fc77c9","key":"2144","name":"Shut Up and Dance - WALK THE MOON","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-11-21T01:27:00.000Z","hash":"89cf8bb07afb3c59ae7b5ac00337d62261c36fb4","directDownload":"/cdn/2144/89cf8bb07afb3c59ae7b5ac00337d62261c36fb4.zip","downloadURL":"/api/download/key/2144","coverURL":"/cdn/2144/89cf8bb07afb3c59ae7b5ac00337d62261c36fb4.png"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":623.3125,"length":214,"bombs":0,"notes":462,"obstacles":25,"njs":10,"njsOffset":0},"hard":{"duration":623.3125,"length":214,"bombs":0,"notes":639,"obstacles":40,"njs":10,"njsOffset":0},"expert":{"duration":623.3125,"length":214,"bombs":0,"notes":825,"obstacles":40,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Mr. Blue Sky","songSubName":"Electric Light Orchestra","songAuthorName":"GreatYazer","levelAuthorName":"greatyazer","bpm":174},"stats":{"downloads":929036,"plays":39426,"downVotes":485,"upVotes":22691,"heat":94.0178926,"rating":0.9558250129688451},"description":"Channel your inner Baby Groot.  Normal, Hard, Expert\r\nSpecial thanks to BennydaBeast for his help on this track!","deletedAt":null,"_id":"5cff620d48229f7d88fc65f7","key":"570","name":"Mr. Blue Sky | Electric Light Orchestra","uploader":{"_id":"5cff0b7298cc5a672c84ea71","username":"greatyazer"},"uploaded":"2018-06-16T16:53:34.000Z","hash":"236173d5ba7dc379d480b9cb5fb6b4fa5abe77da","directDownload":"/cdn/570/236173d5ba7dc379d480b9cb5fb6b4fa5abe77da.zip","downloadURL":"/api/download/key/570","coverURL":"/cdn/570/236173d5ba7dc379d480b9cb5fb6b4fa5abe77da.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":475,"length":226,"bombs":0,"notes":620,"obstacles":10,"njs":10,"njsOffset":0},"expert":{"duration":475,"length":226,"bombs":0,"notes":738,"obstacles":11,"njs":12,"njsOffset":0},"expertPlus":null}}],"songName":"Feel Invincible","songSubName":"Skillet","songAuthorName":"Rustic","levelAuthorName":"rustic","bpm":126},"stats":{"downloads":266051,"plays":3479,"downVotes":90,"upVotes":7150,"heat":231.7515825,"rating":0.9539859440299348},"description":"Expert / Hard\r\nhttps://www.youtube.com/watch?v=nq-Qul4XxbE","deletedAt":null,"_id":"5cff620f48229f7d88fc6eba","key":"121f","name":"Skillet - Feel Invincible","uploader":{"_id":"5cff0b7298cc5a672c84e8c4","username":"rustic"},"uploaded":"2018-08-27T16:47:05.000Z","hash":"2e9ab6e1fb8055649e241cade98b018926cc93a8","directDownload":"/cdn/121f/2e9ab6e1fb8055649e241cade98b018926cc93a8.zip","downloadURL":"/api/download/key/121f","coverURL":"/cdn/121f/2e9ab6e1fb8055649e241cade98b018926cc93a8.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":{"duration":476.7637634277344,"length":173,"bombs":52,"notes":722,"obstacles":28,"njs":14,"njsOffset":0},"expertPlus":null}}],"songName":"Caramelldansen (Speedcake Remix)","songSubName":"Caramell","songAuthorName":"Dack","levelAuthorName":"Dack","bpm":165},"stats":{"downloads":257793,"plays":0,"downVotes":249,"upVotes":13203,"heat":604.9856039,"rating":0.9539671938016036},"description":"Preview: https://youtu.be/V5p0HOzunY0\n\n\nPatreon: https://www.patreon.com/Dack","deletedAt":null,"_id":"5cff621548229f7d88fc8904","key":"3cf5","name":"Caramelldansen","uploader":{"_id":"5cff0b7598cc5a672c852c6f","username":"dack"},"uploaded":"2019-03-09T22:54:54.000Z","hash":"cf5e32d6b7f30095f7198da5894139c92336cad7","directDownload":"/cdn/3cf5/cf5e32d6b7f30095f7198da5894139c92336cad7.zip","downloadURL":"/api/download/key/3cf5","coverURL":"/cdn/3cf5/cf5e32d6b7f30095f7198da5894139c92336cad7.jpg"},{"metadata":{"difficulties":{"easy":true,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":{"duration":418,"length":200,"bombs":0,"notes":216,"obstacles":0,"njs":10,"njsOffset":0},"normal":{"duration":418,"length":200,"bombs":0,"notes":388,"obstacles":8,"njs":10,"njsOffset":0},"hard":{"duration":418,"length":200,"bombs":0,"notes":514,"obstacles":10,"njs":11,"njsOffset":0},"expert":{"duration":418,"length":200,"bombs":0,"notes":560,"obstacles":12,"njs":12,"njsOffset":0},"expertPlus":null}}],"songName":"Believer (100k ver.)","songSubName":"Imagine Dragons","songAuthorName":"Rustic","levelAuthorName":"rustic","bpm":125},"stats":{"downloads":514839,"plays":9381,"downVotes":217,"upVotes":11958,"heat":379.9016606,"rating":0.953774738159888},"description":"This is one of the 22 maps that were mapped for the 100k Contest where you can win over $7,000 in prizes. Go to https://bsaber.com/100k-contest/ to register!","deletedAt":null,"_id":"5cff621148229f7d88fc76ec","key":"1fef","name":"Imagine Dragons - Believer (100k ver.) | 100k Contest","uploader":{"_id":"5cff0b7298cc5a672c84e8c4","username":"rustic"},"uploaded":"2018-11-12T17:53:58.000Z","hash":"9a7a5beadfdd1c7c0f137ecba6e5f6ff377eb390","directDownload":"/cdn/1fef/9a7a5beadfdd1c7c0f137ecba6e5f6ff377eb390.zip","downloadURL":"/api/download/key/1fef","coverURL":"/cdn/1fef/9a7a5beadfdd1c7c0f137ecba6e5f6ff377eb390.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":501.19000244140625,"length":227,"bombs":0,"notes":671,"obstacles":16,"njs":10,"njsOffset":0},"expert":{"duration":501.19000244140625,"length":227,"bombs":0,"notes":831,"obstacles":16,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Daddy","songSubName":"PSY","songAuthorName":"Fafurion","levelAuthorName":"fafurion","bpm":132},"stats":{"downloads":251102,"plays":2330,"downVotes":123,"upVotes":8386,"heat":243.8954711,"rating":0.953687887575571},"description":"Insanely fun dance map! Enjoy!\r\nSee the map in action (Expert): https://www.youtube.com/watch?v=cWz6flYGs20\r\n\r\nThank you to my playtesters:\r\nQTPop (https://www.twitch.tv/qtpop)\r\nDuoVR (https://www.twitch.tv/duovr)\r\nSourgurl (https://www.twitch.tv/sourgurl)\r\nRexxxzi (https://www.twitch.tv/rexxxzi)\r\nAshleyriott (https://www.twitch.tv/ashleyriott)\r\n\r\nDiscord: @Fufu#5452","deletedAt":null,"_id":"5cff620f48229f7d88fc6f6c","key":"133b","name":"Daddy - PSY","uploader":{"_id":"5cff0b7398cc5a672c84f945","username":"fafurion"},"uploaded":"2018-09-02T23:43:45.000Z","hash":"dc489921185f92dfecb9cb07b84fc556123bd134","directDownload":"/cdn/133b/dc489921185f92dfecb9cb07b84fc556123bd134.zip","downloadURL":"/api/download/key/133b","coverURL":"/cdn/133b/dc489921185f92dfecb9cb07b84fc556123bd134.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":523.625,"length":245,"bombs":0,"notes":633,"obstacles":13,"njs":10,"njsOffset":0},"expert":{"duration":523.5650024414062,"length":245,"bombs":0,"notes":880,"obstacles":19,"njs":12,"njsOffset":0},"expertPlus":null}}],"songName":"Uprising","songSubName":"Muse","songAuthorName":"Rustic","levelAuthorName":"rustic","bpm":128},"stats":{"downloads":458225,"plays":11598,"downVotes":163,"upVotes":9224,"heat":84.4207539,"rating":0.9518918933740727},"description":"Expert / Hard\r\nhttps://youtu.be/WpFUt3UNp7c","deletedAt":null,"_id":"5cff620d48229f7d88fc655e","key":"4c6","name":"Muse - Uprising","uploader":{"_id":"5cff0b7298cc5a672c84e8c4","username":"rustic"},"uploaded":"2018-06-11T21:47:41.000Z","hash":"00e5671e594a6fe621c3605fcc5a0e4466ba6478","directDownload":"/cdn/4c6/00e5671e594a6fe621c3605fcc5a0e4466ba6478.zip","downloadURL":"/api/download/key/4c6","coverURL":"/cdn/4c6/00e5671e594a6fe621c3605fcc5a0e4466ba6478.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":true,"hard":false,"normal":false},"duration":0,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":547,"length":234,"njs":12,"njsOffset":0,"bombs":0,"notes":705,"obstacles":10},"expertPlus":{"duration":547,"length":234,"njs":16,"njsOffset":0,"bombs":0,"notes":876,"obstacles":10},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"KikaeAeon","songAuthorName":"League of Legends & Against The Current","songName":"Legends Never Die","songSubName":"","bpm":140},"stats":{"downloads":142656,"plays":0,"downVotes":87,"upVotes":6241,"heat":997.2555043,"rating":0.9513740970623574},"description":"A special request from Prima1URGE","deletedAt":null,"_id":"5d91d6c1871b1a0006f9b3e7","key":"66e6","name":"League of Legends - Legends never die (ft. Against The Current)","uploader":{"_id":"5cff0b7498cc5a672c85109b","username":"kikaeaeon"},"hash":"732bd4072b89d4b3bf0e63db812a7ffc3096e837","uploaded":"2019-09-30T10:19:45.606Z","directDownload":"/cdn/66e6/732bd4072b89d4b3bf0e63db812a7ffc3096e837.zip","downloadURL":"/api/download/key/66e6","coverURL":"/cdn/66e6/732bd4072b89d4b3bf0e63db812a7ffc3096e837.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":578,"length":194,"bombs":8,"notes":519,"obstacles":86,"njs":13,"njsOffset":0},"expert":{"duration":578,"length":194,"bombs":10,"notes":679,"obstacles":86,"njs":16,"njsOffset":0},"expertPlus":null}}],"songName":"Flamingo","songSubName":"Kero Kero Bonito","songAuthorName":"ETAN","levelAuthorName":"ETAN","bpm":178},"stats":{"downloads":142323,"plays":0,"downVotes":90,"upVotes":6344,"heat":744.9785357,"rating":0.9513253928566593},"description":"edited: NJS was a tad slow my b\r\nfuramingo \r\noh oh ooh oh\r\nthis needed to be remapped\r\n \r\nPlease check out Kero Kero Bonito and the rest of their songs\r\nI'll be mappin more of em soon\r\n\r\nBPM 178\r\nFlamingo (Expert)\r\nShrimp (Hard)\r\n\r\nhave fun \r\n\r\ngimme feedback on Discord\r\nETAN#8341","deletedAt":null,"_id":"5cff621748229f7d88fc93fc","key":"4e6f","name":"Kero Kero Bonito - Flamingo","uploader":{"_id":"5cff0b7798cc5a672c855775","username":"etan"},"uploaded":"2019-05-22T00:46:47.000Z","hash":"585ee25e654ebf5db5aa0ec02c3bcecbaccf3e0b","directDownload":"/cdn/4e6f/585ee25e654ebf5db5aa0ec02c3bcecbaccf3e0b.zip","downloadURL":"/api/download/key/4e6f","coverURL":"/cdn/4e6f/585ee25e654ebf5db5aa0ec02c3bcecbaccf3e0b.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":{"duration":689.8004760742188,"length":242,"bombs":16,"notes":1093,"obstacles":16,"njs":14,"njsOffset":0},"expertPlus":null}}],"songName":"IGNITE","songSubName":"Aoi Eir","songAuthorName":"Joetastic","levelAuthorName":"Joetastic","bpm":171},"stats":{"downloads":266468,"plays":0,"downVotes":141,"upVotes":7933,"heat":451.3606934,"rating":0.9503730517090982},"description":"Trying to get this version ranked! New version with changes according to the ranking criteria: Double directional notes fixed, flow improvements, removed fast dodge walls on bridge section.","deletedAt":null,"_id":"5cff621248229f7d88fc7b21","key":"26f6","name":"IGNITE (Ranked Version) [Sword Art Online Season 2 Opening] - Aoi Eir","uploader":{"_id":"5cff0b7498cc5a672c85050e","username":"joetastic"},"uploaded":"2018-12-20T01:21:47.000Z","hash":"125b07ebcc06fe9667e83fc2d6b9ae5ecbc72e8c","directDownload":"/cdn/26f6/125b07ebcc06fe9667e83fc2d6b9ae5ecbc72e8c.zip","downloadURL":"/api/download/key/26f6","coverURL":"/cdn/26f6/125b07ebcc06fe9667e83fc2d6b9ae5ecbc72e8c.jpg"}],"totalDocs":35533,"lastPage":3553,"prevPage":null,"nextPage":1}"#.into());
            client.maps_rating().await.unwrap();
        }
        #[async_test]
        async fn test_maps_rating_page() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/rating/2").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":401.92266845703125,"length":207,"bombs":0,"notes":423,"obstacles":7,"njs":10,"njsOffset":0},"hard":{"duration":401.92266845703125,"length":207,"bombs":0,"notes":507,"obstacles":32,"njs":10,"njsOffset":0},"expert":{"duration":401.9254150390625,"length":207,"bombs":0,"notes":771,"obstacles":32,"njs":10,"njsOffset":0},"expertPlus":{"duration":401.92266845703125,"length":207,"bombs":0,"notes":873,"obstacles":32,"njs":10,"njsOffset":0}}}],"songName":"New Rules","songSubName":"Dua Lipa","songAuthorName":"BennyDaBeast (Lighting: Heisenberg)","levelAuthorName":"bennydabeast","bpm":116},"stats":{"downloads":300360,"plays":7319,"downVotes":115,"upVotes":6006,"heat":168.6420112,"rating":0.9463489464557748},"description":"Difficulties: Expert+, Expert, Hard, Normal\r\nYouTube Preview: https://youtu.be/Ohq6cA_1NAE\r\nLighting by Heisenberg: https://beatsaver.com/index.php/browse/byuser/1089","deletedAt":null,"_id":"5cff620e48229f7d88fc6afc","key":"bd3","name":"New Rules - Dua Lipa","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-07-25T20:53:52.000Z","hash":"674b1b540ac5851c92c8cde7dd456698f5a733c4","directDownload":"/cdn/bd3/674b1b540ac5851c92c8cde7dd456698f5a733c4.zip","downloadURL":"/api/download/key/bd3","coverURL":"/cdn/bd3/674b1b540ac5851c92c8cde7dd456698f5a733c4.png"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":false,"hard":false,"normal":false},"duration":0,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":569.0850219726562,"length":200,"njs":14,"njsOffset":0,"bombs":0,"notes":651,"obstacles":42},"expertPlus":null,"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"Joetastic","songAuthorName":"Twenty One Pilots","songName":"Stressed Out","songSubName":"","bpm":170},"stats":{"downloads":132241,"plays":0,"downVotes":61,"upVotes":4008,"heat":922.5037945,"rating":0.9452754283183059},"description":"\"Stressed Out\" is a song by American musical duo Twenty One Pilots, for their fourth studio album, Blurryface. Written by Tyler Joseph and produced by Mike Elizondo, the lyrics discuss the harsh end of adolescence and the transition to adulthood.","deletedAt":null,"_id":"5d5ea4b62c316f000688d7b7","key":"5e81","name":"Stressed Out - Twenty One Pilots","uploader":{"_id":"5cff0b7498cc5a672c85050e","username":"joetastic"},"hash":"068a80d89857a6a2221f54e8a5d374584b2db77e","uploaded":"2019-08-22T14:20:38.731Z","directDownload":"/cdn/5e81/068a80d89857a6a2221f54e8a5d374584b2db77e.zip","downloadURL":"/api/download/key/5e81","coverURL":"/cdn/5e81/068a80d89857a6a2221f54e8a5d374584b2db77e.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":454,"length":252,"bombs":0,"notes":321,"obstacles":14,"njs":10,"njsOffset":0},"hard":{"duration":454,"length":252,"bombs":0,"notes":432,"obstacles":14,"njs":10,"njsOffset":0},"expert":{"duration":454,"length":252,"bombs":0,"notes":680,"obstacles":14,"njs":10,"njsOffset":0},"expertPlus":{"duration":454,"length":252,"bombs":0,"notes":810,"obstacles":14,"njs":10,"njsOffset":0}}}],"songName":"Some Nights","songSubName":"Fun.","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":108},"stats":{"downloads":294845,"plays":6779,"downVotes":133,"upVotes":6250,"heat":199.3520718,"rating":0.9448837394753198},"description":"Difficulties: Expert+, Expert, Hard, Normal\r\nYouTube Preview: https://youtu.be/X4R7VIZPffk","deletedAt":null,"_id":"5cff620f48229f7d88fc6cee","key":"efe","name":"Some Nights - Fun.","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-08-10T20:34:09.000Z","hash":"e64d6b7c5527d36005ae1801268798dd21ccf605","directDownload":"/cdn/efe/e64d6b7c5527d36005ae1801268798dd21ccf605.zip","downloadURL":"/api/download/key/efe","coverURL":"/cdn/efe/e64d6b7c5527d36005ae1801268798dd21ccf605.png"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":false,"hard":false,"normal":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":{"duration":389.8768310546875,"length":182,"bombs":0,"notes":721,"obstacles":8,"njs":14,"njsOffset":0},"expertPlus":null}}],"levelAuthorName":"Joetastic","songAuthorName":"Run DMC","songName":"It's Tricky","songSubName":"","bpm":128},"stats":{"downloads":104893,"plays":0,"downVotes":34,"upVotes":2955,"heat":824.6964382,"rating":0.9447017186713489},"description":"\"It's Tricky\" is the fourth and final single released from Run-DMC's third album, Raising Hell which was released early in 1987. \n\nThis is one of favorite workout songs, can't believe I haven't mapped it yet :P","deletedAt":null,"_id":"5d1b92fe1aea5f0006478bd9","key":"5552","name":"It's Tricky - Run DMC","uploader":{"_id":"5cff0b7498cc5a672c85050e","username":"joetastic"},"hash":"9027d4274febf8722078a5f70b51da58cf433322","uploaded":"2019-07-02T17:23:10.798Z","directDownload":"/cdn/5552/9027d4274febf8722078a5f70b51da58cf433322.zip","downloadURL":"/api/download/key/5552","coverURL":"/cdn/5552/9027d4274febf8722078a5f70b51da58cf433322.jpg"},{"metadata":{"difficulties":{"easy":true,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":{"duration":429.5,"length":201,"bombs":0,"notes":297,"obstacles":88,"njs":10,"njsOffset":0},"normal":{"duration":429.54266357421875,"length":201,"bombs":0,"notes":343,"obstacles":88,"njs":10,"njsOffset":0},"hard":{"duration":429.54266357421875,"length":201,"bombs":0,"notes":524,"obstacles":125,"njs":12,"njsOffset":0},"expert":{"duration":429.5,"length":201,"bombs":0,"notes":695,"obstacles":100,"njs":12,"njsOffset":0},"expertPlus":null}}],"songName":"Moves Like Jagger","songSubName":"Maroon 5 ft. Christina Aguilera","songAuthorName":"Fafurion","levelAuthorName":"fafurion","bpm":128},"stats":{"downloads":202165,"plays":0,"downVotes":93,"upVotes":4859,"heat":516.3199763,"rating":0.9440595804974747},"description":"See it in Action: https://www.youtube.com/watch?v=J4_8scnZPjk\r\n\r\nThank you to my playtesters:\r\n\r\nQTpop (https://www.twitch.tv/qtpop)\r\n\r\nI stream playing and making maps for beat saber: https://www.twitch.tv/fafurion","deletedAt":null,"_id":"5cff621348229f7d88fc8108","key":"3038","name":"Moves Like Jagger - Maroon 5 ft. Christina Aguilera","uploader":{"_id":"5cff0b7398cc5a672c84f945","username":"fafurion"},"uploaded":"2019-01-23T00:01:22.000Z","hash":"6f5e229b8ec73c9e448c00a680548b0ce25918ee","directDownload":"/cdn/3038/6f5e229b8ec73c9e448c00a680548b0ce25918ee.zip","downloadURL":"/api/download/key/3038","coverURL":"/cdn/3038/6f5e229b8ec73c9e448c00a680548b0ce25918ee.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":127,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":264,"length":123,"njs":18,"njsOffset":0,"bombs":0,"notes":748,"obstacles":4878},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"Reaxt","songAuthorName":"Dirty Androids","songName":"Midnight Lady","songSubName":"","bpm":128},"stats":{"downloads":51835,"plays":0,"downVotes":39,"upVotes":3047,"heat":1621.4627602,"rating":0.9439715751108106},"description":"Enjoy the ride.\n\nMassive thanks to Nyri0 and Checkthepan for helping with scripts and some math!!\n\n\nThis map was released as a part of the \"Extra Sensory\" event.\n\nVideo showcase thingy: https://youtu.be/pE_s9bvntA0 (watch tougeVR's instead tho)","deletedAt":null,"_id":"5f3ea9559824150006b6ebce","key":"da60","name":"[Extra Sensory] Dirty Androids - Midnight Lady","uploader":{"_id":"5cff0b7298cc5a672c84e8ab","username":"reaxt"},"hash":"ee501d7348223470c16ca88eac4a946e41cd11a9","uploaded":"2020-08-20T16:48:21.705Z","directDownload":"/cdn/da60/ee501d7348223470c16ca88eac4a946e41cd11a9.zip","downloadURL":"/api/download/key/da60","coverURL":"/cdn/da60/ee501d7348223470c16ca88eac4a946e41cd11a9.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":514,"length":268,"bombs":0,"notes":639,"obstacles":24,"njs":10,"njsOffset":0},"expert":{"duration":514,"length":268,"bombs":0,"notes":776,"obstacles":24,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Uptown Funk","songSubName":"Mark Ronson","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":115},"stats":{"downloads":254754,"plays":0,"downVotes":162,"upVotes":6815,"heat":763.6612175,"rating":0.9435730219852141},"description":"5/31: This version now works for the Oculus Quest.\r\n\r\nDifficulties: Expert and Hard\r\nYouTube Link: https://youtu.be/6TYji_Klr9I","deletedAt":null,"_id":"5cff621748229f7d88fc9549","key":"5038","name":"Uptown Funk - Mark Ronson","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2019-05-31T17:58:39.000Z","hash":"d110e413fb7fb462b692f1f17b835cf8b7280884","directDownload":"/cdn/5038/d110e413fb7fb462b692f1f17b835cf8b7280884.zip","downloadURL":"/api/download/key/5038","coverURL":"/cdn/5038/d110e413fb7fb462b692f1f17b835cf8b7280884.png"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":false,"hard":true,"normal":false},"duration":0,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":707.3033447265625,"length":326,"njs":16,"njsOffset":0,"bombs":0,"notes":1218,"obstacles":6631},"expertPlus":null,"hard":{"duration":707.3033447265625,"length":326,"njs":16,"njsOffset":0,"bombs":0,"notes":1218,"obstacles":43},"normal":null},"name":"Standard"}],"levelAuthorName":"ejiejidayo","songAuthorName":".","songName":"Star Sky Two Steps From Hell","songSubName":"","bpm":130},"stats":{"downloads":96518,"plays":0,"downVotes":29,"upVotes":2632,"heat":966.9351536,"rating":0.9435706585457941},"description":"68\nNormal wall --- 43 walls\nHyper wall --- 6631 walls\n\ndoodle :)","deletedAt":null,"_id":"5d7d46b1fffdb800068e0b37","key":"6366","name":"Star Sky - Two Steps From Hell","uploader":{"_id":"5cff0b7398cc5a672c84fc58","username":"ejiejidayo"},"hash":"323975ef9eaec337c8208dc864e766289e3d5ef1","uploaded":"2019-09-14T19:59:45.575Z","directDownload":"/cdn/6366/323975ef9eaec337c8208dc864e766289e3d5ef1.zip","downloadURL":"/api/download/key/6366","coverURL":"/cdn/6366/323975ef9eaec337c8208dc864e766289e3d5ef1.jpg"},{"metadata":{"difficulties":{"easy":true,"expert":true,"expertPlus":true,"hard":true,"normal":true},"duration":180,"automapper":null,"characteristics":[{"difficulties":{"easy":{"duration":307.98065185546875,"length":175,"njs":10,"njsOffset":0,"bombs":0,"notes":175,"obstacles":1},"expert":{"duration":307.98065185546875,"length":175,"njs":14,"njsOffset":0,"bombs":0,"notes":578,"obstacles":15},"expertPlus":{"duration":307.98065185546875,"length":175,"njs":14,"njsOffset":0,"bombs":0,"notes":580,"obstacles":14},"hard":{"duration":307.98065185546875,"length":175,"njs":12,"njsOffset":0,"bombs":0,"notes":459,"obstacles":10},"normal":{"duration":307.98065185546875,"length":175,"njs":10,"njsOffset":0,"bombs":0,"notes":322,"obstacles":2}},"name":"Standard"}],"levelAuthorName":"Holair","songAuthorName":"Joey Batey","songName":"Toss A Coin To Your Witcher","songSubName":"Netflix's The Witcher","bpm":105},"stats":{"downloads":199534,"plays":0,"downVotes":188,"upVotes":7500,"heat":1168.9994977,"rating":0.9433779085510436},"description":"Expert+ Preview https://www.youtube.com/watch?v=AjfABhvswrI\n\nToss a Coin to Beat Saber!\n\nNetflix's The Witcher OST.\nOriginal Music by Sonya Belousova & Giona Ostinelli.\nLyrics by Jenny Klein, Sonya Belousova & Giona Ostinelli.\nPerformed by Joey Batey.\n\nThanks Sorukun for playtesting.","deletedAt":null,"_id":"5e07b6f7932ef2000772d492","key":"7a64","name":"Joey Batey - Toss A Coin To Your Witcher","uploader":{"_id":"5cff0b7698cc5a672c853af4","username":"holair"},"hash":"19a733cf9202ef25725966d78f465bf87b26254d","uploaded":"2019-12-28T20:11:35.767Z","directDownload":"/cdn/7a64/19a733cf9202ef25725966d78f465bf87b26254d.zip","downloadURL":"/api/download/key/7a64","coverURL":"/cdn/7a64/19a733cf9202ef25725966d78f465bf87b26254d.jpg"},{"metadata":{"difficulties":{"easy":true,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":{"duration":517.3426513671875,"length":263,"bombs":0,"notes":353,"obstacles":78,"njs":13,"njsOffset":0},"normal":{"duration":517.3426513671875,"length":263,"bombs":0,"notes":589,"obstacles":18,"njs":13,"njsOffset":0},"hard":{"duration":517.3426513671875,"length":263,"bombs":0,"notes":893,"obstacles":13,"njs":13,"njsOffset":0},"expert":{"duration":517.3426513671875,"length":263,"bombs":0,"notes":1167,"obstacles":25,"njs":13,"njsOffset":0},"expertPlus":null}}],"songName":"New Divide","songSubName":"Linkin Park","songAuthorName":"DownyCat","levelAuthorName":"downycat","bpm":118},"stats":{"downloads":257520,"plays":5363,"downVotes":65,"upVotes":3770,"heat":379.9668327,"rating":0.9427663556455308},"description":"This is one of the 22 maps that were mapped for the 100k Contest where you can win over $7,000 in prizes. Go to https://bsaber.com/100k-contest/ to register!\r\nhttps://www.youtube.com/watch?v=deWMNAw03QI&t=28s","deletedAt":null,"_id":"5cff621148229f7d88fc7700","key":"2005","name":"New Divide - Linkin Park - 100k Contest","uploader":{"_id":"5cff0b7398cc5a672c84ede5","username":"downycat"},"uploaded":"2018-11-13T00:58:32.000Z","hash":"be4a33ad1b1caef9f1f42b680ca1a9087db19ffe","directDownload":"/cdn/2005/be4a33ad1b1caef9f1f42b680ca1a9087db19ffe.zip","downloadURL":"/api/download/key/2005","coverURL":"/cdn/2005/be4a33ad1b1caef9f1f42b680ca1a9087db19ffe.jpg"}],"totalDocs":35794,"lastPage":3579,"prevPage":1,"nextPage":3}"#.into());
            client.maps_rating_page(2).await.unwrap();
        }
        #[async_test]
        async fn test_maps_latest() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/latest/0").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":false,"hard":false,"normal":false},"duration":225,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":512,"length":219,"njs":20,"njsOffset":-0.550000011920929,"bombs":101,"notes":688,"obstacles":35},"expertPlus":null,"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"AuroraModz","songAuthorName":"Cafe Disko","songName":"So High","songSubName":"(feat. DanÃ©l)","bpm":140},"stats":{"downloads":0,"plays":0,"downVotes":0,"upVotes":0,"heat":1803.4047171,"rating":0},"description":"Mapped By UwUCrew.\nWe are a various mapping team that makes songs based on what the community wants. If you would like to request a song join this discord>https://discord.gg/YueyEWb\n","deletedAt":null,"_id":"5fbdfabcea68e70007b216f6","key":"1149f","name":"Cafe Disko - So High (feat. Danél)","uploader":{"_id":"5f292e68c9b14c0006ce923f","username":"uwucrew"},"hash":"56941d85c66142fb91aaa62eeb36e65262343d9a","uploaded":"2020-11-25T06:33:32.268Z","directDownload":"/cdn/1149f/56941d85c66142fb91aaa62eeb36e65262343d9a.zip","downloadURL":"/api/download/key/1149f","coverURL":"/cdn/1149f/56941d85c66142fb91aaa62eeb36e65262343d9a.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":110,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":174.537,"length":58,"njs":23,"njsOffset":-0.5,"bombs":6,"notes":333,"obstacles":46},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"Astrella","songAuthorName":"Breakmaster Cylinder","songName":"The Most Gangster Drop","songSubName":"","bpm":180},"stats":{"downloads":21,"plays":0,"downVotes":0,"upVotes":0,"heat":1803.3840344,"rating":0},"description":"gangster awehfiuawefluiawehfaiuwhfewaf","deletedAt":null,"_id":"5fbdf719ea68e70007b21333","key":"1149e","name":"The Most Gangster Drop - Breakmaster Cylinder","uploader":{"_id":"5fa1e74381e1d70006f2cc01","username":"c0r3nn"},"hash":"d6a267ea3d6a0d715d1d320e7773ad646aa2a424","uploaded":"2020-11-25T06:18:01.546Z","directDownload":"/cdn/1149e/d6a267ea3d6a0d715d1d320e7773ad646aa2a424.zip","downloadURL":"/api/download/key/1149e","coverURL":"/cdn/1149e/d6a267ea3d6a0d715d1d320e7773ad646aa2a424.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":false,"hard":false,"normal":false},"duration":239,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":243.375,"length":101,"njs":12,"njsOffset":0,"bombs":0,"notes":300,"obstacles":2},"expertPlus":null,"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"Packz","songAuthorName":"Illenium, John Bellion","songName":"Good Things Fall Apart - Illenium, John Bellion","songSubName":"","bpm":144},"stats":{"downloads":77,"plays":0,"downVotes":0,"upVotes":0,"heat":1803.3043823,"rating":0},"description":"this is a test map dont download","deletedAt":null,"_id":"5fbde91900e48a00065ae757","key":"1149d","name":"tyui","uploader":{"_id":"5f9a3ba76ef6a20006d59aea","username":"milla"},"hash":"eb7f40e59ee44be638054b3ca41f4f4b7b5b357f","uploaded":"2020-11-25T05:18:17.204Z","directDownload":"/cdn/1149d/eb7f40e59ee44be638054b3ca41f4f4b7b5b357f.zip","downloadURL":"/api/download/key/1149d","coverURL":"/cdn/1149d/eb7f40e59ee44be638054b3ca41f4f4b7b5b357f.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":74,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":399,"length":106,"njs":23,"njsOffset":-0.20000000298023224,"bombs":0,"notes":931,"obstacles":0},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"DE125","songAuthorName":"you","songName":"Melancholia","songSubName":"(EKU's Desolation Remix) (Literally Just the First Drop Ver.)","bpm":225},"stats":{"downloads":91,"plays":0,"downVotes":0,"upVotes":0,"heat":1803.2910497,"rating":0},"description":"Literally just the first drop.\nI overmapped this so the pattern would work B)\n\nDm with issues @DE125#0001 if the issue isn't cringe saut burnt rice pattern","deletedAt":null,"_id":"5fbde6c1ea68e70007b20165","key":"1149c","name":"you - Melancholia (EKU's Desolation Remix) (TV Size)","uploader":{"_id":"5cff0b7798cc5a672c8554ba","username":"de125"},"hash":"2cb3a27602b362a6265fdfd543f4eec31f957ba4","uploaded":"2020-11-25T05:08:17.236Z","directDownload":"/cdn/1149c/2cb3a27602b362a6265fdfd543f4eec31f957ba4.zip","downloadURL":"/api/download/key/1149c","coverURL":"/cdn/1149c/2cb3a27602b362a6265fdfd543f4eec31f957ba4.jpg"},{"metadata":{"difficulties":{"easy":true,"expert":true,"expertPlus":false,"hard":true,"normal":true},"duration":96,"automapper":null,"characteristics":[{"difficulties":{"easy":{"duration":269.302083,"length":89,"njs":8,"njsOffset":0,"bombs":0,"notes":179,"obstacles":18},"expert":{"duration":269.302083,"length":89,"njs":15,"njsOffset":0,"bombs":14,"notes":403,"obstacles":112},"expertPlus":null,"hard":{"duration":269.302083,"length":89,"njs":13,"njsOffset":0,"bombs":11,"notes":360,"obstacles":102},"normal":{"duration":269.302083,"length":89,"njs":10,"njsOffset":0,"bombs":20,"notes":286,"obstacles":30}},"name":"Standard"}],"levelAuthorName":"rodysan","songAuthorName":"Ryu*","songName":"Sakura Sunrise","songSubName":"","bpm":181},"stats":{"downloads":96,"plays":0,"downVotes":0,"upVotes":0,"heat":1803.2705277,"rating":0},"description":"9","deletedAt":null,"_id":"5fbde325ea68e70007b1fd1e","key":"1149b","name":"Sakura Sunrise - Ryu☆","uploader":{"_id":"5fabfd44fe23c6000688154a","username":"rodysan"},"hash":"eea9c9813c1a06ce2ea754a4d4557f98bdc33d33","uploaded":"2020-11-25T04:52:53.745Z","directDownload":"/cdn/1149b/eea9c9813c1a06ce2ea754a4d4557f98bdc33d33.zip","downloadURL":"/api/download/key/1149b","coverURL":"/cdn/1149b/eea9c9813c1a06ce2ea754a4d4557f98bdc33d33.png"},{"metadata":{"difficulties":{"easy":true,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":240,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":525.5,"length":233,"njs":12,"njsOffset":0,"bombs":235,"notes":1036,"obstacles":46},"hard":null,"normal":null},"name":"Standard"},{"difficulties":{"easy":{"duration":0,"length":0,"njs":16,"njsOffset":0,"bombs":0,"notes":0,"obstacles":0},"expert":null,"expertPlus":null,"hard":null,"normal":null},"name":"Lightshow"}],"levelAuthorName":"jd gamer65","songAuthorName":"CG5, Pokimane, TheRandomMusicMan, ect","songName":"A Killer on the floor","songSubName":"Among Us Rap Battle","bpm":135},"stats":{"downloads":116,"plays":0,"downVotes":1,"upVotes":1,"heat":1803.2316104,"rating":0.5},"description":"Made with the help of beatsage.com It is a bit choppy at bits, because i am a amateur editor. Hope you enjoy my first song I fully mapped! BTW there is a light show mode in case you wanna watch my dynamic lighting.","deletedAt":null,"_id":"5fbddc4ee3a5a20006f9bfb0","key":"11493","name":"Killer on the Floor, Among Us Rap Battle ","uploader":{"_id":"5f03f3fb8f03870006ab590f","username":"jd gamer65"},"hash":"6eb3bf646cb3f8e8ec3f39bc581091b3ba34ce26","uploaded":"2020-11-25T04:23:42.467Z","directDownload":"/cdn/11493/6eb3bf646cb3f8e8ec3f39bc581091b3ba34ce26.zip","downloadURL":"/api/download/key/11493","coverURL":"/cdn/11493/6eb3bf646cb3f8e8ec3f39bc581091b3ba34ce26.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":49,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":203.5,"length":46,"njs":26,"njsOffset":-0.05000000074505806,"bombs":121,"notes":506,"obstacles":5},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"MonsterWook regrets this","songAuthorName":"Nickelodeon","songName":"FanBoy & ChumChum Theme Song","songSubName":"","bpm":260.0740051269531},"stats":{"downloads":112,"plays":0,"downVotes":0,"upVotes":1,"heat":1803.2228074,"rating":0.5941636475090435},"description":"BA BAB ABA ABA BA AB ABA BA BA ABB A ABA A BA BAB ABABAB ABB BRAIN FREEEZEEEEEE BABA BBBABABABBABABAB","deletedAt":null,"_id":"5fbddac2ea68e70007b1f529","key":"11492","name":"yes hahaha - FanBoy & ChumChum Theme Song","uploader":{"_id":"5e3e058b470a82000675dc55","username":"monsterwook2"},"hash":"b011d57f737a6a0ff2700ee2dfa7af37b4fdb8bb","uploaded":"2020-11-25T04:17:06.334Z","directDownload":"/cdn/11492/b011d57f737a6a0ff2700ee2dfa7af37b4fdb8bb.zip","downloadURL":"/api/download/key/11492","coverURL":"/cdn/11492/b011d57f737a6a0ff2700ee2dfa7af37b4fdb8bb.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":false,"hard":true,"normal":true},"duration":235,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":null,"hard":{"duration":388,"length":232,"njs":14,"njsOffset":0,"bombs":0,"notes":874,"obstacles":9},"normal":{"duration":381.25,"length":228,"njs":12,"njsOffset":0,"bombs":60,"notes":374,"obstacles":52}},"name":"Standard"}],"levelAuthorName":"Alekcake","songAuthorName":"Amerie","songName":"1 Thing","songSubName":"","bpm":100},"stats":{"downloads":103,"plays":0,"downVotes":0,"upVotes":1,"heat":1803.2192485,"rating":0.5941636475090435},"description":"Special request :D\r\n\r\nGet in touch with us on our discord server!\r\nAlekcake's Kpop & VR Arcade - https://discord.gg/P4eGh26","deletedAt":null,"_id":"5fbdda22910759000612f575","key":"11490","name":"Amerie - 1 Thing","uploader":{"_id":"5ee6cc499ae7380006da7aef","username":"alekcake"},"hash":"5e4f00d81ef0363439c712c64f35dfea017918f9","uploaded":"2020-11-25T04:14:26.181Z","directDownload":"/cdn/11490/5e4f00d81ef0363439c712c64f35dfea017918f9.zip","downloadURL":"/api/download/key/11490","coverURL":"/cdn/11490/5e4f00d81ef0363439c712c64f35dfea017918f9.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":191,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":316,"length":184,"njs":18,"njsOffset":1,"bombs":0,"notes":935,"obstacles":94},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"MisterZ did it","songAuthorName":"LINKIN PARK","songName":"Pushing Me Away","songSubName":"","bpm":103},"stats":{"downloads":112,"plays":0,"downVotes":0,"upVotes":0,"heat":1803.203822,"rating":0},"description":"","deletedAt":null,"_id":"5fbdd76b5fd85f00069233d5","key":"1148e","name":"Pushing Me Away","uploader":{"_id":"5f52d68f9824150006c5a23b","username":"misterz did it"},"hash":"fa9ca90cf19f8316e0fcbf606a5c20a313f2a5d2","uploaded":"2020-11-25T04:02:51.989Z","directDownload":"/cdn/1148e/fa9ca90cf19f8316e0fcbf606a5c20a313f2a5d2.zip","downloadURL":"/api/download/key/1148e","coverURL":"/cdn/1148e/fa9ca90cf19f8316e0fcbf606a5c20a313f2a5d2.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":350,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":1264.1478271484375,"length":337,"njs":22,"njsOffset":-0.28999999165534973,"bombs":9,"notes":2553,"obstacles":250},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"abcbadq","songAuthorName":"you","songName":"Melancholia","songSubName":"(EKU's Desolation Remix)","bpm":225},"stats":{"downloads":122,"plays":0,"downVotes":0,"upVotes":0,"heat":1803.1947261,"rating":0},"description":"crow walls thats all you need to know\nrequested by saints","deletedAt":null,"_id":"5fbdd5d239a7430006a0485d","key":"1148c","name":"Melancholia (EKU's Desolation Remix)","uploader":{"_id":"5e0344ebe85d6800061edc97","username":"abcbadq"},"hash":"94e516fab1650261b372ee83f51a9fe5fa6b2908","uploaded":"2020-11-25T03:56:02.673Z","directDownload":"/cdn/1148c/94e516fab1650261b372ee83f51a9fe5fa6b2908.zip","downloadURL":"/api/download/key/1148c","coverURL":"/cdn/1148c/94e516fab1650261b372ee83f51a9fe5fa6b2908.png"}],"totalDocs":35533,"lastPage":3553,"prevPage":null,"nextPage":1}"#.into());
            client.maps_latest().await.unwrap();
        }
        #[async_test]
        async fn test_maps_latest_page() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/latest/2").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":false,"hard":true,"normal":false},"duration":145,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":null,"hard":{"duration":242.9824981689453,"length":138,"njs":14,"njsOffset":0,"bombs":0,"notes":394,"obstacles":70},"normal":null},"name":"Standard"}],"levelAuthorName":"LoveLessDark","songAuthorName":"Lady Gaga","songName":"Summerboy","songSubName":"(Short Ver.)","bpm":105},"stats":{"downloads":164,"plays":0,"downVotes":0,"upVotes":0,"heat":1813.1443116,"rating":0},"description":"Lady Gaga - Summerboy (Short Ver.)\nPreview : https://www.bilibili.com/video/BV1az4y1k7xb/","deletedAt":null,"_id":"5fc4aac69370580009f0ccd9","key":"11875","name":"Lady Gaga - Summerboy (Short Ver.)","uploader":{"_id":"5f26d1f3103cbc0006643d54","username":"lovelessdark"},"hash":"30c3d2ab8918386133cc0373076e7c4211679adb","uploaded":"2020-11-30T08:18:14.022Z","directDownload":"/cdn/11875/30c3d2ab8918386133cc0373076e7c4211679adb.zip","downloadURL":"/api/download/key/11875","coverURL":"/cdn/11875/30c3d2ab8918386133cc0373076e7c4211679adb.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":false,"hard":false,"normal":false},"duration":176,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":275.7170104980469,"length":167,"njs":14,"njsOffset":0,"bombs":0,"notes":512,"obstacles":19},"expertPlus":null,"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"LoveLessDark","songAuthorName":"Lady Gaga","songName":"Paper Gangsta","songSubName":"(Short Ver.)","bpm":99},"stats":{"downloads":154,"plays":0,"downVotes":0,"upVotes":0,"heat":1813.1440152,"rating":0},"description":"Lady Gaga - Paper Gangsta (Short Ver.)\nPreview : https://www.bilibili.com/video/BV1jr4y1c7zx/","deletedAt":null,"_id":"5fc4aab8029e5500069c27f4","key":"11874","name":"Lady Gaga - Paper Gangsta (Short Ver.)","uploader":{"_id":"5f26d1f3103cbc0006643d54","username":"lovelessdark"},"hash":"18a4a22da3350fd5a6640630e8ef79b80d8b2148","uploaded":"2020-11-30T08:18:00.686Z","directDownload":"/cdn/11874/18a4a22da3350fd5a6640630e8ef79b80d8b2148.zip","downloadURL":"/api/download/key/11874","coverURL":"/cdn/11874/18a4a22da3350fd5a6640630e8ef79b80d8b2148.jpg"},{"metadata":{"difficulties":{"easy":true,"expert":true,"expertPlus":false,"hard":false,"normal":true},"duration":213,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":448,"length":210,"njs":12,"njsOffset":0,"bombs":14,"notes":544,"obstacles":16},"expertPlus":null,"hard":null,"normal":{"duration":448,"length":210,"njs":12,"njsOffset":0,"bombs":4,"notes":267,"obstacles":9}},"name":"Standard"},{"difficulties":{"easy":{"duration":448,"length":210,"njs":12,"njsOffset":0,"bombs":4,"notes":215,"obstacles":9},"expert":null,"expertPlus":null,"hard":null,"normal":null},"name":"NoArrows"}],"levelAuthorName":"salmon","songAuthorName":"T-ara","songName":"Number 9","songSubName":"","bpm":128},"stats":{"downloads":202,"plays":0,"downVotes":2,"upVotes":0,"heat":1812.6622793,"rating":0.35920485264517465},"description":"My first map! Please let me know what I can do better, which aspects you liked, etc. I tried to do multiple difficulties, but am not sure I'm gauging them appropriately.","deletedAt":null,"_id":"5fc48af4d2a4c200062ffd96","key":"11873","name":"T-ara [티아라] - Number 9","uploader":{"_id":"5fc489bdb05fe700068cdd71","username":"salmon2"},"hash":"8c312e523e6d5498e60111fbad86c47b41fecdb8","uploaded":"2020-11-30T06:02:28.919Z","directDownload":"/cdn/11873/8c312e523e6d5498e60111fbad86c47b41fecdb8.zip","downloadURL":"/api/download/key/11873","coverURL":"/cdn/11873/8c312e523e6d5498e60111fbad86c47b41fecdb8.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":271,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":1149.875,"length":269,"njs":22,"njsOffset":0.100000001490116,"bombs":474,"notes":2977,"obstacles":124},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"Atomosophere","songAuthorName":"Camellia","songName":"Blackmagik Blazing","songSubName":"","bpm":256},"stats":{"downloads":196,"plays":0,"downVotes":2,"upVotes":0,"heat":1812.6597046,"rating":0.35920485264517465},"description":"so I reupped this due to concern about the bombs\n\nI swear, the way they are now it's just like playing a normal double stream\nswing the same\nyou will be fine\nI promise\n\nanyway jammer going for ranked SmileW","deletedAt":null,"_id":"5fc48a81029e5500069c1754","key":"11872","name":"Blackmagik Blazing - かめりあ","uploader":{"_id":"5ddeae138d832b000680e4ec","username":"atomosophere"},"hash":"38dbb1c74daac4086636169b55b791f85018bd1e","uploaded":"2020-11-30T06:00:33.055Z","directDownload":"/cdn/11872/38dbb1c74daac4086636169b55b791f85018bd1e.zip","downloadURL":"/api/download/key/11872","coverURL":"/cdn/11872/38dbb1c74daac4086636169b55b791f85018bd1e.png"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":219,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":349.5,"length":209,"njs":22,"njsOffset":0.20000000298023224,"bombs":0,"notes":956,"obstacles":75},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"8-bit bulldog","songAuthorName":"Porter Robinson & Madeon","songName":"Shelter","songSubName":"","bpm":100},"stats":{"downloads":247,"plays":0,"downVotes":0,"upVotes":2,"heat":1813.2591647,"rating":0.6407951473548253},"description":"Just a fun map to vibe with, nothing too crazy or difficult. I think its a nice benchmark on my progress as a mapper in general\n\nNotes: 956\nBombs: 0\nWalls: 75\nNotes Per Second: 4.35\nNote Jump Speed: 22\nSpawn Offset: 0.2","deletedAt":null,"_id":"5fc48a0c607cfe00068ecd41","key":"11871","name":"Shelter","uploader":{"_id":"5ec8794f3f476a000685621e","username":"8-bit bulldog"},"hash":"2d212c53f7354f02e788531a6271e109c0056417","uploaded":"2020-11-30T05:58:36.061Z","directDownload":"/cdn/11871/2d212c53f7354f02e788531a6271e109c0056417.zip","downloadURL":"/api/download/key/11871","coverURL":"/cdn/11871/2d212c53f7354f02e788531a6271e109c0056417.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":289,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":1568.75,"length":280,"njs":24,"njsOffset":-1.5,"bombs":33,"notes":3291,"obstacles":719},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"landify","songAuthorName":"Camellia as \"menaXe inXonnu\"","songName":"Xronial Xero","songSubName":"(Laur Remix)","bpm":335},"stats":{"downloads":232,"plays":0,"downVotes":0,"upVotes":0,"heat":1812.9580276,"rating":0},"description":"Heavily inspired by altrewins Xronial Xero\n\nTook some walls from altrewins Xronial Xero\n\nFeel free to leave me feedback on discord:\n@landify#1818","deletedAt":null,"_id":"5fc48a07029e5500069c16ef","key":"11870","name":"Xronial Xero (Laur Remix)","uploader":{"_id":"5f614224530c8e000639ee58","username":"landify"},"hash":"c87ea9470547fb1aa5676d9c1095b1933e914f3c","uploaded":"2020-11-30T05:58:31.244Z","directDownload":"/cdn/11870/c87ea9470547fb1aa5676d9c1095b1933e914f3c.zip","downloadURL":"/api/download/key/11870","coverURL":"/cdn/11870/c87ea9470547fb1aa5676d9c1095b1933e914f3c.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":161,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":618,"length":161,"njs":23,"njsOffset":-0.30000001192092896,"bombs":45,"notes":1811,"obstacles":39},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"cerret","songAuthorName":"Kobaryo","songName":"Speedcore Psytama","songSubName":"","bpm":230},"stats":{"downloads":332,"plays":0,"downVotes":0,"upVotes":5,"heat":1813.4831551,"rating":0.7084432256108616},"description":"mapped in 2 and a half hours lol\nfunny ending\n","deletedAt":null,"_id":"5fc46b78d2a4c200062fe4b7","key":"1186c","name":"Kobaryo - Speedcore Psytama","uploader":{"_id":"5cff0b7698cc5a672c8541e1","username":"cerret"},"hash":"d352dcc8c2f0c0ce7cbef9f1df691ef05603c47c","uploaded":"2020-11-30T03:48:08.331Z","directDownload":"/cdn/1186c/d352dcc8c2f0c0ce7cbef9f1df691ef05603c47c.zip","downloadURL":"/api/download/key/1186c","coverURL":"/cdn/1186c/d352dcc8c2f0c0ce7cbef9f1df691ef05603c47c.jpg"},{"metadata":{"difficulties":{"easy":true,"expert":false,"expertPlus":false,"hard":false,"normal":false},"duration":5,"automapper":null,"characteristics":[{"difficulties":{"easy":{"duration":11.015625,"length":5,"njs":20,"njsOffset":0,"bombs":0,"notes":19,"obstacles":0},"expert":null,"expertPlus":null,"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"zbolt","songAuthorName":"zboltlightning","songName":"facts","songSubName":"","bpm":120},"stats":{"downloads":259,"plays":0,"downVotes":0,"upVotes":0,"heat":1812.715026,"rating":0},"description":"lol","deletedAt":null,"_id":"5fc45f509370580009f0985e","key":"11850","name":"its true","uploader":{"_id":"5f655ad24bf28e00061ce4f0","username":"zboltlightning"},"hash":"d1188ff5d4046c75950fd513cd4582d3376317fb","uploaded":"2020-11-30T02:56:16.172Z","directDownload":"/cdn/11850/d1188ff5d4046c75950fd513cd4582d3376317fb.zip","downloadURL":"/api/download/key/11850","coverURL":"/cdn/11850/d1188ff5d4046c75950fd513cd4582d3376317fb.png"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":85,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":270.1250305175781,"length":81,"njs":22,"njsOffset":-0.20000000298023224,"bombs":95,"notes":414,"obstacles":34},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"thelitlewiseowl","songAuthorName":"Hatsuki Yura","songName":"Dragon Slayer -Koku Ryuu no Kishi hen-","songSubName":"","bpm":198},"stats":{"downloads":278,"plays":0,"downVotes":1,"upVotes":3,"heat":1813.0054291,"rating":0.5959970389138742},"description":"Somewhat short, hope you enjoy","deletedAt":null,"_id":"5fc45d71a3f6d20006db43df","key":"1184a","name":"Dragon Slayer Koku Ryuu no Kishi hen | Hatsuki Yura","uploader":{"_id":"5cff0b7698cc5a672c854bca","username":"thelitlewiseowl"},"hash":"ff1ce0efaecf5b3ba8b7409038fa0088df16110c","uploaded":"2020-11-30T02:48:17.960Z","directDownload":"/cdn/1184a/ff1ce0efaecf5b3ba8b7409038fa0088df16110c.zip","downloadURL":"/api/download/key/1184a","coverURL":"/cdn/1184a/ff1ce0efaecf5b3ba8b7409038fa0088df16110c.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":false,"hard":true,"normal":false},"duration":288,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":618.5,"length":285,"njs":20,"njsOffset":0.5,"bombs":8,"notes":1115,"obstacles":20},"expertPlus":null,"hard":{"duration":618.5,"length":285,"njs":18,"njsOffset":-0.4000000059604645,"bombs":8,"notes":1091,"obstacles":20},"normal":null},"name":"Standard"}],"levelAuthorName":"thelitlewiseowl","songAuthorName":"DECO 27","songName":"Once Upon a Me","songSubName":"","bpm":130},"stats":{"downloads":358,"plays":0,"downVotes":0,"upVotes":5,"heat":1813.4004346,"rating":0.7084432256108616},"description":"むかしむかしのきょうのぼく (Mukashi Mukashi no Kyou no Boku)\nby DECO*27\n\n","deletedAt":null,"_id":"5fc45ced9370580009f09592","key":"11849","name":"Once upon a me | DECO*27","uploader":{"_id":"5cff0b7698cc5a672c854bca","username":"thelitlewiseowl"},"hash":"d7369741299c77c6859aa5c4058f4a696f482f75","uploaded":"2020-11-30T02:46:05.909Z","directDownload":"/cdn/11849/d7369741299c77c6859aa5c4058f4a696f482f75.zip","downloadURL":"/api/download/key/11849","coverURL":"/cdn/11849/d7369741299c77c6859aa5c4058f4a696f482f75.jpg"}],"totalDocs":35794,"lastPage":3579,"prevPage":1,"nextPage":3}"#.into());
            client.maps_latest_page(2).await.unwrap();
        }
        #[async_test]
        async fn test_maps_downloads() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/downloads/0").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":468,"length":212,"bombs":4,"notes":415,"obstacles":42,"njs":10,"njsOffset":0},"hard":{"duration":468,"length":212,"bombs":40,"notes":695,"obstacles":94,"njs":10,"njsOffset":0},"expert":{"duration":468,"length":212,"bombs":50,"notes":932,"obstacles":103,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Gangnam Style","songSubName":"PSY","songAuthorName":"GreatYazer","levelAuthorName":"greatyazer","bpm":132},"stats":{"downloads":1069206,"plays":82700,"downVotes":617,"upVotes":17445,"heat":41.5047436,"rating":0.94147214608232},"description":"Expert, Hard, and Normal tracks.  I tried my best to setup the chorus charts to allow you to mimic the classic dance moves.  I think it matches up quite nicely.  I hope you have as much fun playing as I did making this!  Enjoy!","deletedAt":null,"_id":"5cff620c48229f7d88fc620d","key":"141","name":"GANGNAM STYLE","uploader":{"_id":"5cff0b7298cc5a672c84ea71","username":"greatyazer"},"uploaded":"2018-05-20T09:59:02.000Z","hash":"8e7e553099436af31564adf1977a5ec42a61cfff","directDownload":"/cdn/141/8e7e553099436af31564adf1977a5ec42a61cfff.zip","downloadURL":"/api/download/key/141","coverURL":"/cdn/141/8e7e553099436af31564adf1977a5ec42a61cfff.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":{"duration":418,"length":200,"bombs":0,"notes":546,"obstacles":10,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Believer","songSubName":"Imagine Dragons","songAuthorName":"Rustic","levelAuthorName":"rustic","bpm":125},"stats":{"downloads":1045930,"plays":70725,"downVotes":352,"upVotes":9390,"heat":18.911539,"rating":0.9346479331024395},"description":"Currently expert only. Events included.","deletedAt":null,"_id":"5cff620c48229f7d88fc60e9","key":"b","name":"Imagine Dragons - Believer","uploader":{"_id":"5cff0b7298cc5a672c84e8c4","username":"rustic"},"uploaded":"2018-05-08T18:56:36.000Z","hash":"19f2879d11a91b51a5c090d63471c3e8d9b7aee3","directDownload":"/cdn/b/19f2879d11a91b51a5c090d63471c3e8d9b7aee3.zip","downloadURL":"/api/download/key/b","coverURL":"/cdn/b/19f2879d11a91b51a5c090d63471c3e8d9b7aee3.jpg"},{"metadata":{"difficulties":{"easy":true,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":{"duration":328.556396484375,"length":142,"bombs":0,"notes":188,"obstacles":84,"njs":10,"njsOffset":0},"normal":{"duration":328.681396484375,"length":142,"bombs":40,"notes":219,"obstacles":70,"njs":10,"njsOffset":0},"hard":{"duration":328.681396484375,"length":142,"bombs":42,"notes":386,"obstacles":72,"njs":10,"njsOffset":0},"expert":{"duration":328.681396484375,"length":142,"bombs":46,"notes":623,"obstacles":69,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Beat it","songSubName":"Michael Jackson","songAuthorName":"Freeek","levelAuthorName":"freeek","bpm":139},"stats":{"downloads":941091,"plays":117624,"downVotes":768,"upVotes":12584,"heat":51.2995594,"rating":0.9171309232285056},"description":"Easy/Normal/Hard/Expert - Obstacles and mines purely for dance moves! 100% Expert Playthrough: https://bit.ly/2IKzCp3\r\n\r\n- Freeek =)","deletedAt":null,"_id":"5cff620c48229f7d88fc62d6","key":"217","name":"Beat it - Michael Jackson","uploader":{"_id":"5cff0b7298cc5a672c84e8ad","username":"freeek"},"uploaded":"2018-05-25T14:20:19.000Z","hash":"4b2da842b687ec4cfbc948c583c21c79d4120de0","directDownload":"/cdn/217/4b2da842b687ec4cfbc948c583c21c79d4120de0.zip","downloadURL":"/api/download/key/217","coverURL":"/cdn/217/4b2da842b687ec4cfbc948c583c21c79d4120de0.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":640.7428588867188,"length":311,"bombs":57,"notes":423,"obstacles":33,"njs":10,"njsOffset":0},"expert":{"duration":640.7428588867188,"length":311,"bombs":68,"notes":616,"obstacles":33,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Harder Better Faster Stronger","songSubName":"Daft Punk","songAuthorName":"RunRockGame","levelAuthorName":"runrockgame","bpm":123},"stats":{"downloads":939245,"plays":74223,"downVotes":761,"upVotes":13105,"heat":65.0537892,"rating":0.9199051796117618},"description":"Expert & Hard | 600+ Blocks | Full Song 3:44 | Includes Lighting. Request to: @themakertales","deletedAt":null,"_id":"5cff620c48229f7d88fc63dd","key":"32e","name":"Daft Punk - Harder Better Faster Stronger","uploader":{"_id":"5cff0b7398cc5a672c84f04e","username":"runrockgame"},"uploaded":"2018-06-01T18:01:45.000Z","hash":"7c7f38d467bb43fe11a142581e63e324622ecc71","directDownload":"/cdn/32e/7c7f38d467bb43fe11a142581e63e324622ecc71.zip","downloadURL":"/api/download/key/32e","coverURL":"/cdn/32e/7c7f38d467bb43fe11a142581e63e324622ecc71.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":623.3125,"length":214,"bombs":0,"notes":462,"obstacles":25,"njs":10,"njsOffset":0},"hard":{"duration":623.3125,"length":214,"bombs":0,"notes":639,"obstacles":40,"njs":10,"njsOffset":0},"expert":{"duration":623.3125,"length":214,"bombs":0,"notes":825,"obstacles":40,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Mr. Blue Sky","songSubName":"Electric Light Orchestra","songAuthorName":"GreatYazer","levelAuthorName":"greatyazer","bpm":174},"stats":{"downloads":929040,"plays":39426,"downVotes":485,"upVotes":22691,"heat":94.0178926,"rating":0.9558250129688451},"description":"Channel your inner Baby Groot.  Normal, Hard, Expert\r\nSpecial thanks to BennydaBeast for his help on this track!","deletedAt":null,"_id":"5cff620d48229f7d88fc65f7","key":"570","name":"Mr. Blue Sky | Electric Light Orchestra","uploader":{"_id":"5cff0b7298cc5a672c84ea71","username":"greatyazer"},"uploaded":"2018-06-16T16:53:34.000Z","hash":"236173d5ba7dc379d480b9cb5fb6b4fa5abe77da","directDownload":"/cdn/570/236173d5ba7dc379d480b9cb5fb6b4fa5abe77da.zip","downloadURL":"/api/download/key/570","coverURL":"/cdn/570/236173d5ba7dc379d480b9cb5fb6b4fa5abe77da.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":false,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":590.65625,"length":232,"bombs":0,"notes":768,"obstacles":154,"njs":10,"njsOffset":0},"expert":null,"expertPlus":null}}],"songName":"Rasputin (Funk Overload)","songSubName":"","songAuthorName":"Jobas","levelAuthorName":"jobas","bpm":149},"stats":{"downloads":796456,"plays":29624,"downVotes":774,"upVotes":17434,"heat":40.1104306,"rating":0.9336181107580133},"description":"Hard\r\nBpm 147\r\nspeed up version of rasputin Original","deletedAt":null,"_id":"5cff620c48229f7d88fc61f0","key":"124","name":"Rasputin (Funk Overload)","uploader":{"_id":"5cff0b7298cc5a672c84e9a2","username":"jobas"},"uploaded":"2018-05-19T16:36:34.000Z","hash":"9a1d001995cc0a2014352aa7148cbcbf2e489d89","directDownload":"/cdn/124/9a1d001995cc0a2014352aa7148cbcbf2e489d89.zip","downloadURL":"/api/download/key/124","coverURL":"/cdn/124/9a1d001995cc0a2014352aa7148cbcbf2e489d89.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":false,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":473.1875,"length":228,"bombs":0,"notes":399,"obstacles":0,"njs":10,"njsOffset":0},"hard":{"duration":473.1875,"length":228,"bombs":0,"notes":496,"obstacles":0,"njs":10,"njsOffset":0},"expert":null,"expertPlus":null}}],"songName":"Seven Nation Army","songSubName":"The White Stripes","songAuthorName":"BlueASIS","levelAuthorName":"blueasis","bpm":124},"stats":{"downloads":776038,"plays":56470,"downVotes":437,"upVotes":11620,"heat":74.676625,"rating":0.93635850868144},"description":"UPDATED! @BlueASIS#4095 on Discord let me know what you think","deletedAt":null,"_id":"5cff620d48229f7d88fc64a0","key":"3fc","name":"The White Stripes - Seven Nation Army","uploader":{"_id":"5cff0b7298cc5a672c84eb5d","username":"blueasis"},"uploaded":"2018-06-06T18:51:03.000Z","hash":"0b0ad0f34b2d0687a9794bcf5019100fda06971e","directDownload":"/cdn/3fc/0b0ad0f34b2d0687a9794bcf5019100fda06971e.zip","downloadURL":"/api/download/key/3fc","coverURL":"/cdn/3fc/0b0ad0f34b2d0687a9794bcf5019100fda06971e.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":{"duration":384,"length":136,"bombs":0,"notes":505,"obstacles":52,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Take On Me","songSubName":"","songAuthorName":"a-ha","levelAuthorName":"jackscape","bpm":168},"stats":{"downloads":770057,"plays":36801,"downVotes":549,"upVotes":5946,"heat":18.5911969,"rating":0.8859054068140281},"description":"Expert only","deletedAt":null,"_id":"5cff620c48229f7d88fc60e7","key":"9","name":"a-ha - Take On Me","uploader":{"_id":"5cff0b7298cc5a672c84e8bb","username":"jackscape"},"uploaded":"2018-05-08T17:44:17.000Z","hash":"2aa1f5192828e075c30dd015b1e132bba912eb86","directDownload":"/cdn/9/2aa1f5192828e075c30dd015b1e132bba912eb86.zip","downloadURL":"/api/download/key/9","coverURL":"/cdn/9/2aa1f5192828e075c30dd015b1e132bba912eb86.jpg"},{"metadata":{"difficulties":{"easy":true,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":{"duration":342.8125,"length":165,"bombs":0,"notes":313,"obstacles":27,"njs":10,"njsOffset":0},"normal":{"duration":343.8125,"length":166,"bombs":0,"notes":480,"obstacles":27,"njs":10,"njsOffset":0},"hard":{"duration":343.8125,"length":166,"bombs":0,"notes":730,"obstacles":27,"njs":10,"njsOffset":0},"expert":{"duration":341.75,"length":165,"bombs":11,"notes":735,"obstacles":2,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Lone Digger","songSubName":"","songAuthorName":"Caravan Palace","levelAuthorName":"calijor","bpm":124},"stats":{"downloads":677450,"plays":57999,"downVotes":823,"upVotes":14212,"heat":46.3871704,"rating":0.920647601959446},"description":"Caravan Palace - Lone Digger\r\nEasy | Normal | Hard | Expert\r\nThis is a re-upload of my previous map, with improvements for hard, and a new, harder expert difficulty mapped by Squeaksies, as well as lower difficulties as iterations on my original map.\r\n\r\nBPM: 124\r\nDuration: 2:49\r\nNotes (Hard): 730\r\nNotes (Expert): 735\r\nPreview (Hard): https://youtu.be/NExvLUyeBUU\r\nPreview (Expert): https://youtu.be/NYmExXlpB0k","deletedAt":null,"_id":"5cff620c48229f7d88fc6282","key":"1bf","name":"Caravan Palace - Lone Digger","uploader":{"_id":"5cff0b7298cc5a672c84ebb1","username":"calijor"},"uploaded":"2018-05-23T00:15:19.000Z","hash":"906160fd1f808e2f34f33c2ca5920118855c065d","directDownload":"/cdn/1bf/906160fd1f808e2f34f33c2ca5920118855c065d.zip","downloadURL":"/api/download/key/1bf","coverURL":"/cdn/1bf/906160fd1f808e2f34f33c2ca5920118855c065d.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":382.4375,"length":246,"bombs":0,"notes":728,"obstacles":16,"njs":10,"njsOffset":0},"hard":{"duration":387.4375,"length":249,"bombs":0,"notes":836,"obstacles":19,"njs":10,"njsOffset":0},"expert":{"duration":387.4375,"length":249,"bombs":0,"notes":883,"obstacles":31,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Africa","songSubName":"","songAuthorName":"Toto","levelAuthorName":"calijor","bpm":92},"stats":{"downloads":669322,"plays":27043,"downVotes":1106,"upVotes":5060,"heat":40.3054811,"rating":0.7974511907115919},"description":"Bless the rains!\r\n\r\nExpert, hard, and normal difficulty available. I do apologize, but I think they're a bit harder than vanilla.\r\n\r\nBPM: 92\r\nNotes: 883 (expert)\r\nDuration: 4:20\r\n\r\nPreview: https://youtu.be/SLpUwKson80","deletedAt":null,"_id":"5cff620c48229f7d88fc6203","key":"137","name":"Toto - Africa","uploader":{"_id":"5cff0b7298cc5a672c84ebb1","username":"calijor"},"uploaded":"2018-05-20T02:51:20.000Z","hash":"12fee98db7d2080724435d0a1442545f21a9134d","directDownload":"/cdn/137/12fee98db7d2080724435d0a1442545f21a9134d.zip","downloadURL":"/api/download/key/137","coverURL":"/cdn/137/12fee98db7d2080724435d0a1442545f21a9134d.jpg"}],"totalDocs":35533,"lastPage":3553,"prevPage":null,"nextPage":1}"#.into());
            client.maps_downloads().await.unwrap();
        }
        #[async_test]
        async fn test_maps_downloads_page() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/downloads/2").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":1467.25,"length":440,"bombs":18,"notes":1356,"obstacles":22,"njs":10,"njsOffset":0},"expert":{"duration":1467.25,"length":440,"bombs":26,"notes":2806,"obstacles":36,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"TTFAF","songSubName":"DragonForce","songAuthorName":"Freeek","levelAuthorName":"freeek","bpm":200},"stats":{"downloads":473727,"plays":18661,"downVotes":1420,"upVotes":5050,"heat":23.7687066,"rating":0.7605381326555614},"description":"Expert and a Hard difficulty. 2800 notes and Even more event light triggers... Enjoy!","deletedAt":null,"_id":"5cff620c48229f7d88fc6117","key":"3a","name":"Through the Fire and Flames - Dragonforce","uploader":{"_id":"5cff0b7298cc5a672c84e8ad","username":"freeek"},"uploaded":"2018-05-11T12:36:36.000Z","hash":"9b0881baab8b72f33424ecf0d9ad247ea10afbb2","directDownload":"/cdn/3a/9b0881baab8b72f33424ecf0d9ad247ea10afbb2.zip","downloadURL":"/api/download/key/3a","coverURL":"/cdn/3a/9b0881baab8b72f33424ecf0d9ad247ea10afbb2.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":523.625,"length":245,"bombs":0,"notes":633,"obstacles":13,"njs":10,"njsOffset":0},"expert":{"duration":523.5650024414062,"length":245,"bombs":0,"notes":880,"obstacles":19,"njs":12,"njsOffset":0},"expertPlus":null}}],"songName":"Uprising","songSubName":"Muse","songAuthorName":"Rustic","levelAuthorName":"rustic","bpm":128},"stats":{"downloads":463841,"plays":11598,"downVotes":167,"upVotes":9303,"heat":84.4243339,"rating":0.951720218307175},"description":"Expert / Hard\r\nhttps://youtu.be/WpFUt3UNp7c","deletedAt":null,"_id":"5cff620d48229f7d88fc655e","key":"4c6","name":"Muse - Uprising","uploader":{"_id":"5cff0b7298cc5a672c84e8c4","username":"rustic"},"uploaded":"2018-06-11T21:47:41.000Z","hash":"00e5671e594a6fe621c3605fcc5a0e4466ba6478","directDownload":"/cdn/4c6/00e5671e594a6fe621c3605fcc5a0e4466ba6478.zip","downloadURL":"/api/download/key/4c6","coverURL":"/cdn/4c6/00e5671e594a6fe621c3605fcc5a0e4466ba6478.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":567.893310546875,"length":212,"bombs":24,"notes":604,"obstacles":27,"njs":10,"njsOffset":0},"hard":{"duration":567.893310546875,"length":212,"bombs":24,"notes":762,"obstacles":31,"njs":10,"njsOffset":0},"expert":{"duration":567.893310546875,"length":212,"bombs":24,"notes":776,"obstacles":31,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Shake It Off","songSubName":"Taylor Swift","songAuthorName":"Jovian","levelAuthorName":"jovian","bpm":160},"stats":{"downloads":461671,"plays":27795,"downVotes":349,"upVotes":5459,"heat":65.787732,"rating":0.9075319571041482},"description":"Supports - Normal, Hard, Expert difficulties. \r\n\r\nGameplay: https://youtu.be/7pbtO1B7tK0\r\n\r\nExpert: As chartered (gameplay shown in video) \r\nHard: Cuts down drastically on arm cross overs.\r\nNormal: As above, additionally cuts down on double/triples and compresses strike range.","deletedAt":null,"_id":"5cff620c48229f7d88fc63f5","key":"348","name":"Taylor Swift - Shake It Off","uploader":{"_id":"5cff0b7298cc5a672c84ebab","username":"jovian"},"uploaded":"2018-06-02T07:59:29.000Z","hash":"483c7bc03133c6e215f3018e5033b0913821126f","directDownload":"/cdn/348/483c7bc03133c6e215f3018e5033b0913821126f.zip","downloadURL":"/api/download/key/348","coverURL":"/cdn/348/483c7bc03133c6e215f3018e5033b0913821126f.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":399.6875,"length":228,"bombs":0,"notes":332,"obstacles":58,"njs":10,"njsOffset":0},"hard":{"duration":399.6875,"length":228,"bombs":0,"notes":367,"obstacles":76,"njs":10,"njsOffset":0},"expert":{"duration":399.6875,"length":228,"bombs":0,"notes":634,"obstacles":76,"njs":10,"njsOffset":0},"expertPlus":{"duration":399.6875,"length":228,"bombs":0,"notes":931,"obstacles":76,"njs":10,"njsOffset":0}}}],"songName":"Midnight City","songSubName":"M83","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":105},"stats":{"downloads":458321,"plays":44907,"downVotes":577,"upVotes":7711,"heat":41.848622,"rating":0.9019191908663293},"description":"Improved beat mapping & added difficulties.\r\nWatch on YouTube: https://youtu.be/UeNn5RQ51is\r\nDifficulties: Expert+, Expert, Hard, Normal\r\n\r\nIf you like this, check out my other beat maps:\r\nWhat You Know by Two Door Cinema Club\r\nKids by MGMT\r\n\r\nTrain you must. Dance you shall. :)","deletedAt":null,"_id":"5cff620c48229f7d88fc6220","key":"155","name":"Midnight City - M83","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-05-20T18:56:28.000Z","hash":"fbd8b9338bffb98555a10c69887234fac959d83d","directDownload":"/cdn/155/fbd8b9338bffb98555a10c69887234fac959d83d.zip","downloadURL":"/api/download/key/155","coverURL":"/cdn/155/fbd8b9338bffb98555a10c69887234fac959d83d.jpeg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":183.5,"length":81,"bombs":0,"notes":174,"obstacles":0,"njs":10,"njsOffset":0},"expert":{"duration":183.5,"length":81,"bombs":0,"notes":262,"obstacles":0,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Unravel","songSubName":"(TV Size)","songAuthorName":"TK","levelAuthorName":"winepic","bpm":135},"stats":{"downloads":448107,"plays":52247,"downVotes":375,"upVotes":4185,"heat":18.3344805,"rating":0.8846924645925284},"description":"Map made by me. Includes Hard and Expert difficulties.","deletedAt":null,"_id":"5cff620c48229f7d88fc60e5","key":"7","name":"Unravel (Tokyo Ghoul OP) TV Size","uploader":{"_id":"5cff0b7298cc5a672c84e8b6","username":"winepic"},"uploaded":"2018-05-08T16:25:10.000Z","hash":"b9867cdccf8b27d7a174c861adc69215c86cdab8","directDownload":"/cdn/7/b9867cdccf8b27d7a174c861adc69215c86cdab8.zip","downloadURL":"/api/download/key/7","coverURL":"/cdn/7/b9867cdccf8b27d7a174c861adc69215c86cdab8.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":{"duration":439,"length":233,"bombs":0,"notes":579,"obstacles":38,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"CAN'T STOP THE FEELING!","songSubName":"Justin Timberlake","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":113},"stats":{"downloads":445793,"plays":9160,"downVotes":170,"upVotes":6076,"heat":78.470849,"rating":0.9387378041429791},"description":"Difficulties: Expert Only     Lighting by GreatYazer\r\nWatch Me on Twitch: http://www.twitch.tv/bennydabeastlive\r\n\r\nIf you like this, check out my other beat maps:\r\nMidnight City by M83: https://beatsaver.com/details.php?id=542\r\nKids by MGMT: https://beatsaver.com/details.php?id=421\r\nWhat You Know by Two Door Cinema Club: https://beatsaver.com/details.php?id=1107\r\nPolish Girl by Neon Indian: https://beatsaver.com/details.php?id=694","deletedAt":null,"_id":"5cff620d48229f7d88fc64fd","key":"45e","name":"CAN'T STOP THE FEELING! - Justin Timberlake","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-06-08T21:44:40.000Z","hash":"91ba25c089d50e93154e2c7920c46d4730f22569","directDownload":"/cdn/45e/91ba25c089d50e93154e2c7920c46d4730f22569.zip","downloadURL":"/api/download/key/45e","coverURL":"/cdn/45e/91ba25c089d50e93154e2c7920c46d4730f22569.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":{"duration":368,"length":200,"bombs":9,"notes":603,"obstacles":40,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Bangarang","songSubName":"Skrillex","songAuthorName":"tmoss94","levelAuthorName":"tmoss94","bpm":110},"stats":{"downloads":433015,"plays":30721,"downVotes":321,"upVotes":2872,"heat":35.6593327,"rating":0.8642652382205075},"description":"Expert only, got a little lighting but nothing super fancy.","deletedAt":null,"_id":"5cff620c48229f7d88fc61a6","key":"d3","name":"Bangarang - Skrillex","uploader":{"_id":"5cff0b7298cc5a672c84eab3","username":"tmoss94"},"uploaded":"2018-05-17T19:09:28.000Z","hash":"4ffb4b82a7443e184aeace69b9d12f63d39b4386","directDownload":"/cdn/d3/4ffb4b82a7443e184aeace69b9d12f63d39b4386.zip","downloadURL":"/api/download/key/d3","coverURL":"/cdn/d3/4ffb4b82a7443e184aeace69b9d12f63d39b4386.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":486,"length":173,"bombs":0,"notes":368,"obstacles":285,"njs":10,"njsOffset":0},"expert":{"duration":486,"length":173,"bombs":4,"notes":523,"obstacles":329,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Thunder","songSubName":"(Maikyy Beatmap)","songAuthorName":"Imagine Dragons","levelAuthorName":"maikyy","bpm":168},"stats":{"downloads":431893,"plays":26685,"downVotes":713,"upVotes":1186,"heat":18.2184611,"rating":0.6117069756773167},"description":"Reupload with an added 'easier' Hard difficulty, really hard to balance so please let me know what I could change to make it better","deletedAt":null,"_id":"5cff620c48229f7d88fc60f2","key":"14","name":"Thunder - Imagine Dragons","uploader":{"_id":"5cff0b7298cc5a672c84e8e3","username":"maikyy"},"uploaded":"2018-05-09T02:17:42.000Z","hash":"f2c56d4ea62d31d04982db9a9e46199716a0dcfc","directDownload":"/cdn/14/f2c56d4ea62d31d04982db9a9e46199716a0dcfc.zip","downloadURL":"/api/download/key/14","coverURL":"/cdn/14/f2c56d4ea62d31d04982db9a9e46199716a0dcfc.png"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":417,"length":195,"bombs":4,"notes":301,"obstacles":24,"njs":10,"njsOffset":0},"hard":{"duration":417,"length":195,"bombs":4,"notes":486,"obstacles":24,"njs":10,"njsOffset":0},"expert":{"duration":417.5,"length":195,"bombs":4,"notes":620,"obstacles":24,"njs":10,"njsOffset":0},"expertPlus":{"duration":417.5,"length":195,"bombs":0,"notes":894,"obstacles":0,"njs":12,"njsOffset":0}}}],"songName":"Shut Up and Dance","songSubName":"WALK THE MOON","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":128},"stats":{"downloads":428629,"plays":558,"downVotes":138,"upVotes":10964,"heat":395.830468,"rating":0.9580415431678604},"description":"Difficulties: Expert+ (Added 11/15), Expert, Hard, Normal\r\nYouTube Preview: https://youtu.be/x9hJbTlPQUY","deletedAt":null,"_id":"5cff621148229f7d88fc77c9","key":"2144","name":"Shut Up and Dance - WALK THE MOON","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-11-21T01:27:00.000Z","hash":"89cf8bb07afb3c59ae7b5ac00337d62261c36fb4","directDownload":"/cdn/2144/89cf8bb07afb3c59ae7b5ac00337d62261c36fb4.zip","downloadURL":"/api/download/key/2144","coverURL":"/cdn/2144/89cf8bb07afb3c59ae7b5ac00337d62261c36fb4.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":272.0799865722656,"length":136,"bombs":28,"notes":290,"obstacles":76,"njs":10,"njsOffset":0},"expert":{"duration":272.0799865722656,"length":136,"bombs":28,"notes":374,"obstacles":76,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Portal - Still Alive (Uppermost Remix)","songSubName":"Uppermost","songAuthorName":"Kryptikos","levelAuthorName":"kryptikos","bpm":120},"stats":{"downloads":420093,"plays":32883,"downVotes":339,"upVotes":4931,"heat":47.466913,"rating":0.9026549349629458},"description":"Second track mapped, includes Hard and Expert difficulties.\r\n\r\nI know that this isn't the hardest track, but I find it to be fun, which I see as priority number one. :)","deletedAt":null,"_id":"5cff620c48229f7d88fc629f","key":"1dd","name":"Portal - Still Alive (Uppermost Remix)","uploader":{"_id":"5cff0b7298cc5a672c84eab4","username":"kryptikos"},"uploaded":"2018-05-23T19:33:41.000Z","hash":"01308128a87b6b561799359ee5aa213168c3b49f","directDownload":"/cdn/1dd/01308128a87b6b561799359ee5aa213168c3b49f.zip","downloadURL":"/api/download/key/1dd","coverURL":"/cdn/1dd/01308128a87b6b561799359ee5aa213168c3b49f.jpg"}],"totalDocs":35794,"lastPage":3579,"prevPage":1,"nextPage":3}"#.into());
            client.maps_downloads_page(2).await.unwrap();
        }
        #[async_test]
        async fn test_maps_plays() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/plays/0").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":true,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":{"duration":328.556396484375,"length":142,"bombs":0,"notes":188,"obstacles":84,"njs":10,"njsOffset":0},"normal":{"duration":328.681396484375,"length":142,"bombs":40,"notes":219,"obstacles":70,"njs":10,"njsOffset":0},"hard":{"duration":328.681396484375,"length":142,"bombs":42,"notes":386,"obstacles":72,"njs":10,"njsOffset":0},"expert":{"duration":328.681396484375,"length":142,"bombs":46,"notes":623,"obstacles":69,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Beat it","songSubName":"Michael Jackson","songAuthorName":"Freeek","levelAuthorName":"freeek","bpm":139},"stats":{"downloads":941091,"plays":117624,"downVotes":768,"upVotes":12584,"heat":51.2995594,"rating":0.9171309232285056},"description":"Easy/Normal/Hard/Expert - Obstacles and mines purely for dance moves! 100% Expert Playthrough: https://bit.ly/2IKzCp3\r\n\r\n- Freeek =)","deletedAt":null,"_id":"5cff620c48229f7d88fc62d6","key":"217","name":"Beat it - Michael Jackson","uploader":{"_id":"5cff0b7298cc5a672c84e8ad","username":"freeek"},"uploaded":"2018-05-25T14:20:19.000Z","hash":"4b2da842b687ec4cfbc948c583c21c79d4120de0","directDownload":"/cdn/217/4b2da842b687ec4cfbc948c583c21c79d4120de0.zip","downloadURL":"/api/download/key/217","coverURL":"/cdn/217/4b2da842b687ec4cfbc948c583c21c79d4120de0.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":468,"length":212,"bombs":4,"notes":415,"obstacles":42,"njs":10,"njsOffset":0},"hard":{"duration":468,"length":212,"bombs":40,"notes":695,"obstacles":94,"njs":10,"njsOffset":0},"expert":{"duration":468,"length":212,"bombs":50,"notes":932,"obstacles":103,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Gangnam Style","songSubName":"PSY","songAuthorName":"GreatYazer","levelAuthorName":"greatyazer","bpm":132},"stats":{"downloads":1069207,"plays":82700,"downVotes":617,"upVotes":17445,"heat":41.5047436,"rating":0.94147214608232},"description":"Expert, Hard, and Normal tracks.  I tried my best to setup the chorus charts to allow you to mimic the classic dance moves.  I think it matches up quite nicely.  I hope you have as much fun playing as I did making this!  Enjoy!","deletedAt":null,"_id":"5cff620c48229f7d88fc620d","key":"141","name":"GANGNAM STYLE","uploader":{"_id":"5cff0b7298cc5a672c84ea71","username":"greatyazer"},"uploaded":"2018-05-20T09:59:02.000Z","hash":"8e7e553099436af31564adf1977a5ec42a61cfff","directDownload":"/cdn/141/8e7e553099436af31564adf1977a5ec42a61cfff.zip","downloadURL":"/api/download/key/141","coverURL":"/cdn/141/8e7e553099436af31564adf1977a5ec42a61cfff.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":640.7428588867188,"length":311,"bombs":57,"notes":423,"obstacles":33,"njs":10,"njsOffset":0},"expert":{"duration":640.7428588867188,"length":311,"bombs":68,"notes":616,"obstacles":33,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Harder Better Faster Stronger","songSubName":"Daft Punk","songAuthorName":"RunRockGame","levelAuthorName":"runrockgame","bpm":123},"stats":{"downloads":939245,"plays":74223,"downVotes":761,"upVotes":13105,"heat":65.0537892,"rating":0.9199051796117618},"description":"Expert & Hard | 600+ Blocks | Full Song 3:44 | Includes Lighting. Request to: @themakertales","deletedAt":null,"_id":"5cff620c48229f7d88fc63dd","key":"32e","name":"Daft Punk - Harder Better Faster Stronger","uploader":{"_id":"5cff0b7398cc5a672c84f04e","username":"runrockgame"},"uploaded":"2018-06-01T18:01:45.000Z","hash":"7c7f38d467bb43fe11a142581e63e324622ecc71","directDownload":"/cdn/32e/7c7f38d467bb43fe11a142581e63e324622ecc71.zip","downloadURL":"/api/download/key/32e","coverURL":"/cdn/32e/7c7f38d467bb43fe11a142581e63e324622ecc71.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":{"duration":418,"length":200,"bombs":0,"notes":546,"obstacles":10,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Believer","songSubName":"Imagine Dragons","songAuthorName":"Rustic","levelAuthorName":"rustic","bpm":125},"stats":{"downloads":1045930,"plays":70725,"downVotes":352,"upVotes":9390,"heat":18.911539,"rating":0.9346479331024395},"description":"Currently expert only. Events included.","deletedAt":null,"_id":"5cff620c48229f7d88fc60e9","key":"b","name":"Imagine Dragons - Believer","uploader":{"_id":"5cff0b7298cc5a672c84e8c4","username":"rustic"},"uploaded":"2018-05-08T18:56:36.000Z","hash":"19f2879d11a91b51a5c090d63471c3e8d9b7aee3","directDownload":"/cdn/b/19f2879d11a91b51a5c090d63471c3e8d9b7aee3.zip","downloadURL":"/api/download/key/b","coverURL":"/cdn/b/19f2879d11a91b51a5c090d63471c3e8d9b7aee3.jpg"},{"metadata":{"difficulties":{"easy":true,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":{"duration":342.8125,"length":165,"bombs":0,"notes":313,"obstacles":27,"njs":10,"njsOffset":0},"normal":{"duration":343.8125,"length":166,"bombs":0,"notes":480,"obstacles":27,"njs":10,"njsOffset":0},"hard":{"duration":343.8125,"length":166,"bombs":0,"notes":730,"obstacles":27,"njs":10,"njsOffset":0},"expert":{"duration":341.75,"length":165,"bombs":11,"notes":735,"obstacles":2,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Lone Digger","songSubName":"","songAuthorName":"Caravan Palace","levelAuthorName":"calijor","bpm":124},"stats":{"downloads":677451,"plays":57999,"downVotes":823,"upVotes":14212,"heat":46.3871704,"rating":0.920647601959446},"description":"Caravan Palace - Lone Digger\r\nEasy | Normal | Hard | Expert\r\nThis is a re-upload of my previous map, with improvements for hard, and a new, harder expert difficulty mapped by Squeaksies, as well as lower difficulties as iterations on my original map.\r\n\r\nBPM: 124\r\nDuration: 2:49\r\nNotes (Hard): 730\r\nNotes (Expert): 735\r\nPreview (Hard): https://youtu.be/NExvLUyeBUU\r\nPreview (Expert): https://youtu.be/NYmExXlpB0k","deletedAt":null,"_id":"5cff620c48229f7d88fc6282","key":"1bf","name":"Caravan Palace - Lone Digger","uploader":{"_id":"5cff0b7298cc5a672c84ebb1","username":"calijor"},"uploaded":"2018-05-23T00:15:19.000Z","hash":"906160fd1f808e2f34f33c2ca5920118855c065d","directDownload":"/cdn/1bf/906160fd1f808e2f34f33c2ca5920118855c065d.zip","downloadURL":"/api/download/key/1bf","coverURL":"/cdn/1bf/906160fd1f808e2f34f33c2ca5920118855c065d.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":false,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":473.1875,"length":228,"bombs":0,"notes":399,"obstacles":0,"njs":10,"njsOffset":0},"hard":{"duration":473.1875,"length":228,"bombs":0,"notes":496,"obstacles":0,"njs":10,"njsOffset":0},"expert":null,"expertPlus":null}}],"songName":"Seven Nation Army","songSubName":"The White Stripes","songAuthorName":"BlueASIS","levelAuthorName":"blueasis","bpm":124},"stats":{"downloads":776038,"plays":56470,"downVotes":437,"upVotes":11620,"heat":74.676625,"rating":0.93635850868144},"description":"UPDATED! @BlueASIS#4095 on Discord let me know what you think","deletedAt":null,"_id":"5cff620d48229f7d88fc64a0","key":"3fc","name":"The White Stripes - Seven Nation Army","uploader":{"_id":"5cff0b7298cc5a672c84eb5d","username":"blueasis"},"uploaded":"2018-06-06T18:51:03.000Z","hash":"0b0ad0f34b2d0687a9794bcf5019100fda06971e","directDownload":"/cdn/3fc/0b0ad0f34b2d0687a9794bcf5019100fda06971e.zip","downloadURL":"/api/download/key/3fc","coverURL":"/cdn/3fc/0b0ad0f34b2d0687a9794bcf5019100fda06971e.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":183.5,"length":81,"bombs":0,"notes":174,"obstacles":0,"njs":10,"njsOffset":0},"expert":{"duration":183.5,"length":81,"bombs":0,"notes":262,"obstacles":0,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Unravel","songSubName":"(TV Size)","songAuthorName":"TK","levelAuthorName":"winepic","bpm":135},"stats":{"downloads":444166,"plays":52247,"downVotes":369,"upVotes":4150,"heat":18.3311622,"rating":0.8851378895668524},"description":"Map made by me. Includes Hard and Expert difficulties.","deletedAt":null,"_id":"5cff620c48229f7d88fc60e5","key":"7","name":"Unravel (Tokyo Ghoul OP) TV Size","uploader":{"_id":"5cff0b7298cc5a672c84e8b6","username":"winepic"},"uploaded":"2018-05-08T16:25:10.000Z","hash":"b9867cdccf8b27d7a174c861adc69215c86cdab8","directDownload":"/cdn/7/b9867cdccf8b27d7a174c861adc69215c86cdab8.zip","downloadURL":"/api/download/key/7","coverURL":"/cdn/7/b9867cdccf8b27d7a174c861adc69215c86cdab8.png"},{"metadata":{"difficulties":{"easy":true,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":{"duration":265.510009765625,"length":189,"bombs":0,"notes":297,"obstacles":57,"njs":10,"njsOffset":0},"normal":{"duration":264.510009765625,"length":188,"bombs":0,"notes":358,"obstacles":62,"njs":10,"njsOffset":0},"hard":{"duration":266.010009765625,"length":190,"bombs":0,"notes":514,"obstacles":67,"njs":10,"njsOffset":0},"expert":{"duration":276.010009765625,"length":197,"bombs":0,"notes":681,"obstacles":67,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Clint Eastwood","songSubName":"Gorillaz","songAuthorName":"unknow","levelAuthorName":"freeek","bpm":84},"stats":{"downloads":471361,"plays":51819,"downVotes":372,"upVotes":5758,"heat":51.4893997,"rating":0.9075010599167767},"description":"Easy/Normal/Hard/Expert - Audio is as loud without clipping I swear! 100% Expert Playthrough: https://bit.ly/2LuFcxq\r\n\r\nHave fun! =D\r\n\r\n- Freeek =)","deletedAt":null,"_id":"5cff620c48229f7d88fc62e4","key":"225","name":"Clint Eastwood - Gorillaz","uploader":{"_id":"5cff0b7298cc5a672c84e8ad","username":"freeek"},"uploaded":"2018-05-25T20:58:36.000Z","hash":"507f0e09326d37e09dca08e3c2597f027dbe1940","directDownload":"/cdn/225/507f0e09326d37e09dca08e3c2597f027dbe1940.zip","downloadURL":"/api/download/key/225","coverURL":"/cdn/225/507f0e09326d37e09dca08e3c2597f027dbe1940.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":{"duration":189,"length":90,"bombs":0,"notes":330,"obstacles":0,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Super Mario Bros. Theme (Overworld Theme)","songSubName":"Nintendo","songAuthorName":"red knight","levelAuthorName":"redknight","bpm":125},"stats":{"downloads":552611,"plays":49329,"downVotes":1093,"upVotes":4653,"heat":22.15705,"rating":0.7869063116417228},"description":"Expert only","deletedAt":null,"_id":"5cff620c48229f7d88fc6106","key":"29","name":"Super Mario Bros Theme","uploader":{"_id":"5cff0b7298cc5a672c84e917","username":"redknight"},"uploaded":"2018-05-10T16:34:12.000Z","hash":"c1c8e2b9394050afad435608137941da0b64b8f3","directDownload":"/cdn/29/c1c8e2b9394050afad435608137941da0b64b8f3.zip","downloadURL":"/api/download/key/29","coverURL":"/cdn/29/c1c8e2b9394050afad435608137941da0b64b8f3.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":472.5,"length":232,"bombs":0,"notes":373,"obstacles":11,"njs":10,"njsOffset":0},"hard":{"duration":472.5,"length":232,"bombs":0,"notes":503,"obstacles":14,"njs":10,"njsOffset":0},"expert":{"duration":472.5,"length":232,"bombs":0,"notes":682,"obstacles":30,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Livin' On A Prayer","songSubName":"Bon Jovi","songAuthorName":"Bon Jovi","levelAuthorName":"jnua12345","bpm":122},"stats":{"downloads":472998,"plays":47593,"downVotes":840,"upVotes":2606,"heat":34.0630574,"rating":0.7341707864621012},"description":"Expert, Hard, Normal 122BPM","deletedAt":null,"_id":"5cff620c48229f7d88fc6194","key":"bd","name":"Bon Jovi - Livin' On A Prayer","uploader":{"_id":"5cff0b7298cc5a672c84e9da","username":"jnua12345"},"uploaded":"2018-05-17T01:12:03.000Z","hash":"4b47cccc819825f10ffbbf0d52ce2a00cc7a5f88","directDownload":"/cdn/bd/4b47cccc819825f10ffbbf0d52ce2a00cc7a5f88.zip","downloadURL":"/api/download/key/bd","coverURL":"/cdn/bd/4b47cccc819825f10ffbbf0d52ce2a00cc7a5f88.jpg"}],"totalDocs":35533,"lastPage":3553,"prevPage":null,"nextPage":1}"#.into());
            client.maps_plays().await.unwrap();
        }
        #[async_test]
        async fn test_maps_plays_page() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/plays/2").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":168.25,"length":71,"bombs":0,"notes":183,"obstacles":61,"njs":10,"njsOffset":0},"hard":{"duration":168.25,"length":71,"bombs":0,"notes":254,"obstacles":61,"njs":10,"njsOffset":0},"expert":{"duration":168.25,"length":71,"bombs":0,"notes":377,"obstacles":61,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"He's a pirate","songSubName":"Hans Zimmer & Klaus Badelt","songAuthorName":"Hans Zimmer & Klaus Badelt","levelAuthorName":"jnua12345","bpm":140},"stats":{"downloads":408651,"plays":36415,"downVotes":3863,"upVotes":1191,"heat":22.9591858,"rating":0.25594296508008013},"description":"Expert, Hard, and Normal 140 BPM","deletedAt":null,"_id":"5cff620c48229f7d88fc6159","key":"80","name":"He's a pirate - Hans Zimmer & Klaus Badelt","uploader":{"_id":"5cff0b7298cc5a672c84e9da","username":"jnua12345"},"uploaded":"2018-05-14T17:49:31.000Z","hash":"f1ec6967a2a3940c2e65fcb207fc418f2813403d","directDownload":"/cdn/80/f1ec6967a2a3940c2e65fcb207fc418f2813403d.zip","downloadURL":"/api/download/key/80","coverURL":"/cdn/80/f1ec6967a2a3940c2e65fcb207fc418f2813403d.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":619.0533447265625,"length":290,"bombs":0,"notes":574,"obstacles":2,"njs":10,"njsOffset":0},"hard":{"duration":619.0533447265625,"length":290,"bombs":0,"notes":739,"obstacles":2,"njs":10,"njsOffset":0},"expert":{"duration":619.0533447265625,"length":290,"bombs":0,"notes":849,"obstacles":2,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"I Gotta Feeling","songSubName":"The Black Eyed Peas","songAuthorName":"RunRockGame","levelAuthorName":"runrockgame","bpm":128},"stats":{"downloads":341751,"plays":36096,"downVotes":518,"upVotes":3106,"heat":65.3734754,"rating":0.8267748309557275},"description":"Expert, Hard & Normal | 800+ Blocks | Full Song 4:56 | Includes Lighting. Request to: @themakertales","deletedAt":null,"_id":"5cff620c48229f7d88fc63f1","key":"344","name":"The Black Eyed Peas - I Gotta Feeling","uploader":{"_id":"5cff0b7398cc5a672c84f04e","username":"runrockgame"},"uploaded":"2018-06-02T06:30:23.000Z","hash":"0e440ed89a72fbe2b9835fcdc57688423d0b7d02","directDownload":"/cdn/344/0e440ed89a72fbe2b9835fcdc57688423d0b7d02.zip","downloadURL":"/api/download/key/344","coverURL":"/cdn/344/0e440ed89a72fbe2b9835fcdc57688423d0b7d02.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":324,"length":162,"bombs":0,"notes":335,"obstacles":22,"njs":10,"njsOffset":0},"expert":{"duration":324,"length":162,"bombs":0,"notes":511,"obstacles":11,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"New Dawn","songSubName":"Prototyperaptor","songAuthorName":"Rustic","levelAuthorName":"rustic","bpm":120},"stats":{"downloads":155055,"plays":35038,"downVotes":205,"upVotes":569,"heat":17.9620569,"rating":0.7034052594285399},"description":"Hard/Expert + Lights","deletedAt":null,"_id":"5cff620c48229f7d88fc60ef","key":"11","name":"Prototyperaptor - New Dawn","uploader":{"_id":"5cff0b7298cc5a672c84e8c4","username":"rustic"},"uploaded":"2018-05-09T00:30:43.000Z","hash":"b677fb72f916f74d69e532b279ce90b28e4fa14f","directDownload":"/cdn/11/b677fb72f916f74d69e532b279ce90b28e4fa14f.zip","downloadURL":"/api/download/key/11","coverURL":"/cdn/11/b677fb72f916f74d69e532b279ce90b28e4fa14f.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":535.5889892578125,"length":172,"bombs":0,"notes":344,"obstacles":0,"njs":10,"njsOffset":0},"hard":{"duration":535.5889892578125,"length":172,"bombs":0,"notes":553,"obstacles":0,"njs":10,"njsOffset":0},"expert":{"duration":535.5889892578125,"length":172,"bombs":0,"notes":835,"obstacles":0,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"American Idiot","songSubName":"Green Day","songAuthorName":"DownyCat","levelAuthorName":"downycat","bpm":186},"stats":{"downloads":311356,"plays":34648,"downVotes":413,"upVotes":5242,"heat":91.1248572,"rating":0.8952879027838307},"description":"Expert - Hard - Normal Charts\r\nLighting Events","deletedAt":null,"_id":"5cff620d48229f7d88fc65ce","key":"541","name":"American Idiot - Green Day","uploader":{"_id":"5cff0b7398cc5a672c84ede5","username":"downycat"},"uploaded":"2018-06-15T13:00:45.000Z","hash":"4b932c34c8402d4b1d1cbc11ec0eebf9d1ce9569","directDownload":"/cdn/541/4b932c34c8402d4b1d1cbc11ec0eebf9d1ce9569.zip","downloadURL":"/api/download/key/541","coverURL":"/cdn/541/4b932c34c8402d4b1d1cbc11ec0eebf9d1ce9569.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":388.90625,"length":191,"bombs":0,"notes":402,"obstacles":15,"njs":10,"njsOffset":0},"hard":{"duration":389,"length":191,"bombs":0,"notes":618,"obstacles":15,"njs":10,"njsOffset":0},"expert":{"duration":389,"length":191,"bombs":0,"notes":914,"obstacles":15,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Black Betty","songSubName":"Caravan Palace Cover","songAuthorName":"Caravan Palace","levelAuthorName":"calijor","bpm":122},"stats":{"downloads":278149,"plays":34223,"downVotes":413,"upVotes":3838,"heat":49.5429939,"rating":0.8702759162699826},"description":"Caravan Palace - Black Betty (cover)\r\nThis is not the classic Black Betty but instead an electro-swing cover by Caravan Palace, and it is a banger.\r\n\r\nNormal | Hard | Expert\r\n\r\nBPM: 122\r\nNotes (Expert): 914\r\nDuration: 3:11\r\n\r\nPreview: https://youtu.be/5SgT9hUO7rU","deletedAt":null,"_id":"5cff620c48229f7d88fc62c8","key":"208","name":"Caravan Palace - Black Betty (cover)","uploader":{"_id":"5cff0b7298cc5a672c84ebb1","username":"calijor"},"uploaded":"2018-05-24T23:06:15.000Z","hash":"32d2e0072615066f6958ea33519f62eca7d8f59e","directDownload":"/cdn/208/32d2e0072615066f6958ea33519f62eca7d8f59e.zip","downloadURL":"/api/download/key/208","coverURL":"/cdn/208/32d2e0072615066f6958ea33519f62eca7d8f59e.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":false,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":365.49951171875,"length":162,"bombs":0,"notes":275,"obstacles":70,"njs":10,"njsOffset":0},"expert":null,"expertPlus":null}}],"songName":"You're Welcome","songSubName":"Moana","songAuthorName":"Prime","levelAuthorName":"prime","bpm":135},"stats":{"downloads":365259,"plays":34012,"downVotes":278,"upVotes":3955,"heat":53.5988492,"rating":0.8991650755241951},"description":"Difficulties: Hard\r\nBPM: 135\r\nLights: Done\r\nListen: https://www.youtube.com/watch?v=79DijItQXMM\r\n\r\nNot meant to be challenging, just a feel-good song to enjoy :)","deletedAt":null,"_id":"5cff620c48229f7d88fc631d","key":"261","name":"Moana - You're Welcome","uploader":{"_id":"5cff0b7298cc5a672c84eb1e","username":"prime"},"uploaded":"2018-05-27T01:25:01.000Z","hash":"0e4b5e325760bdabb66caea4506c5463daf4b51f","directDownload":"/cdn/261/0e4b5e325760bdabb66caea4506c5463daf4b51f.zip","downloadURL":"/api/download/key/261","coverURL":"/cdn/261/0e4b5e325760bdabb66caea4506c5463daf4b51f.jpg"},{"metadata":{"difficulties":{"easy":true,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":{"duration":596.3594360351562,"length":176,"bombs":0,"notes":349,"obstacles":54,"njs":10,"njsOffset":0},"normal":{"duration":591.7109985351562,"length":174,"bombs":0,"notes":399,"obstacles":78,"njs":10,"njsOffset":0},"hard":{"duration":591.7109985351562,"length":174,"bombs":0,"notes":491,"obstacles":81,"njs":10,"njsOffset":0},"expert":{"duration":591.6094360351562,"length":174,"bombs":28,"notes":498,"obstacles":90,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Kung Fu Fighting","songSubName":"Carl Douglas","songAuthorName":"Kleid","levelAuthorName":"kleid","bpm":103},"stats":{"downloads":283456,"plays":32946,"downVotes":238,"upVotes":2336,"heat":44.8870944,"rating":0.869217331994228},"description":"Kung Fu Fighting (Carl Douglas)\r\nFinished lighting\r\nDifficulties: Easy, Normal, Hard, Expert","deletedAt":null,"_id":"5cff620c48229f7d88fc626b","key":"1a8","name":"Kung Fu Fighting (Carl Douglas)","uploader":{"_id":"5cff0b7398cc5a672c84ecd9","username":"kleid"},"uploaded":"2018-05-22T15:33:58.000Z","hash":"dc3525c5a21d3dee732966e7b46ecc06120f7b84","directDownload":"/cdn/1a8/dc3525c5a21d3dee732966e7b46ecc06120f7b84.zip","downloadURL":"/api/download/key/1a8","coverURL":"/cdn/1a8/dc3525c5a21d3dee732966e7b46ecc06120f7b84.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":272.0799865722656,"length":136,"bombs":28,"notes":290,"obstacles":76,"njs":10,"njsOffset":0},"expert":{"duration":272.0799865722656,"length":136,"bombs":28,"notes":374,"obstacles":76,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Portal - Still Alive (Uppermost Remix)","songSubName":"Uppermost","songAuthorName":"Kryptikos","levelAuthorName":"kryptikos","bpm":120},"stats":{"downloads":420090,"plays":32883,"downVotes":339,"upVotes":4931,"heat":47.466913,"rating":0.9026549349629458},"description":"Second track mapped, includes Hard and Expert difficulties.\r\n\r\nI know that this isn't the hardest track, but I find it to be fun, which I see as priority number one. :)","deletedAt":null,"_id":"5cff620c48229f7d88fc629f","key":"1dd","name":"Portal - Still Alive (Uppermost Remix)","uploader":{"_id":"5cff0b7298cc5a672c84eab4","username":"kryptikos"},"uploaded":"2018-05-23T19:33:41.000Z","hash":"01308128a87b6b561799359ee5aa213168c3b49f","directDownload":"/cdn/1dd/01308128a87b6b561799359ee5aa213168c3b49f.zip","downloadURL":"/api/download/key/1dd","coverURL":"/cdn/1dd/01308128a87b6b561799359ee5aa213168c3b49f.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":458,"length":196,"bombs":0,"notes":412,"obstacles":21,"njs":10,"njsOffset":0},"hard":{"duration":458,"length":196,"bombs":0,"notes":500,"obstacles":23,"njs":10,"njsOffset":0},"expert":{"duration":458,"length":196,"bombs":16,"notes":877,"obstacles":23,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"DotA","songSubName":"","songAuthorName":"Basshunter","levelAuthorName":"fossilgenera","bpm":140},"stats":{"downloads":315812,"plays":32014,"downVotes":602,"upVotes":7561,"heat":48.2210135,"rating":0.8979343211999712},"description":"Normal / Hard / Expert\r\n877 Notes || 23 Obstacles || Events || 140 BPM\r\nVideo: https://youtu.be/QBkYyVkIdm0\r\n\r\nNot responsible for seizures.\r\nEnjoy!","deletedAt":null,"_id":"5cff620c48229f7d88fc62b0","key":"1ef","name":"DotA - Basshunter","uploader":{"_id":"5cff0b7298cc5a672c84ec3b","username":"fossilgenera"},"uploaded":"2018-05-24T02:43:51.000Z","hash":"dc4906a7f76965cdd2b75c72cf470344b698e352","directDownload":"/cdn/1ef/dc4906a7f76965cdd2b75c72cf470344b698e352.zip","downloadURL":"/api/download/key/1ef","coverURL":"/cdn/1ef/dc4906a7f76965cdd2b75c72cf470344b698e352.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":291,"length":136,"bombs":4,"notes":353,"obstacles":15,"njs":10,"njsOffset":0},"hard":{"duration":291,"length":136,"bombs":4,"notes":455,"obstacles":15,"njs":10,"njsOffset":0},"expert":{"duration":291,"length":136,"bombs":10,"notes":526,"obstacles":15,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"LUVORATORRRRRY!","songSubName":"feat.nqrse","songAuthorName":"Reol","levelAuthorName":"datkami","bpm":128},"stats":{"downloads":274785,"plays":31684,"downVotes":180,"upVotes":4260,"heat":21.0834602,"rating":0.9227949333597193},"description":"Hard (353 notes) / Hard+ (455 notes) / Expert (526 notes) / 15 Obstacles / Video Demonstration: https://streamable.com/23ayv / Part 1 of the J-EDM Graduation series! Use this song pack to level up your game!","deletedAt":null,"_id":"5cff620c48229f7d88fc60fe","key":"21","name":"REOL feat. nqrse - LUVORATORRRRRY!","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-05-10T02:24:36.000Z","hash":"c807689fefdae82aa79ba9c7f861118fb426b4cc","directDownload":"/cdn/21/c807689fefdae82aa79ba9c7f861118fb426b4cc.zip","downloadURL":"/api/download/key/21","coverURL":"/cdn/21/c807689fefdae82aa79ba9c7f861118fb426b4cc.jpg"}],"totalDocs":35794,"lastPage":3579,"prevPage":1,"nextPage":3}"#.into());
            client.maps_plays_page(2).await.unwrap();
        }
        #[async_test]
        async fn test_user() {
            let client = FakeClient::new(
                BEATSAVER_URL
                    .join("api/users/find/5fbe7cd60192c700062b2a1f")
                    .unwrap(),
                r#"{"_id":"5fbe7cd60192c700062b2a1f","username":"qw3rty01"}"#.into(),
            );
            client
                .user("5fbe7cd60192c700062b2a1f".into())
                .await
                .unwrap();
        }
        #[async_test]
        async fn test_search() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/search/text/0?q=datkami").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":false,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":188.625,"length":141,"bombs":28,"notes":337,"obstacles":11,"njs":10,"njsOffset":0},"expert":null,"expertPlus":null}}],"songName":"me & u","songSubName":"","songAuthorName":"succducc","levelAuthorName":"datkami","bpm":160},"stats":{"downloads":86172,"plays":8377,"downVotes":110,"upVotes":512,"heat":17.2028038,"rating":0.7765731134313741},"description":"Hard Only / ~330 notes / Event Lighting! / https://soundcloud.com/succducc/me-n-u","deletedAt":null,"_id":"5cff620c48229f7d88fc60df","key":"1","name":"succducc - me & u","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-05-08T14:28:56.000Z","hash":"fda568fc27c20d21f8dc6f3709b49b5cc96723be","directDownload":"/cdn/1/fda568fc27c20d21f8dc6f3709b49b5cc96723be.zip","downloadURL":"/api/download/key/1","coverURL":"/cdn/1/fda568fc27c20d21f8dc6f3709b49b5cc96723be.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":291,"length":136,"bombs":4,"notes":353,"obstacles":15,"njs":10,"njsOffset":0},"hard":{"duration":291,"length":136,"bombs":4,"notes":455,"obstacles":15,"njs":10,"njsOffset":0},"expert":{"duration":291,"length":136,"bombs":10,"notes":526,"obstacles":15,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"LUVORATORRRRRY!","songSubName":"feat.nqrse","songAuthorName":"Reol","levelAuthorName":"datkami","bpm":128},"stats":{"downloads":273593,"plays":31684,"downVotes":178,"upVotes":4248,"heat":21.0823944,"rating":0.923057857514794},"description":"Hard (353 notes) / Hard+ (455 notes) / Expert (526 notes) / 15 Obstacles / Video Demonstration: https://streamable.com/23ayv / Part 1 of the J-EDM Graduation series! Use this song pack to level up your game!","deletedAt":null,"_id":"5cff620c48229f7d88fc60fe","key":"21","name":"REOL feat. nqrse - LUVORATORRRRRY!","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-05-10T02:24:36.000Z","hash":"c807689fefdae82aa79ba9c7f861118fb426b4cc","directDownload":"/cdn/21/c807689fefdae82aa79ba9c7f861118fb426b4cc.zip","downloadURL":"/api/download/key/21","coverURL":"/cdn/21/c807689fefdae82aa79ba9c7f861118fb426b4cc.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":482,"length":199,"bombs":20,"notes":583,"obstacles":38,"njs":12,"njsOffset":0},"hard":{"duration":482,"length":199,"bombs":20,"notes":640,"obstacles":30,"njs":12,"njsOffset":0},"expert":{"duration":482,"length":199,"bombs":20,"notes":734,"obstacles":19,"njs":12,"njsOffset":0},"expertPlus":null}}],"songName":"Kodokushi","songSubName":"Kami","songAuthorName":"Mihka! x Kyoto Black","levelAuthorName":"datkami","bpm":145},"stats":{"downloads":21773,"plays":2937,"downVotes":17,"upVotes":327,"heat":30.7342061,"rating":0.87298999599274},"description":"Hard (583 Notes) / Hard+ (640 Notes) / Expert (734 Notes) / Event lighting! / Part 2 of the J-EDM Graduation series, a setlist of maps meant to help you bridge the gap between Hard and Expert! / Mapped by Kami#9635  / Video Demonstration: https://streamable.com/n3h12 / If you like the track, be sure to sign up for Beat Saver and give it a LIKE!","deletedAt":null,"_id":"5cff620c48229f7d88fc6171","key":"98","name":"Mihka! x Kyoto Black - Kodokushi","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-05-15T17:02:08.000Z","hash":"f829a801f10366ae4f61b8daabcf133209a65789","directDownload":"/cdn/98/f829a801f10366ae4f61b8daabcf133209a65789.zip","downloadURL":"/api/download/key/98","coverURL":"/cdn/98/f829a801f10366ae4f61b8daabcf133209a65789.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":{"duration":655.5,"length":228,"bombs":28,"notes":865,"obstacles":31,"njs":12,"njsOffset":0},"expertPlus":null}}],"songName":"Coconut Cabana","songSubName":"Ikura","songAuthorName":"Kami","levelAuthorName":"datkami","bpm":172},"stats":{"downloads":40640,"plays":201,"downVotes":43,"upVotes":207,"heat":326.6865772,"rating":0.7658415646708089},"description":"172 BPM / Expert (865 notes) / my lights are pretty / Video Demonstration: https://streamable.com/2yo6w / shout out to @ikuratunes for making this bangin' track https://soundcloud.com/chunchunmarudesu/coconut-cabana","deletedAt":null,"_id":"5cff621048229f7d88fc73e2","key":"1a98","name":"ikura - Coconut Cabana","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-10-16T23:53:48.000Z","hash":"023ae70b643a2abe62c9dbc9e3fdfd9c325f0f1f","directDownload":"/cdn/1a98/023ae70b643a2abe62c9dbc9e3fdfd9c325f0f1f.zip","downloadURL":"/api/download/key/1a98","coverURL":"/cdn/1a98/023ae70b643a2abe62c9dbc9e3fdfd9c325f0f1f.jpg"}],"totalDocs":4,"lastPage":0,"prevPage":null,"nextPage":null}"#.into());
            client.search("datkami".into()).await.unwrap();
        }
        #[async_test]
        async fn test_search_page() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/search/text/2?q=bennydabeast").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":true,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":{"duration":841,"length":290,"bombs":12,"notes":438,"obstacles":8,"njs":10,"njsOffset":0},"normal":null,"hard":{"duration":841,"length":290,"bombs":12,"notes":519,"obstacles":8,"njs":10,"njsOffset":0},"expert":{"duration":649,"length":223,"bombs":12,"notes":686,"obstacles":8,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Burn","songSubName":"Ellie Goulding","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":174},"stats":{"downloads":363792,"plays":14209,"downVotes":241,"upVotes":6251,"heat":105.2609634,"rating":0.9299311715015002},"description":"Difficulties: Expert, Hard, Normal\r\nCome Hang Out on Twitch! http://www.twitch.tv/bennydabeastlive\r\nYouTube Link: https://youtu.be/KOdvSdrnaeE\r\n\r\nIf you like this, check out my other beat maps:\r\nUptown Funk: https://beatsaver.com/details.php?id=1962\r\nCAN'T STOP THE FEELING by Justin Timberlake: https://beatsaver.com/details.php?id=1587\r\nMidnight City by M83: https://beatsaver.com/details.php?id=542\r\nKids by MGMT: https://beatsaver.com/details.php?id=421\r\nWhat You Know by Two Door Cinema Club: https://beatsaver.com/details.php?id=1107\r\nPolish Girl by Neon Indian: https://beatsaver.com/details.php?id=694","deletedAt":null,"_id":"5cff620d48229f7d88fc66ae","key":"636","name":"Burn - Ellie Goulding","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-06-22T20:31:34.000Z","hash":"9d31d3aab3d58ab540df63caed06d62ff1cfefdd","directDownload":"/cdn/636/9d31d3aab3d58ab540df63caed06d62ff1cfefdd.zip","downloadURL":"/api/download/key/636","coverURL":"/cdn/636/9d31d3aab3d58ab540df63caed06d62ff1cfefdd.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":false,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":null,"expertPlus":{"duration":259,"length":167,"bombs":2,"notes":706,"obstacles":36,"njs":10,"njsOffset":0}}}],"songName":"Otter Pop (feat. Hollis)","songSubName":"Shawn Wasabi","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":93},"stats":{"downloads":138178,"plays":3100,"downVotes":77,"upVotes":2274,"heat":131.8017412,"rating":0.9220994437102321},"description":"Difficulties: Expert+ Only\r\nMore Benny Originals: https://beatsaver.com/searchhtml.php?q=bennydabeast","deletedAt":null,"_id":"5cff620e48229f7d88fc687c","key":"83b","name":"Otter Pop (feat. Hollis) - Shawn Wasabi","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-07-06T21:44:56.000Z","hash":"c7e15a9eaeaae0fe9dd8e4ad62cfd849e3cc6cc7","directDownload":"/cdn/83b/c7e15a9eaeaae0fe9dd8e4ad62cfd849e3cc6cc7.zip","downloadURL":"/api/download/key/83b","coverURL":"/cdn/83b/c7e15a9eaeaae0fe9dd8e4ad62cfd849e3cc6cc7.png"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":454,"length":252,"bombs":0,"notes":321,"obstacles":14,"njs":10,"njsOffset":0},"hard":{"duration":454,"length":252,"bombs":0,"notes":432,"obstacles":14,"njs":10,"njsOffset":0},"expert":{"duration":454,"length":252,"bombs":0,"notes":680,"obstacles":14,"njs":10,"njsOffset":0},"expertPlus":{"duration":454,"length":252,"bombs":0,"notes":810,"obstacles":14,"njs":10,"njsOffset":0}}}],"songName":"Some Nights","songSubName":"Fun.","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":108},"stats":{"downloads":294847,"plays":6779,"downVotes":133,"upVotes":6250,"heat":199.3520718,"rating":0.9448837394753198},"description":"Difficulties: Expert+, Expert, Hard, Normal\r\nYouTube Preview: https://youtu.be/X4R7VIZPffk","deletedAt":null,"_id":"5cff620f48229f7d88fc6cee","key":"efe","name":"Some Nights - Fun.","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-08-10T20:34:09.000Z","hash":"e64d6b7c5527d36005ae1801268798dd21ccf605","directDownload":"/cdn/efe/e64d6b7c5527d36005ae1801268798dd21ccf605.zip","downloadURL":"/api/download/key/efe","coverURL":"/cdn/efe/e64d6b7c5527d36005ae1801268798dd21ccf605.png"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":372,"length":174,"bombs":0,"notes":271,"obstacles":16,"njs":10,"njsOffset":0},"hard":{"duration":372,"length":174,"bombs":0,"notes":474,"obstacles":16,"njs":10,"njsOffset":0},"expert":{"duration":371.5,"length":174,"bombs":0,"notes":643,"obstacles":16,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Better When I'm Dancin'","songSubName":"Meghan Trainor","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":128},"stats":{"downloads":84800,"plays":1362,"downVotes":25,"upVotes":1531,"heat":311.3518027,"rating":0.9309898926008106},"description":"\"We can do this together... I bet you feel better when you're dancing, yeah, yeah...\"\r\nDifficulties: Expert, Hard, Normal","deletedAt":null,"_id":"5cff621048229f7d88fc7319","key":"194c","name":"Better When I'm Dancin' - Meghan Trainor","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-10-08T12:10:29.000Z","hash":"9bd5e0efe697a38fe0da28f252a8bfb870da630a","directDownload":"/cdn/194c/9bd5e0efe697a38fe0da28f252a8bfb870da630a.zip","downloadURL":"/api/download/key/194c","coverURL":"/cdn/194c/9bd5e0efe697a38fe0da28f252a8bfb870da630a.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":false,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":null,"expertPlus":{"duration":371.5,"length":176,"bombs":18,"notes":636,"obstacles":9,"njs":10,"njsOffset":0}}}],"songName":"So Funky [NCS Release]","songSubName":"NIVIRO","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":126},"stats":{"downloads":22878,"plays":963,"downVotes":10,"upVotes":557,"heat":310.9960095,"rating":0.9108753721370022},"description":"This map is one of the two that were created specifically for the 2018 Elements Tournament Qualifier.\r\nDifficulties: Expert+ Only","deletedAt":null,"_id":"5cff621048229f7d88fc731a","key":"194d","name":"So Funky - NVIRIO [Elements Qualifier]","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-10-08T13:13:31.000Z","hash":"a5bf0f0bd05e12fc10fd1dda65132531f00123a1","directDownload":"/cdn/194d/a5bf0f0bd05e12fc10fd1dda65132531f00123a1.zip","downloadURL":"/api/download/key/194d","coverURL":"/cdn/194d/a5bf0f0bd05e12fc10fd1dda65132531f00123a1.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":false,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":null,"expertPlus":{"duration":580,"length":248,"bombs":0,"notes":1206,"obstacles":1,"njs":15,"njsOffset":0}}}],"songName":"Without Me (Nurko & Miles Away Remix)","songSubName":"Halsey","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":140},"stats":{"downloads":33233,"plays":366,"downVotes":20,"upVotes":780,"heat":339.135058,"rating":0.9115234775631975},"description":"Difficulties: Expert+ Only","deletedAt":null,"_id":"5cff621148229f7d88fc7491","key":"1bc4","name":"Without Me (Nurko & Miles Away Remix) - Halsey","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-10-23T03:10:41.000Z","hash":"e447ac77708869ac151546110aecda97acac2cab","directDownload":"/cdn/1bc4/e447ac77708869ac151546110aecda97acac2cab.zip","downloadURL":"/api/download/key/1bc4","coverURL":"/cdn/1bc4/e447ac77708869ac151546110aecda97acac2cab.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":false,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":null,"expertPlus":{"duration":387.6815185546875,"length":145,"bombs":0,"notes":586,"obstacles":7,"njs":10,"njsOffset":0}}}],"songName":"What Christmas Means to Me","songSubName":"Stevie Wonder","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":160},"stats":{"downloads":23604,"plays":4,"downVotes":16,"upVotes":97,"heat":435.3491072,"rating":0.7722707184352429},"description":"","deletedAt":null,"_id":"5cff621248229f7d88fc7a2f","key":"2556","name":"What Christmas Means to Me - Stevie Wonder","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-12-12T18:00:28.000Z","hash":"34a51a17715446e103b1ae57709fa595f77dc0d5","directDownload":"/cdn/2556/34a51a17715446e103b1ae57709fa595f77dc0d5.zip","downloadURL":"/api/download/key/2556","coverURL":"/cdn/2556/34a51a17715446e103b1ae57709fa595f77dc0d5.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":false,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":null,"expertPlus":{"duration":395.75,"length":221,"bombs":0,"notes":937,"obstacles":6,"njs":14,"njsOffset":0}}}],"songName":"Alone feat. Kyle Reynolds","songSubName":"Asketa & Natan Chaim","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":107},"stats":{"downloads":53081,"plays":0,"downVotes":26,"upVotes":704,"heat":634.3483852,"rating":0.9005936790957055},"description":"You ever just find a map gathering dust but pretty much finished? Yeah... let's go ahead and release that.\r\nDifficulties: Expert+ Only\r\nYouTube Preview: https://youtu.be/cg1wBYBCqX0","deletedAt":null,"_id":"5cff621548229f7d88fc8b42","key":"40b2","name":"Alone feat. Kyle Reynolds - Asketa & Natan Chaim","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2019-03-25T21:57:52.000Z","hash":"84ac2667162920902490fb1a572ed4cf5ad50a1f","directDownload":"/cdn/40b2/84ac2667162920902490fb1a572ed4cf5ad50a1f.zip","downloadURL":"/api/download/key/40b2","coverURL":"/cdn/40b2/84ac2667162920902490fb1a572ed4cf5ad50a1f.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":418.0929870605469,"length":202,"bombs":0,"notes":387,"obstacles":54,"njs":10,"njsOffset":0},"expert":{"duration":418.0929870605469,"length":202,"bombs":0,"notes":616,"obstacles":54,"njs":12,"njsOffset":0},"expertPlus":{"duration":418.0929870605469,"length":202,"bombs":0,"notes":868,"obstacles":57,"njs":14,"njsOffset":0}}}],"songName":"Nevada (feat. Cozi Zuehlsdorff)","songSubName":"Vicetone","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":124},"stats":{"downloads":29853,"plays":0,"downVotes":32,"upVotes":1062,"heat":638.1088594,"rating":0.9134916861785893},"description":"YouTube Preview: https://youtu.be/3gb2gH8eueI","deletedAt":null,"_id":"5cff621548229f7d88fc8b94","key":"4131","name":"Nevada feat. Cozi Zuehlsdorff - Vicetone","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2019-03-27T18:42:01.000Z","hash":"5e847d92de6e01dfd5ce3491969b3939b4374699","directDownload":"/cdn/4131/5e847d92de6e01dfd5ce3491969b3939b4374699.zip","downloadURL":"/api/download/key/4131","coverURL":"/cdn/4131/5e847d92de6e01dfd5ce3491969b3939b4374699.jpg"},{"metadata":{"difficulties":{"easy":true,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":{"duration":501,"length":193,"bombs":0,"notes":231,"obstacles":8,"njs":10,"njsOffset":0},"normal":{"duration":501,"length":193,"bombs":0,"notes":259,"obstacles":8,"njs":10,"njsOffset":0},"hard":{"duration":501,"length":193,"bombs":0,"notes":442,"obstacles":8,"njs":10,"njsOffset":0},"expert":{"duration":501,"length":193,"bombs":0,"notes":487,"obstacles":8,"njs":12,"njsOffset":0},"expertPlus":null}}],"songName":"Kamikaze","songSubName":"WALK THE MOON","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":155},"stats":{"downloads":65284,"plays":0,"downVotes":23,"upVotes":876,"heat":647.9071713,"rating":0.9132030079990229},"description":"An older map that I have no idea why I never published. So here it is!","deletedAt":null,"_id":"5cff621648229f7d88fc8c9d","key":"42de","name":"Kamikaze - WALK THE MOON","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2019-04-01T22:12:10.000Z","hash":"63d2d5920e6676f63bf997ae606b6d1590cd8c8d","directDownload":"/cdn/42de/63d2d5920e6676f63bf997ae606b6d1590cd8c8d.zip","downloadURL":"/api/download/key/42de","coverURL":"/cdn/42de/63d2d5920e6676f63bf997ae606b6d1590cd8c8d.png"}],"totalDocs":58,"lastPage":5,"prevPage":1,"nextPage":3}"#.into());
            client.search_page("bennydabeast".into(), 2).await.unwrap();
        }
        #[async_test]
        async fn test_search_advanced() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/search/advanced/0?q=metadata.levelAuthor%3Adatkami").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":false,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":188.625,"length":141,"bombs":28,"notes":337,"obstacles":11,"njs":10,"njsOffset":0},"expert":null,"expertPlus":null}}],"songName":"me & u","songSubName":"","songAuthorName":"succducc","levelAuthorName":"datkami","bpm":160},"stats":{"downloads":86172,"plays":8377,"downVotes":110,"upVotes":512,"heat":17.2028038,"rating":0.7765731134313741},"description":"Hard Only / ~330 notes / Event Lighting! / https://soundcloud.com/succducc/me-n-u","deletedAt":null,"_id":"5cff620c48229f7d88fc60df","key":"1","name":"succducc - me & u","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-05-08T14:28:56.000Z","hash":"fda568fc27c20d21f8dc6f3709b49b5cc96723be","directDownload":"/cdn/1/fda568fc27c20d21f8dc6f3709b49b5cc96723be.zip","downloadURL":"/api/download/key/1","coverURL":"/cdn/1/fda568fc27c20d21f8dc6f3709b49b5cc96723be.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":291,"length":136,"bombs":4,"notes":353,"obstacles":15,"njs":10,"njsOffset":0},"hard":{"duration":291,"length":136,"bombs":4,"notes":455,"obstacles":15,"njs":10,"njsOffset":0},"expert":{"duration":291,"length":136,"bombs":10,"notes":526,"obstacles":15,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"LUVORATORRRRRY!","songSubName":"feat.nqrse","songAuthorName":"Reol","levelAuthorName":"datkami","bpm":128},"stats":{"downloads":273593,"plays":31684,"downVotes":178,"upVotes":4248,"heat":21.0823944,"rating":0.923057857514794},"description":"Hard (353 notes) / Hard+ (455 notes) / Expert (526 notes) / 15 Obstacles / Video Demonstration: https://streamable.com/23ayv / Part 1 of the J-EDM Graduation series! Use this song pack to level up your game!","deletedAt":null,"_id":"5cff620c48229f7d88fc60fe","key":"21","name":"REOL feat. nqrse - LUVORATORRRRRY!","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-05-10T02:24:36.000Z","hash":"c807689fefdae82aa79ba9c7f861118fb426b4cc","directDownload":"/cdn/21/c807689fefdae82aa79ba9c7f861118fb426b4cc.zip","downloadURL":"/api/download/key/21","coverURL":"/cdn/21/c807689fefdae82aa79ba9c7f861118fb426b4cc.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":482,"length":199,"bombs":20,"notes":583,"obstacles":38,"njs":12,"njsOffset":0},"hard":{"duration":482,"length":199,"bombs":20,"notes":640,"obstacles":30,"njs":12,"njsOffset":0},"expert":{"duration":482,"length":199,"bombs":20,"notes":734,"obstacles":19,"njs":12,"njsOffset":0},"expertPlus":null}}],"songName":"Kodokushi","songSubName":"Kami","songAuthorName":"Mihka! x Kyoto Black","levelAuthorName":"datkami","bpm":145},"stats":{"downloads":21773,"plays":2937,"downVotes":17,"upVotes":327,"heat":30.7342061,"rating":0.87298999599274},"description":"Hard (583 Notes) / Hard+ (640 Notes) / Expert (734 Notes) / Event lighting! / Part 2 of the J-EDM Graduation series, a setlist of maps meant to help you bridge the gap between Hard and Expert! / Mapped by Kami#9635  / Video Demonstration: https://streamable.com/n3h12 / If you like the track, be sure to sign up for Beat Saver and give it a LIKE!","deletedAt":null,"_id":"5cff620c48229f7d88fc6171","key":"98","name":"Mihka! x Kyoto Black - Kodokushi","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-05-15T17:02:08.000Z","hash":"f829a801f10366ae4f61b8daabcf133209a65789","directDownload":"/cdn/98/f829a801f10366ae4f61b8daabcf133209a65789.zip","downloadURL":"/api/download/key/98","coverURL":"/cdn/98/f829a801f10366ae4f61b8daabcf133209a65789.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":{"duration":655.5,"length":228,"bombs":28,"notes":865,"obstacles":31,"njs":12,"njsOffset":0},"expertPlus":null}}],"songName":"Coconut Cabana","songSubName":"Ikura","songAuthorName":"Kami","levelAuthorName":"datkami","bpm":172},"stats":{"downloads":40640,"plays":201,"downVotes":43,"upVotes":207,"heat":326.6865772,"rating":0.7658415646708089},"description":"172 BPM / Expert (865 notes) / my lights are pretty / Video Demonstration: https://streamable.com/2yo6w / shout out to @ikuratunes for making this bangin' track https://soundcloud.com/chunchunmarudesu/coconut-cabana","deletedAt":null,"_id":"5cff621048229f7d88fc73e2","key":"1a98","name":"ikura - Coconut Cabana","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-10-16T23:53:48.000Z","hash":"023ae70b643a2abe62c9dbc9e3fdfd9c325f0f1f","directDownload":"/cdn/1a98/023ae70b643a2abe62c9dbc9e3fdfd9c325f0f1f.zip","downloadURL":"/api/download/key/1a98","coverURL":"/cdn/1a98/023ae70b643a2abe62c9dbc9e3fdfd9c325f0f1f.jpg"}],"totalDocs":4,"lastPage":0,"prevPage":null,"nextPage":null}"#.into());
            client
                .search_advanced("metadata.levelAuthor:datkami".into())
                .await
                .unwrap();
        }
        #[async_test]
        async fn test_search_advanced_page() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/search/advanced/2?q=uploader.username%3Abennydabeast").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":false,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":null,"expertPlus":{"duration":259,"length":167,"bombs":2,"notes":706,"obstacles":36,"njs":10,"njsOffset":0}}}],"songName":"Otter Pop (feat. Hollis)","songSubName":"Shawn Wasabi","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":93},"stats":{"downloads":138178,"plays":3100,"downVotes":77,"upVotes":2274,"heat":131.8017412,"rating":0.9220994437102321},"description":"Difficulties: Expert+ Only\r\nMore Benny Originals: https://beatsaver.com/searchhtml.php?q=bennydabeast","deletedAt":null,"_id":"5cff620e48229f7d88fc687c","key":"83b","name":"Otter Pop (feat. Hollis) - Shawn Wasabi","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-07-06T21:44:56.000Z","hash":"c7e15a9eaeaae0fe9dd8e4ad62cfd849e3cc6cc7","directDownload":"/cdn/83b/c7e15a9eaeaae0fe9dd8e4ad62cfd849e3cc6cc7.zip","downloadURL":"/api/download/key/83b","coverURL":"/cdn/83b/c7e15a9eaeaae0fe9dd8e4ad62cfd849e3cc6cc7.png"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":372,"length":174,"bombs":0,"notes":271,"obstacles":16,"njs":10,"njsOffset":0},"hard":{"duration":372,"length":174,"bombs":0,"notes":474,"obstacles":16,"njs":10,"njsOffset":0},"expert":{"duration":371.5,"length":174,"bombs":0,"notes":643,"obstacles":16,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Better When I'm Dancin'","songSubName":"Meghan Trainor","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":128},"stats":{"downloads":84800,"plays":1362,"downVotes":25,"upVotes":1531,"heat":311.3518027,"rating":0.9309898926008106},"description":"\"We can do this together... I bet you feel better when you're dancing, yeah, yeah...\"\r\nDifficulties: Expert, Hard, Normal","deletedAt":null,"_id":"5cff621048229f7d88fc7319","key":"194c","name":"Better When I'm Dancin' - Meghan Trainor","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-10-08T12:10:29.000Z","hash":"9bd5e0efe697a38fe0da28f252a8bfb870da630a","directDownload":"/cdn/194c/9bd5e0efe697a38fe0da28f252a8bfb870da630a.zip","downloadURL":"/api/download/key/194c","coverURL":"/cdn/194c/9bd5e0efe697a38fe0da28f252a8bfb870da630a.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":false,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":null,"expertPlus":{"duration":580,"length":248,"bombs":0,"notes":1206,"obstacles":1,"njs":15,"njsOffset":0}}}],"songName":"Without Me (Nurko & Miles Away Remix)","songSubName":"Halsey","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":140},"stats":{"downloads":33233,"plays":366,"downVotes":20,"upVotes":780,"heat":339.135058,"rating":0.9115234775631975},"description":"Difficulties: Expert+ Only","deletedAt":null,"_id":"5cff621148229f7d88fc7491","key":"1bc4","name":"Without Me (Nurko & Miles Away Remix) - Halsey","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-10-23T03:10:41.000Z","hash":"e447ac77708869ac151546110aecda97acac2cab","directDownload":"/cdn/1bc4/e447ac77708869ac151546110aecda97acac2cab.zip","downloadURL":"/api/download/key/1bc4","coverURL":"/cdn/1bc4/e447ac77708869ac151546110aecda97acac2cab.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":false,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":null,"expertPlus":{"duration":387.6815185546875,"length":145,"bombs":0,"notes":586,"obstacles":7,"njs":10,"njsOffset":0}}}],"songName":"What Christmas Means to Me","songSubName":"Stevie Wonder","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":160},"stats":{"downloads":23604,"plays":4,"downVotes":16,"upVotes":97,"heat":435.3491072,"rating":0.7722707184352429},"description":"","deletedAt":null,"_id":"5cff621248229f7d88fc7a2f","key":"2556","name":"What Christmas Means to Me - Stevie Wonder","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-12-12T18:00:28.000Z","hash":"34a51a17715446e103b1ae57709fa595f77dc0d5","directDownload":"/cdn/2556/34a51a17715446e103b1ae57709fa595f77dc0d5.zip","downloadURL":"/api/download/key/2556","coverURL":"/cdn/2556/34a51a17715446e103b1ae57709fa595f77dc0d5.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":418.0929870605469,"length":202,"bombs":0,"notes":387,"obstacles":54,"njs":10,"njsOffset":0},"expert":{"duration":418.0929870605469,"length":202,"bombs":0,"notes":616,"obstacles":54,"njs":12,"njsOffset":0},"expertPlus":{"duration":418.0929870605469,"length":202,"bombs":0,"notes":868,"obstacles":57,"njs":14,"njsOffset":0}}}],"songName":"Nevada (feat. Cozi Zuehlsdorff)","songSubName":"Vicetone","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":124},"stats":{"downloads":29853,"plays":0,"downVotes":32,"upVotes":1062,"heat":638.1088594,"rating":0.9134916861785893},"description":"YouTube Preview: https://youtu.be/3gb2gH8eueI","deletedAt":null,"_id":"5cff621548229f7d88fc8b94","key":"4131","name":"Nevada feat. Cozi Zuehlsdorff - Vicetone","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2019-03-27T18:42:01.000Z","hash":"5e847d92de6e01dfd5ce3491969b3939b4374699","directDownload":"/cdn/4131/5e847d92de6e01dfd5ce3491969b3939b4374699.zip","downloadURL":"/api/download/key/4131","coverURL":"/cdn/4131/5e847d92de6e01dfd5ce3491969b3939b4374699.jpg"},{"metadata":{"difficulties":{"easy":true,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":{"duration":501,"length":193,"bombs":0,"notes":231,"obstacles":8,"njs":10,"njsOffset":0},"normal":{"duration":501,"length":193,"bombs":0,"notes":259,"obstacles":8,"njs":10,"njsOffset":0},"hard":{"duration":501,"length":193,"bombs":0,"notes":442,"obstacles":8,"njs":10,"njsOffset":0},"expert":{"duration":501,"length":193,"bombs":0,"notes":487,"obstacles":8,"njs":12,"njsOffset":0},"expertPlus":null}}],"songName":"Kamikaze","songSubName":"WALK THE MOON","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":155},"stats":{"downloads":65284,"plays":0,"downVotes":23,"upVotes":876,"heat":647.9071713,"rating":0.9132030079990229},"description":"An older map that I have no idea why I never published. So here it is!","deletedAt":null,"_id":"5cff621648229f7d88fc8c9d","key":"42de","name":"Kamikaze - WALK THE MOON","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2019-04-01T22:12:10.000Z","hash":"63d2d5920e6676f63bf997ae606b6d1590cd8c8d","directDownload":"/cdn/42de/63d2d5920e6676f63bf997ae606b6d1590cd8c8d.zip","downloadURL":"/api/download/key/42de","coverURL":"/cdn/42de/63d2d5920e6676f63bf997ae606b6d1590cd8c8d.png"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":true,"hard":true,"normal":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":427,"length":184,"bombs":0,"notes":246,"obstacles":16,"njs":10,"njsOffset":0},"hard":{"duration":427,"length":184,"bombs":0,"notes":400,"obstacles":16,"njs":10,"njsOffset":0},"expert":{"duration":427,"length":184,"bombs":0,"notes":537,"obstacles":16,"njs":10,"njsOffset":0},"expertPlus":{"duration":427,"length":184,"bombs":0,"notes":715,"obstacles":16,"njs":10,"njsOffset":0}}}],"levelAuthorName":"BennyDaBeast","songAuthorName":"Two Door Cinema Club","songName":"What You Know","songSubName":"","bpm":139},"stats":{"downloads":43703,"plays":0,"downVotes":111,"upVotes":783,"heat":799.0684375,"rating":0.8272637389628217},"description":"Re-upload of an earlier Beatmap that was lost to the update.","deletedAt":null,"_id":"5d0a6a40c87a6a000653a546","key":"5388","name":"What You Know - Two Door Cinema Club","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"hash":"b8830915b5023c4c8030b2b0077688eb8508dc4c","uploaded":"2019-06-19T17:00:48.072Z","directDownload":"/cdn/5388/b8830915b5023c4c8030b2b0077688eb8508dc4c.zip","downloadURL":"/api/download/key/5388","coverURL":"/cdn/5388/b8830915b5023c4c8030b2b0077688eb8508dc4c.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":null,"expertPlus":{"duration":532,"length":187,"bombs":28,"notes":840,"obstacles":17,"njs":12,"njsOffset":0}}}],"levelAuthorName":"BennyDaBeast","songAuthorName":"K/DA (ft Madison Beer, (G)I-DLE, Jaira Burns)","songName":"POP/STARS","songSubName":"","bpm":170},"stats":{"downloads":49887,"plays":0,"downVotes":70,"upVotes":257,"heat":798.5296208,"rating":0.7359395873642176},"description":"Re-upload of an earlier Beatmap that was lost to the update.","deletedAt":null,"_id":"5d0a6d30e66d5000063fc546","key":"538a","name":"KDA/POPSTARS - League of Legends","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"hash":"6b7c5baf85b9e4402b3461eb137908d4522a9a9c","uploaded":"2019-06-19T17:13:20.065Z","directDownload":"/cdn/538a/6b7c5baf85b9e4402b3461eb137908d4522a9a9c.zip","downloadURL":"/api/download/key/538a","coverURL":"/cdn/538a/6b7c5baf85b9e4402b3461eb137908d4522a9a9c.png"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":false,"hard":true,"normal":false},"duration":0,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":403,"length":201,"njs":12,"njsOffset":0,"bombs":8,"notes":614,"obstacles":41},"expertPlus":null,"hard":{"duration":403,"length":201,"njs":12,"njsOffset":1,"bombs":8,"notes":609,"obstacles":41},"normal":null},"name":"Standard"}],"levelAuthorName":"BennyDabeast","songAuthorName":"5 Seconds of Summer","songName":"Youngblood","songSubName":"","bpm":120},"stats":{"downloads":30853,"plays":0,"downVotes":16,"upVotes":738,"heat":939.6445566,"rating":0.9136488781274229},"description":"Just an Expert level.","deletedAt":null,"_id":"5d6aeb6ae6a676000604751c","key":"6078","name":"Youngblood - 5 Seconds of Summer","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"hash":"182e88e0e80450dd02bdcd6ac4924e3cc00d8673","uploaded":"2019-08-31T21:49:30.872Z","directDownload":"/cdn/6078/182e88e0e80450dd02bdcd6ac4924e3cc00d8673.zip","downloadURL":"/api/download/key/6078","coverURL":"/cdn/6078/182e88e0e80450dd02bdcd6ac4924e3cc00d8673.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":true,"hard":false,"normal":false},"duration":0,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":387.5,"length":192,"njs":12,"njsOffset":0,"bombs":0,"notes":668,"obstacles":84},"expertPlus":{"duration":387.5,"length":192,"njs":15,"njsOffset":0,"bombs":0,"notes":770,"obstacles":129},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"BennyDaBeast","songAuthorName":"Young Pines","songName":"Start Right Now ft. Laney Jones","songSubName":"","bpm":121},"stats":{"downloads":52464,"plays":0,"downVotes":27,"upVotes":581,"heat":987.0967523,"rating":0.8894736256801323},"description":"We're gonna start right now! ... working out, of course!\n\nHope this makes you sweat. ;)","deletedAt":null,"_id":"5d8b94d7048dff0006da90d1","key":"65cb","name":"[YUR Workout] Start Right Now - Young Pines ft. Laney Jones","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"hash":"d203ee856b5b60d058fc1ff7aabca93ed7de1753","uploaded":"2019-09-25T16:24:55.914Z","directDownload":"/cdn/65cb/d203ee856b5b60d058fc1ff7aabca93ed7de1753.zip","downloadURL":"/api/download/key/65cb","coverURL":"/cdn/65cb/d203ee856b5b60d058fc1ff7aabca93ed7de1753.jpg"}],"totalDocs":46,"lastPage":4,"prevPage":1,"nextPage":3}"#.into());
            client
                .search_advanced_page("uploader.username:bennydabeast".into(), 2)
                .await
                .unwrap();
        }
        #[async_test]
        async fn test_download() {
            let client = FakeClient::new(
                BEATSAVER_URL.join("api/download/key/1").unwrap(),
                "map #1".into(),
            );
            client.download("1".try_into().unwrap()).await.unwrap();
            let client = FakeClient::new(
                BEATSAVER_URL
                    .join("api/download/hash/fda568fc27c20d21f8dc6f3709b49b5cc96723be")
                    .unwrap(),
                "map #1".into(),
            );
            client
                .download(
                    "fda568fc27c20d21f8dc6f3709b49b5cc96723be"
                        .try_into()
                        .unwrap(),
                )
                .await
                .unwrap();
        }
    }
    #[cfg(feature = "tokio")]
    mod tokio_tests {
        use crate::tests::FakeClient;
        use crate::BEATSAVER_URL;
        use crate::{BeatSaverApiAsync, BeatSaverUser};
        use std::convert::TryInto;
        use tokio::test as async_test;

        #[async_test]
        async fn test_map() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/detail/1").unwrap(),  r#"{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":false,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":188.625,"length":141,"bombs":28,"notes":337,"obstacles":11,"njs":10,"njsOffset":0},"expert":null,"expertPlus":null}}],"songName":"me & u","songSubName":"","songAuthorName":"succducc","levelAuthorName":"datkami","bpm":160},"stats":{"downloads":86164,"plays":8377,"downVotes":110,"upVotes":512,"heat":17.2028038,"rating":0.7765731134313741},"description":"Hard Only / ~330 notes / Event Lighting! / https://soundcloud.com/succducc/me-n-u","deletedAt":null,"_id":"5cff620c48229f7d88fc60df","key":"1","name":"succducc - me & u","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-05-08T14:28:56.000Z","hash":"fda568fc27c20d21f8dc6f3709b49b5cc96723be","directDownload":"/cdn/1/fda568fc27c20d21f8dc6f3709b49b5cc96723be.zip","downloadURL":"/api/download/key/1","coverURL":"/cdn/1/fda568fc27c20d21f8dc6f3709b49b5cc96723be.jpg"}"#.into());
            client
                .map(&"1".to_string().try_into().unwrap())
                .await
                .unwrap();
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/by-hash/fda568fc27c20d21f8dc6f3709b49b5cc96723be").unwrap(),  r#"{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":false,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":188.625,"length":141,"bombs":28,"notes":337,"obstacles":11,"njs":10,"njsOffset":0},"expert":null,"expertPlus":null}}],"songName":"me & u","songSubName":"","songAuthorName":"succducc","levelAuthorName":"datkami","bpm":160},"stats":{"downloads":86164,"plays":8377,"downVotes":110,"upVotes":512,"heat":17.2028038,"rating":0.7765731134313741},"description":"Hard Only / ~330 notes / Event Lighting! / https://soundcloud.com/succducc/me-n-u","deletedAt":null,"_id":"5cff620c48229f7d88fc60df","key":"1","name":"succducc - me & u","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-05-08T14:28:56.000Z","hash":"fda568fc27c20d21f8dc6f3709b49b5cc96723be","directDownload":"/cdn/1/fda568fc27c20d21f8dc6f3709b49b5cc96723be.zip","downloadURL":"/api/download/key/1","coverURL":"/cdn/1/fda568fc27c20d21f8dc6f3709b49b5cc96723be.jpg"}"#.into());
            client
                .map(
                    &"fda568fc27c20d21f8dc6f3709b49b5cc96723be"
                        .to_string()
                        .try_into()
                        .unwrap(),
                )
                .await
                .unwrap();
        }
        #[async_test]
        async fn test_maps_by() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/uploader/5cff0b7298cc5a672c84e8a3/0").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":{"duration":655.5,"length":228,"bombs":28,"notes":865,"obstacles":31,"njs":12,"njsOffset":0},"expertPlus":null}}],"songName":"Coconut Cabana","songSubName":"Ikura","songAuthorName":"Kami","levelAuthorName":"datkami","bpm":172},"stats":{"downloads":40619,"plays":201,"downVotes":43,"upVotes":207,"heat":326.6865772,"rating":0.7658415646708089},"description":"172 BPM / Expert (865 notes) / my lights are pretty / Video Demonstration: https://streamable.com/2yo6w / shout out to @ikuratunes for making this bangin' track https://soundcloud.com/chunchunmarudesu/coconut-cabana","deletedAt":null,"_id":"5cff621048229f7d88fc73e2","key":"1a98","name":"ikura - Coconut Cabana","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-10-16T23:53:48.000Z","hash":"023ae70b643a2abe62c9dbc9e3fdfd9c325f0f1f","directDownload":"/cdn/1a98/023ae70b643a2abe62c9dbc9e3fdfd9c325f0f1f.zip","downloadURL":"/api/download/key/1a98","coverURL":"/cdn/1a98/023ae70b643a2abe62c9dbc9e3fdfd9c325f0f1f.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":482,"length":199,"bombs":20,"notes":583,"obstacles":38,"njs":12,"njsOffset":0},"hard":{"duration":482,"length":199,"bombs":20,"notes":640,"obstacles":30,"njs":12,"njsOffset":0},"expert":{"duration":482,"length":199,"bombs":20,"notes":734,"obstacles":19,"njs":12,"njsOffset":0},"expertPlus":null}}],"songName":"Kodokushi","songSubName":"Kami","songAuthorName":"Mihka! x Kyoto Black","levelAuthorName":"datkami","bpm":145},"stats":{"downloads":21772,"plays":2937,"downVotes":17,"upVotes":327,"heat":30.7342061,"rating":0.87298999599274},"description":"Hard (583 Notes) / Hard+ (640 Notes) / Expert (734 Notes) / Event lighting! / Part 2 of the J-EDM Graduation series, a setlist of maps meant to help you bridge the gap between Hard and Expert! / Mapped by Kami#9635  / Video Demonstration: https://streamable.com/n3h12 / If you like the track, be sure to sign up for Beat Saver and give it a LIKE!","deletedAt":null,"_id":"5cff620c48229f7d88fc6171","key":"98","name":"Mihka! x Kyoto Black - Kodokushi","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-05-15T17:02:08.000Z","hash":"f829a801f10366ae4f61b8daabcf133209a65789","directDownload":"/cdn/98/f829a801f10366ae4f61b8daabcf133209a65789.zip","downloadURL":"/api/download/key/98","coverURL":"/cdn/98/f829a801f10366ae4f61b8daabcf133209a65789.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":291,"length":136,"bombs":4,"notes":353,"obstacles":15,"njs":10,"njsOffset":0},"hard":{"duration":291,"length":136,"bombs":4,"notes":455,"obstacles":15,"njs":10,"njsOffset":0},"expert":{"duration":291,"length":136,"bombs":10,"notes":526,"obstacles":15,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"LUVORATORRRRRY!","songSubName":"feat.nqrse","songAuthorName":"Reol","levelAuthorName":"datkami","bpm":128},"stats":{"downloads":273492,"plays":31684,"downVotes":177,"upVotes":4246,"heat":21.0822877,"rating":0.9232332918273986},"description":"Hard (353 notes) / Hard+ (455 notes) / Expert (526 notes) / 15 Obstacles / Video Demonstration: https://streamable.com/23ayv / Part 1 of the J-EDM Graduation series! Use this song pack to level up your game!","deletedAt":null,"_id":"5cff620c48229f7d88fc60fe","key":"21","name":"REOL feat. nqrse - LUVORATORRRRRY!","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-05-10T02:24:36.000Z","hash":"c807689fefdae82aa79ba9c7f861118fb426b4cc","directDownload":"/cdn/21/c807689fefdae82aa79ba9c7f861118fb426b4cc.zip","downloadURL":"/api/download/key/21","coverURL":"/cdn/21/c807689fefdae82aa79ba9c7f861118fb426b4cc.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":false,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":188.625,"length":141,"bombs":28,"notes":337,"obstacles":11,"njs":10,"njsOffset":0},"expert":null,"expertPlus":null}}],"songName":"me & u","songSubName":"","songAuthorName":"succducc","levelAuthorName":"datkami","bpm":160},"stats":{"downloads":86164,"plays":8377,"downVotes":110,"upVotes":512,"heat":17.2028038,"rating":0.7765731134313741},"description":"Hard Only / ~330 notes / Event Lighting! / https://soundcloud.com/succducc/me-n-u","deletedAt":null,"_id":"5cff620c48229f7d88fc60df","key":"1","name":"succducc - me & u","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-05-08T14:28:56.000Z","hash":"fda568fc27c20d21f8dc6f3709b49b5cc96723be","directDownload":"/cdn/1/fda568fc27c20d21f8dc6f3709b49b5cc96723be.zip","downloadURL":"/api/download/key/1","coverURL":"/cdn/1/fda568fc27c20d21f8dc6f3709b49b5cc96723be.jpg"}],"totalDocs":4,"lastPage":0,"prevPage":null,"nextPage":null}"#.into());
            client
                .maps_by(&BeatSaverUser {
                    id: "5cff0b7298cc5a672c84e8a3".into(),
                    username: "datkami".into(),
                })
                .await
                .unwrap();
        }
        #[async_test]
        async fn test_maps_by_page() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/uploader/5cff0b7298cc5a672c84e98d/2").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":386,"length":191,"bombs":32,"notes":354,"obstacles":107,"njs":10,"njsOffset":0},"expert":{"duration":388,"length":192,"bombs":68,"notes":616,"obstacles":123,"njs":10,"njsOffset":0},"expertPlus":{"duration":388,"length":192,"bombs":68,"notes":720,"obstacles":123,"njs":14,"njsOffset":0}}}],"songName":"Pretty Girl (Cheat Codes X Cade Remix)","songSubName":"Maggie Lindemann","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":121},"stats":{"downloads":61091,"plays":0,"downVotes":75,"upVotes":850,"heat":526.9025684,"rating":0.8653280150881011},"description":"Difficulties: Expert+, Expert, Hard","deletedAt":null,"_id":"5cff621348229f7d88fc8216","key":"31f8","name":"Pretty Girl (Cheat Codes X Cade Remix) - Maggie Lindemann","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2019-01-28T22:09:57.000Z","hash":"782d39ee1e15246ca16a9b00faf0188c4e1de63c","directDownload":"/cdn/31f8/782d39ee1e15246ca16a9b00faf0188c4e1de63c.zip","downloadURL":"/api/download/key/31f8","coverURL":"/cdn/31f8/782d39ee1e15246ca16a9b00faf0188c4e1de63c.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":357,"length":177,"bombs":0,"notes":373,"obstacles":268,"njs":10,"njsOffset":0},"expert":{"duration":357,"length":177,"bombs":0,"notes":661,"obstacles":291,"njs":10,"njsOffset":0},"expertPlus":{"duration":357,"length":177,"bombs":0,"notes":875,"obstacles":291,"njs":14,"njsOffset":0}}}],"songName":"Go Bang","songSubName":"PNAU","songAuthorName":"BennyDaBeast & TheRealZeroz","levelAuthorName":"bennydabeast","bpm":121},"stats":{"downloads":55371,"plays":0,"downVotes":63,"upVotes":973,"heat":514.3570192,"rating":0.8848876955933839},"description":"YouTube Preview: Coming Soon\r\nLighting By: TheRealZeroz\r\nMany many thanks to TheRealZeros for the grade A lighting, especially with the cool strobes! :D","deletedAt":null,"_id":"5cff621348229f7d88fc80e7","key":"300a","name":"Go Bang - PNAU (Lighting by TheRealZeroz)","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2019-01-22T08:28:29.000Z","hash":"7573b8504b186f217787fb8fb7c5218012c6299d","directDownload":"/cdn/300a/7573b8504b186f217787fb8fb7c5218012c6299d.zip","downloadURL":"/api/download/key/300a","coverURL":"/cdn/300a/7573b8504b186f217787fb8fb7c5218012c6299d.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":false,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":null,"expertPlus":{"duration":387.6815185546875,"length":145,"bombs":0,"notes":586,"obstacles":7,"njs":10,"njsOffset":0}}}],"songName":"What Christmas Means to Me","songSubName":"Stevie Wonder","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":160},"stats":{"downloads":23574,"plays":4,"downVotes":16,"upVotes":97,"heat":435.3491072,"rating":0.7722707184352429},"description":"","deletedAt":null,"_id":"5cff621248229f7d88fc7a2f","key":"2556","name":"What Christmas Means to Me - Stevie Wonder","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-12-12T18:00:28.000Z","hash":"34a51a17715446e103b1ae57709fa595f77dc0d5","directDownload":"/cdn/2556/34a51a17715446e103b1ae57709fa595f77dc0d5.zip","downloadURL":"/api/download/key/2556","coverURL":"/cdn/2556/34a51a17715446e103b1ae57709fa595f77dc0d5.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":false,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":null,"expertPlus":{"duration":545.281494140625,"length":212,"bombs":0,"notes":1007,"obstacles":17,"njs":11,"njsOffset":0}}}],"songName":"The Other Side (The Greatest Showman)","songSubName":"Hugh Jackman & Zac Efron","songAuthorName":"BennyDaBeast, Lit by Willums & Assistant","levelAuthorName":"bennydabeast","bpm":154},"stats":{"downloads":75997,"plays":11,"downVotes":42,"upVotes":990,"heat":430.8617861,"rating":0.9024479312105432},"description":"Expert+ Only!","deletedAt":null,"_id":"5cff621248229f7d88fc79e5","key":"24e3","name":"The Other Side (The Greatest Showman)","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-12-09T20:33:44.000Z","hash":"d1a01de5b779523c390b594bd0f61ed57b0e41f8","directDownload":"/cdn/24e3/d1a01de5b779523c390b594bd0f61ed57b0e41f8.zip","downloadURL":"/api/download/key/24e3","coverURL":"/cdn/24e3/d1a01de5b779523c390b594bd0f61ed57b0e41f8.png"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":417,"length":195,"bombs":4,"notes":301,"obstacles":24,"njs":10,"njsOffset":0},"hard":{"duration":417,"length":195,"bombs":4,"notes":486,"obstacles":24,"njs":10,"njsOffset":0},"expert":{"duration":417.5,"length":195,"bombs":4,"notes":620,"obstacles":24,"njs":10,"njsOffset":0},"expertPlus":{"duration":417.5,"length":195,"bombs":0,"notes":894,"obstacles":0,"njs":12,"njsOffset":0}}}],"songName":"Shut Up and Dance","songSubName":"WALK THE MOON","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":128},"stats":{"downloads":427710,"plays":558,"downVotes":138,"upVotes":10940,"heat":395.8295042,"rating":0.9579970045720925},"description":"Difficulties: Expert+ (Added 11/15), Expert, Hard, Normal\r\nYouTube Preview: https://youtu.be/x9hJbTlPQUY","deletedAt":null,"_id":"5cff621148229f7d88fc77c9","key":"2144","name":"Shut Up and Dance - WALK THE MOON","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-11-21T01:27:00.000Z","hash":"89cf8bb07afb3c59ae7b5ac00337d62261c36fb4","directDownload":"/cdn/2144/89cf8bb07afb3c59ae7b5ac00337d62261c36fb4.zip","downloadURL":"/api/download/key/2144","coverURL":"/cdn/2144/89cf8bb07afb3c59ae7b5ac00337d62261c36fb4.png"},{"metadata":{"difficulties":{"easy":true,"normal":true,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":{"duration":528,"length":198,"bombs":0,"notes":280,"obstacles":26,"njs":10,"njsOffset":0},"normal":{"duration":528,"length":198,"bombs":0,"notes":360,"obstacles":26,"njs":10,"njsOffset":0},"hard":{"duration":530,"length":198,"bombs":0,"notes":521,"obstacles":154,"njs":12,"njsOffset":0},"expert":{"duration":530,"length":198,"bombs":0,"notes":746,"obstacles":155,"njs":12,"njsOffset":0},"expertPlus":{"duration":530,"length":198,"bombs":0,"notes":1225,"obstacles":207,"njs":14,"njsOffset":0}}}],"songName":"Don't Let Me Down (Illenium Remix)","songSubName":"The Chainsmokers feat. Daya","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":160},"stats":{"downloads":256993,"plays":1391,"downVotes":135,"upVotes":3811,"heat":379.4704866,"rating":0.927275423748384},"description":"This is one of the 22 maps that were mapped for the 100k Contest where you can win over $7,000 in prizes. Go to https://bsaber.com/100k-contest/ to register!\r\nDifficulties: Expert+, Expert, Hard, Normal","deletedAt":null,"_id":"5cff621148229f7d88fc76f2","key":"1ff6","name":"Don't Let Me Down (Illenium Remix) - The Chainsmokers feat. Daya (100k Contest)","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-11-12T18:48:50.000Z","hash":"5639a12cccf90238055116ec53e5297aa004627e","directDownload":"/cdn/1ff6/5639a12cccf90238055116ec53e5297aa004627e.zip","downloadURL":"/api/download/key/1ff6","coverURL":"/cdn/1ff6/5639a12cccf90238055116ec53e5297aa004627e.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":false,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":null,"expertPlus":{"duration":580,"length":248,"bombs":0,"notes":1206,"obstacles":1,"njs":15,"njsOffset":0}}}],"songName":"Without Me (Nurko & Miles Away Remix)","songSubName":"Halsey","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":140},"stats":{"downloads":33210,"plays":366,"downVotes":20,"upVotes":780,"heat":339.135058,"rating":0.9115234775631975},"description":"Difficulties: Expert+ Only","deletedAt":null,"_id":"5cff621148229f7d88fc7491","key":"1bc4","name":"Without Me (Nurko & Miles Away Remix) - Halsey","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-10-23T03:10:41.000Z","hash":"e447ac77708869ac151546110aecda97acac2cab","directDownload":"/cdn/1bc4/e447ac77708869ac151546110aecda97acac2cab.zip","downloadURL":"/api/download/key/1bc4","coverURL":"/cdn/1bc4/e447ac77708869ac151546110aecda97acac2cab.png"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":434.5,"length":186,"bombs":0,"notes":256,"obstacles":5,"njs":10,"njsOffset":0},"hard":{"duration":434.5,"length":186,"bombs":0,"notes":334,"obstacles":5,"njs":10,"njsOffset":0},"expert":{"duration":434.5,"length":186,"bombs":0,"notes":492,"obstacles":5,"njs":10,"njsOffset":0},"expertPlus":{"duration":434.5,"length":186,"bombs":0,"notes":671,"obstacles":7,"njs":10,"njsOffset":0}}}],"songName":"Monster Mash","songSubName":"Boris Pickett","songAuthorName":"(HallowBeats) BennyDaBeast","levelAuthorName":"bennydabeast","bpm":140},"stats":{"downloads":54194,"plays":1403,"downVotes":45,"upVotes":386,"heat":332.5226655,"rating":0.831928595701797},"description":"'tis the season to be spooky, fall and fall and fall leaves to the ground!\r\nDifficulties: Expert+, Expert, Hard, Normal\r\nYouTube Preview: https://youtu.be/MIbpQlOdGw8","deletedAt":null,"_id":"5cff621048229f7d88fc742b","key":"1b0c","name":"[HallowBeats] Monster Mash - Boris Pickett","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-10-19T20:52:26.000Z","hash":"96dd957c33ed3d7094217737cedbe8700140f437","directDownload":"/cdn/1b0c/96dd957c33ed3d7094217737cedbe8700140f437.zip","downloadURL":"/api/download/key/1b0c","coverURL":"/cdn/1b0c/96dd957c33ed3d7094217737cedbe8700140f437.png"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":634,"length":190,"bombs":0,"notes":277,"obstacles":9,"njs":10,"njsOffset":0},"hard":{"duration":635,"length":190,"bombs":0,"notes":317,"obstacles":9,"njs":10,"njsOffset":0},"expert":{"duration":635,"length":190,"bombs":0,"notes":541,"obstacles":9,"njs":10,"njsOffset":0},"expertPlus":{"duration":635,"length":190,"bombs":0,"notes":848,"obstacles":9,"njs":10,"njsOffset":0}}}],"songName":"Under The Sea","songSubName":"Samuel E. Wright","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":200},"stats":{"downloads":248025,"plays":3317,"downVotes":118,"upVotes":5040,"heat":312.7915638,"rating":0.9407283375990468},"description":"\"What do they got? A lot of sand. We got a hot crustacean band! Each little clam here know how to jam here, under the sea!\"\r\nDifficulties: Expert+, Expert, Hard, Normal\r\nYouTube Preview: https://youtu.be/h6eMPlGUZsw","deletedAt":null,"_id":"5cff621048229f7d88fc7327","key":"195f","name":"Under The Sea (Little Mermaid) - Samuel E. Wright","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-10-08T23:44:34.000Z","hash":"f745bac45c618fa2c49a0ee0c383f2a6cb356a78","directDownload":"/cdn/195f/f745bac45c618fa2c49a0ee0c383f2a6cb356a78.zip","downloadURL":"/api/download/key/195f","coverURL":"/cdn/195f/f745bac45c618fa2c49a0ee0c383f2a6cb356a78.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":false,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":null,"expertPlus":{"duration":413.125,"length":130,"bombs":179,"notes":664,"obstacles":9,"njs":10,"njsOffset":0}}}],"songName":"THE HEISENBERG SONG","songSubName":"Say My Name","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":191},"stats":{"downloads":30210,"plays":129,"downVotes":39,"upVotes":41,"heat":308.6084522,"rating":0.5091703485317295},"description":"https://www.twitch.tv/heisenberg_irl\r\n\r\nA tribute to the mapping style of the one and only, Heisenberg in real life. The real Heisenberg. Not the fake one.","deletedAt":null,"_id":"5cff621048229f7d88fc731b","key":"194e","name":"THE HEISENBERG SONG (Tribute to Heisenbergirl)","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-10-08T13:50:34.000Z","hash":"c3b7b8a99a8f07961122b37547794f03adb27f96","directDownload":"/cdn/194e/c3b7b8a99a8f07961122b37547794f03adb27f96.zip","downloadURL":"/api/download/key/194e","coverURL":"/cdn/194e/c3b7b8a99a8f07961122b37547794f03adb27f96.png"}],"totalDocs":46,"lastPage":4,"prevPage":1,"nextPage":3}"#.into());
            client
                .maps_by_page(
                    &BeatSaverUser {
                        id: "5cff0b7298cc5a672c84e98d".into(),
                        username: "bennydabeast".into(),
                    },
                    2,
                )
                .await
                .unwrap();
        }
        #[async_test]
        async fn test_maps_hot() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/hot/0").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":true,"expert":false,"expertPlus":false,"hard":false,"normal":false},"duration":13,"automapper":null,"characteristics":[{"difficulties":{"easy":{"duration":13.625,"length":11,"njs":18,"njsOffset":1,"bombs":0,"notes":25,"obstacles":0},"expert":null,"expertPlus":null,"hard":null,"normal":null},"name":"Lawless"}],"levelAuthorName":"Chief Queef","songAuthorName":" ","songName":"*teleports behind you*","songSubName":"","bpm":69},"stats":{"downloads":494,"plays":0,"downVotes":0,"upVotes":10,"heat":1803.8752302,"rating":0.7570708845427101},"description":"nothing personnel kid","deletedAt":null,"_id":"5fbd9da95fd85f000691e895","key":"1146c","name":"*teleports behind you*","uploader":{"_id":"5f9a4d2a030219000627c2bf","username":"chief queef"},"hash":"4447287810e6ad338f379677c9d383b1634d876d","uploaded":"2020-11-24T23:56:25.360Z","directDownload":"/cdn/1146c/4447287810e6ad338f379677c9d383b1634d876d.zip","downloadURL":"/api/download/key/1146c","coverURL":"/cdn/1146c/4447287810e6ad338f379677c9d383b1634d876d.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":true,"hard":false,"normal":false},"duration":225,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":312.15301513671875,"length":208,"njs":16,"njsOffset":-0.4000000059604645,"bombs":12,"notes":551,"obstacles":194},"expertPlus":{"duration":312.15301513671875,"length":208,"njs":16,"njsOffset":-0.4000000059604645,"bombs":12,"notes":564,"obstacles":220},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"AmpereBEEP","songAuthorName":"Madeon","songName":"Home","songSubName":"","bpm":90},"stats":{"downloads":513,"plays":0,"downVotes":2,"upVotes":8,"heat":1803.5866947,"rating":0.6542425307256261},"description":"Really? No maps of this song before? That's a surprise.\r\n\r\nThis song is nice and slow and the map fits it accordingly. Could be good for accuracy practice or just a good map for newer players to see some good flow. \r\n\r\nMap comes with 2 difficulties: Expert+ with 564 notes at 2.50 notes per second, and a slightly less difficult Expert with 551 notes at 2.44 notes per second. Both maps are nearly identical, with the Expert+ difficulty having dodge walls and a section that might be a little difficult to read for new players.\r\n\r\nIf you have any feedback or any suggestions, send it to AmpereBEEP#1723 on Discord.","deletedAt":null,"_id":"5fbd91f000e48a00065a7826","key":"11467","name":"Home - Madeon","uploader":{"_id":"5ed1475c9ae7380006c6f245","username":"amperebeep"},"hash":"059a919433c73ebf299b32ec351b60adf50add89","uploaded":"2020-11-24T23:06:24.457Z","directDownload":"/cdn/11467/059a919433c73ebf299b32ec351b60adf50add89.zip","downloadURL":"/api/download/key/11467","coverURL":"/cdn/11467/059a919433c73ebf299b32ec351b60adf50add89.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":152,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":287.7916564941406,"length":150,"njs":18,"njsOffset":-0.30000001192092896,"bombs":0,"notes":763,"obstacles":0},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"EPG7ENS","songAuthorName":"MACROSS 82-99","songName":"89.22 FM","songSubName":"","bpm":115},"stats":{"downloads":680,"plays":0,"downVotes":0,"upVotes":9,"heat":1803.4551916,"rating":0.75},"description":"i'm kinda into japanese city pop rn\nenjoy ;)","deletedAt":null,"_id":"5fbd5bde5fd85f00069186b4","key":"11435","name":"82.99 MACROSS 82-99","uploader":{"_id":"5cff0b7798cc5a672c855bb6","username":"epg7ens"},"hash":"7555522308b9ed339a03ea574dd0b298d323349f","uploaded":"2020-11-24T19:15:42.711Z","directDownload":"/cdn/11435/7555522308b9ed339a03ea574dd0b298d323349f.zip","downloadURL":"/api/download/key/11435","coverURL":"/cdn/11435/7555522308b9ed339a03ea574dd0b298d323349f.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":317,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":904.8702392578125,"length":313,"njs":20,"njsOffset":-0.3199999928474426,"bombs":0,"notes":1914,"obstacles":116},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"EOP Glacier","songAuthorName":"Hatsuki Yura","songName":"Drivi'n Greedy","songSubName":"Nhato Remix","bpm":173},"stats":{"downloads":330,"plays":0,"downVotes":0,"upVotes":3,"heat":1803.443705,"rating":0.6705937099936721},"description":"This has been in my WIP folder for months but it's finally finished\n\nSong Stats:\nTop/Middle/Bottom Split:\n10%/32%/57%\nNPS: 6.02\nLights: 4,191","deletedAt":null,"_id":"5fbdadb8e3a5a20006f981d6","key":"11482","name":"Hatsuki Yura - Drivi'n Greedy","uploader":{"_id":"5d50e360adb1a20006305ca0","username":"eop glacier"},"hash":"2d000f27e4bf8a591f16cdd5322279186492b3ea","uploaded":"2020-11-25T01:04:56.269Z","directDownload":"/cdn/11482/2d000f27e4bf8a591f16cdd5322279186492b3ea.zip","downloadURL":"/api/download/key/11482","coverURL":"/cdn/11482/2d000f27e4bf8a591f16cdd5322279186492b3ea.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":110,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":174.537,"length":58,"njs":23,"njsOffset":-0.5,"bombs":6,"notes":333,"obstacles":46},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"Astrella","songAuthorName":"Breakmaster Cylinder","songName":"The Most Gangster Drop","songSubName":"","bpm":180},"stats":{"downloads":16,"plays":0,"downVotes":0,"upVotes":0,"heat":1803.3840344,"rating":0},"description":"gangster awehfiuawefluiawehfaiuwhfewaf","deletedAt":null,"_id":"5fbdf719ea68e70007b21333","key":"1149e","name":"The Most Gangster Drop - Breakmaster Cylinder","uploader":{"_id":"5fa1e74381e1d70006f2cc01","username":"c0r3nn"},"hash":"d6a267ea3d6a0d715d1d320e7773ad646aa2a424","uploaded":"2020-11-25T06:18:01.546Z","directDownload":"/cdn/1149e/d6a267ea3d6a0d715d1d320e7773ad646aa2a424.zip","downloadURL":"/api/download/key/1149e","coverURL":"/cdn/1149e/d6a267ea3d6a0d715d1d320e7773ad646aa2a424.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":false,"hard":false,"normal":false},"duration":239,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":243.375,"length":101,"njs":12,"njsOffset":0,"bombs":0,"notes":300,"obstacles":2},"expertPlus":null,"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"Packz","songAuthorName":"Illenium, John Bellion","songName":"Good Things Fall Apart - Illenium, John Bellion","songSubName":"","bpm":144},"stats":{"downloads":74,"plays":0,"downVotes":0,"upVotes":0,"heat":1803.3043823,"rating":0},"description":"this is a test map dont download","deletedAt":null,"_id":"5fbde91900e48a00065ae757","key":"1149d","name":"tyui","uploader":{"_id":"5f9a3ba76ef6a20006d59aea","username":"milla"},"hash":"eb7f40e59ee44be638054b3ca41f4f4b7b5b357f","uploaded":"2020-11-25T05:18:17.204Z","directDownload":"/cdn/1149d/eb7f40e59ee44be638054b3ca41f4f4b7b5b357f.zip","downloadURL":"/api/download/key/1149d","coverURL":"/cdn/1149d/eb7f40e59ee44be638054b3ca41f4f4b7b5b357f.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":254,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":567.219970703125,"length":243,"njs":21,"njsOffset":0.20000000298023224,"bombs":0,"notes":1253,"obstacles":7},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"night","songAuthorName":"Coheed and Cambria","songName":"Unheavenly Creatures","songSubName":"","bpm":140},"stats":{"downloads":409,"plays":0,"downVotes":0,"upVotes":3,"heat":1803.2977382,"rating":0.6705937099936721},"description":"Had fun mapping this one :)\nSend Feedback on Discord: night#0101","deletedAt":null,"_id":"5fbd940f9107590006129976","key":"1146a","name":"Coheed and Cambria - Unheavenly Creatures","uploader":{"_id":"5e244b8c003ea300067e67eb","username":"night"},"hash":"708d4a5c44c45a57d636b21c531cddde71674302","uploaded":"2020-11-24T23:15:27.762Z","directDownload":"/cdn/1146a/708d4a5c44c45a57d636b21c531cddde71674302.zip","downloadURL":"/api/download/key/1146a","coverURL":"/cdn/1146a/708d4a5c44c45a57d636b21c531cddde71674302.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":74,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":399,"length":106,"njs":23,"njsOffset":-0.20000000298023224,"bombs":0,"notes":931,"obstacles":0},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"DE125","songAuthorName":"you","songName":"Melancholia","songSubName":"(EKU's Desolation Remix) (Literally Just the First Drop Ver.)","bpm":225},"stats":{"downloads":85,"plays":0,"downVotes":0,"upVotes":0,"heat":1803.2910497,"rating":0},"description":"Literally just the first drop.\nI overmapped this so the pattern would work B)\n\nDm with issues @DE125#0001 if the issue isn't cringe saut burnt rice pattern","deletedAt":null,"_id":"5fbde6c1ea68e70007b20165","key":"1149c","name":"you - Melancholia (EKU's Desolation Remix) (TV Size)","uploader":{"_id":"5cff0b7798cc5a672c8554ba","username":"de125"},"hash":"2cb3a27602b362a6265fdfd543f4eec31f957ba4","uploaded":"2020-11-25T05:08:17.236Z","directDownload":"/cdn/1149c/2cb3a27602b362a6265fdfd543f4eec31f957ba4.zip","downloadURL":"/api/download/key/1149c","coverURL":"/cdn/1149c/2cb3a27602b362a6265fdfd543f4eec31f957ba4.jpg"},{"metadata":{"difficulties":{"easy":true,"expert":false,"expertPlus":false,"hard":false,"normal":false},"duration":6,"automapper":null,"characteristics":[{"difficulties":{"easy":{"duration":15.5,"length":5,"njs":18,"njsOffset":0,"bombs":0,"notes":6,"obstacles":0},"expert":null,"expertPlus":null,"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"Reddek","songAuthorName":"G","songName":"I like your cock G","songSubName":"","bpm":157.1999969482422},"stats":{"downloads":585,"plays":0,"downVotes":0,"upVotes":5,"heat":1803.273026,"rating":0.7084432256108616},"description":"why not","deletedAt":null,"_id":"5fbd68b800e48a00065a3663","key":"11445","name":"I like your cock G","uploader":{"_id":"5dbfb4426dea0b0006bd328d","username":"reddek"},"hash":"d3be6bc67cda1f13b3ac91c6b98d90605153f7f9","uploaded":"2020-11-24T20:10:32.522Z","directDownload":"/cdn/11445/d3be6bc67cda1f13b3ac91c6b98d90605153f7f9.zip","downloadURL":"/api/download/key/11445","coverURL":"/cdn/11445/d3be6bc67cda1f13b3ac91c6b98d90605153f7f9.jpg"},{"metadata":{"difficulties":{"easy":true,"expert":true,"expertPlus":false,"hard":true,"normal":true},"duration":96,"automapper":null,"characteristics":[{"difficulties":{"easy":{"duration":269.302083,"length":89,"njs":8,"njsOffset":0,"bombs":0,"notes":179,"obstacles":18},"expert":{"duration":269.302083,"length":89,"njs":15,"njsOffset":0,"bombs":14,"notes":403,"obstacles":112},"expertPlus":null,"hard":{"duration":269.302083,"length":89,"njs":13,"njsOffset":0,"bombs":11,"notes":360,"obstacles":102},"normal":{"duration":269.302083,"length":89,"njs":10,"njsOffset":0,"bombs":20,"notes":286,"obstacles":30}},"name":"Standard"}],"levelAuthorName":"rodysan","songAuthorName":"Ryu*","songName":"Sakura Sunrise","songSubName":"","bpm":181},"stats":{"downloads":91,"plays":0,"downVotes":0,"upVotes":0,"heat":1803.2705277,"rating":0},"description":"9","deletedAt":null,"_id":"5fbde325ea68e70007b1fd1e","key":"1149b","name":"Sakura Sunrise - Ryu☆","uploader":{"_id":"5fabfd44fe23c6000688154a","username":"rodysan"},"hash":"eea9c9813c1a06ce2ea754a4d4557f98bdc33d33","uploaded":"2020-11-25T04:52:53.745Z","directDownload":"/cdn/1149b/eea9c9813c1a06ce2ea754a4d4557f98bdc33d33.zip","downloadURL":"/api/download/key/1149b","coverURL":"/cdn/1149b/eea9c9813c1a06ce2ea754a4d4557f98bdc33d33.png"}],"totalDocs":35532,"lastPage":3553,"prevPage":null,"nextPage":1}"#.into());
            client.maps_hot().await.unwrap();
        }
        #[async_test]
        async fn test_maps_hot_page() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/hot/2").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":true,"hard":true,"normal":false},"duration":235,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":488.125,"length":232,"njs":19,"njsOffset":0.30000001192092896,"bombs":120,"notes":1643,"obstacles":94},"expertPlus":{"duration":487.625,"length":232,"njs":24,"njsOffset":0.20000000298023224,"bombs":124,"notes":1843,"obstacles":13},"hard":{"duration":488,"length":232,"njs":15,"njsOffset":0,"bombs":8,"notes":966,"obstacles":194},"normal":null},"name":"Standard"}],"levelAuthorName":"Mr.Mrow","songAuthorName":"Juggernaut.","songName":"Abyss","songSubName":"Counterfate","bpm":126},"stats":{"downloads":807,"plays":0,"downVotes":0,"upVotes":4,"heat":1811.014434,"rating":0.6919940778277485},"description":"Yo ItsMagma yo how do you be, I guess you'll mod this version too\nImplemented some feedback, simple up down map\n\nMr.Mrow#8039 for feedback","deletedAt":null,"_id":"5fc2ca8cf9ebbf000692dffe","key":"1170d","name":"Juggernaut - Abyss","uploader":{"_id":"5f1228528f03870006b5d00c","username":"mr.mrow"},"hash":"0859aa5c4c5985ecd1201d14b1bb3d3e80ce7fe1","uploaded":"2020-11-28T22:09:16.831Z","directDownload":"/cdn/1170d/0859aa5c4c5985ecd1201d14b1bb3d3e80ce7fe1.zip","downloadURL":"/api/download/key/1170d","coverURL":"/cdn/1170d/0859aa5c4c5985ecd1201d14b1bb3d3e80ce7fe1.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":169,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":420.25,"length":168,"njs":21,"njsOffset":-0.800000011920929,"bombs":32,"notes":1035,"obstacles":458},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"Fvrwvrd","songAuthorName":"Xilent","songName":"Run","songSubName":"","bpm":150},"stats":{"downloads":558,"plays":0,"downVotes":0,"upVotes":2,"heat":1811.0060785,"rating":0.6407951473548253},"description":"gamer streams.\n\nI think i'm getting better at this mappeing thing\n\nfvrwvrd#2472 on discord for feedback. pls give","deletedAt":null,"_id":"5fc2fdff62bd1c0007a277ef","key":"1176c","name":"Xilent - Run","uploader":{"_id":"5f7bd3c84bf28e00062a6286","username":"fvrwvrd"},"hash":"31a2090b68a28617d2060a97f66bc28d14e66952","uploaded":"2020-11-29T01:48:47.182Z","directDownload":"/cdn/1176c/31a2090b68a28617d2060a97f66bc28d14e66952.zip","downloadURL":"/api/download/key/1176c","coverURL":"/cdn/1176c/31a2090b68a28617d2060a97f66bc28d14e66952.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":false,"hard":false,"normal":false},"duration":236,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":413.75,"length":236,"njs":15,"njsOffset":0,"bombs":73,"notes":576,"obstacles":12},"expertPlus":null,"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"mspchill","songAuthorName":"Scott Gairdner","songName":"S*x Offender Shuffle ","songSubName":"","bpm":105},"stats":{"downloads":443,"plays":0,"downVotes":0,"upVotes":0,"heat":1810.9783342,"rating":0},"description":"The state of Florida has asked us to, make a Beat Saber map for you.","deletedAt":null,"_id":"5fc32e09ec1c5f00073c3393","key":"117aa","name":"S*x Offender Shuffle (Redone)","uploader":{"_id":"5e993d26d87e580006d85faf","username":"mspchill"},"hash":"39f5231f354b09fd5cd8c67b1794b73da5934bb8","uploaded":"2020-11-29T05:13:45.039Z","directDownload":"/cdn/117aa/39f5231f354b09fd5cd8c67b1794b73da5934bb8.zip","downloadURL":"/api/download/key/117aa","coverURL":"/cdn/117aa/39f5231f354b09fd5cd8c67b1794b73da5934bb8.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":true,"hard":false,"normal":false},"duration":274,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":638,"length":273,"njs":21,"njsOffset":0.400000005960464,"bombs":0,"notes":1674,"obstacles":0},"expertPlus":{"duration":638,"length":273,"njs":21,"njsOffset":0.400000005960464,"bombs":0,"notes":1674,"obstacles":1427},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"Verlexin","songAuthorName":"Code: Pandorum","songName":"Overseers","songSubName":"feat. Bratkilla","bpm":140},"stats":{"downloads":547,"plays":0,"downVotes":0,"upVotes":2,"heat":1810.9743956,"rating":0.6407951473548253},"description":"my proudest map so far, DARK (ex) has no walls and VOID (ex+) has the walls. :)","deletedAt":null,"_id":"5fc2f86d9f95e80006d2f51a","key":"11760","name":"Code: Pandorum & Bratkilla - Overseers","uploader":{"_id":"5e894f912a340900068db88c","username":"verlexin"},"hash":"0d628b3a8b694096b241fa13d2aa690ff1eb38f0","uploaded":"2020-11-29T01:25:01.453Z","directDownload":"/cdn/11760/0d628b3a8b694096b241fa13d2aa690ff1eb38f0.zip","downloadURL":"/api/download/key/11760","coverURL":"/cdn/11760/0d628b3a8b694096b241fa13d2aa690ff1eb38f0.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":false,"hard":false,"normal":false},"duration":23,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":27.578125,"length":23,"njs":15,"njsOffset":0,"bombs":10,"notes":152,"obstacles":0},"expertPlus":null,"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"mspchill","songAuthorName":"saturdaynightbigsalaryman","songName":"New Anime Plot","songSubName":"","bpm":70},"stats":{"downloads":430,"plays":0,"downVotes":0,"upVotes":0,"heat":1810.8794728,"rating":0},"description":"i got this new anime plot. basically there’s this high school girl except she’s got huge bunkers. i mean some serious honkers. a real set of badonkers. packin some dobonhonkeros. massive dohoonkabhankoloos. big ol’ tonhongerekoogers. what happens next?! transfer student shows up with even bigger bonkhonagahoogs. humongous hungolomghononoloughongous","deletedAt":null,"_id":"5fc31ca862bd1c0007a29993","key":"1179a","name":"New Anime Plot (Redone)","uploader":{"_id":"5e993d26d87e580006d85faf","username":"mspchill"},"hash":"7e3cdc22855ee91272b71e885c3f74335b3a6208","uploaded":"2020-11-29T03:59:36.274Z","directDownload":"/cdn/1179a/7e3cdc22855ee91272b71e885c3f74335b3a6208.zip","downloadURL":"/api/download/key/1179a","coverURL":"/cdn/1179a/7e3cdc22855ee91272b71e885c3f74335b3a6208.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":false,"hard":false,"normal":false},"duration":467,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":950.5875244140625,"length":456,"njs":12,"njsOffset":0,"bombs":16,"notes":1585,"obstacles":394},"expertPlus":null,"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"phunkyspelunky","songAuthorName":"Tame Impala","songName":"Let It Happen","songSubName":"","bpm":125},"stats":{"downloads":804,"plays":0,"downVotes":0,"upVotes":3,"heat":1810.8530357,"rating":0.6705937099936721},"description":"May add more difficulties in the near future. Enjoy :)","deletedAt":null,"_id":"5fc2c4249f95e80006d2af52","key":"11706","name":"Tame Impala - Let It Happen (Expert) ","uploader":{"_id":"5fa85d017925e2000613610e","username":"phunkyspelunky"},"hash":"6674b0161cda51ce3d1cb2c208cd4faaa12bdb70","uploaded":"2020-11-28T21:41:56.148Z","directDownload":"/cdn/11706/6674b0161cda51ce3d1cb2c208cd4faaa12bdb70.zip","downloadURL":"/api/download/key/11706","coverURL":"/cdn/11706/6674b0161cda51ce3d1cb2c208cd4faaa12bdb70.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":false,"hard":true,"normal":false},"duration":158,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":null,"hard":{"duration":231.69166564941406,"length":139,"njs":12,"njsOffset":0,"bombs":102,"notes":426,"obstacles":4},"normal":null},"name":"Standard"}],"levelAuthorName":"unknow","songAuthorName":"unknow","songName":"unknow","songSubName":"","bpm":100},"stats":{"downloads":459,"plays":0,"downVotes":1,"upVotes":0,"heat":1810.8503299,"rating":0.40583635249095656},"description":"A hip hop remix of Amelia Watson's ASMR Stream by Holo Bass","deletedAt":null,"_id":"5fc31788c09f4c0006f243b4","key":"11799","name":"Amelia Watson - Pop on Rocks A Dr. Seuss Rap","uploader":{"_id":"5f1a4db6a51f7f0006f1ac69","username":"budderbroham"},"hash":"2a8ab6a3439f365e834fa5d6d0446838eda8fe6e","uploaded":"2020-11-29T03:37:44.846Z","directDownload":"/cdn/11799/2a8ab6a3439f365e834fa5d6d0446838eda8fe6e.zip","downloadURL":"/api/download/key/11799","coverURL":"/cdn/11799/2a8ab6a3439f365e834fa5d6d0446838eda8fe6e.png"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":267,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":893.75,"length":255,"njs":23,"njsOffset":-0.5,"bombs":12,"notes":2669,"obstacles":95},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"Retrx","songAuthorName":"Camellia","songName":"The King Of Lions","songSubName":"","bpm":210},"stats":{"downloads":420,"plays":0,"downVotes":0,"upVotes":1,"heat":1810.8466323,"rating":0.5941636475090435},"description":"","deletedAt":null,"_id":"5fc316e2c09f4c0006f24324","key":"11798","name":"King of Lions","uploader":{"_id":"5ef3d186f82f170006c0aad8","username":"retrx"},"hash":"49b27568c702b6ceb9eb2d99555aa24893231390","uploaded":"2020-11-29T03:34:58.452Z","directDownload":"/cdn/11798/49b27568c702b6ceb9eb2d99555aa24893231390.zip","downloadURL":"/api/download/key/11798","coverURL":"/cdn/11798/49b27568c702b6ceb9eb2d99555aa24893231390.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":199,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":395.125,"length":189,"njs":20,"njsOffset":0.25,"bombs":0,"notes":560,"obstacles":43},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"Ryger","songAuthorName":"Rone","songName":"Lou","songSubName":"","bpm":125},"stats":{"downloads":424,"plays":0,"downVotes":0,"upVotes":1,"heat":1810.8344219,"rating":0.5941636475090435},"description":"","deletedAt":null,"_id":"5fc314bcec1c5f00073c171b","key":"11795","name":"Rone - Lou","uploader":{"_id":"5cff0b7798cc5a672c855a42","username":"ryger"},"hash":"6cacaae1760882e0b75bc6e6d97b8d0f9af2f218","uploaded":"2020-11-29T03:25:48.986Z","directDownload":"/cdn/11795/6cacaae1760882e0b75bc6e6d97b8d0f9af2f218.zip","downloadURL":"/api/download/key/11795","coverURL":"/cdn/11795/6cacaae1760882e0b75bc6e6d97b8d0f9af2f218.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":227,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":476.75,"length":228,"njs":20,"njsOffset":0,"bombs":27,"notes":2241,"obstacles":11},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"ImAbstr4kt","songAuthorName":"LHUGUENY","songName":"Undertale the Musical","songSubName":"","bpm":125},"stats":{"downloads":451,"plays":0,"downVotes":1,"upVotes":1,"heat":1810.7784936,"rating":0.5},"description":"A beautiful shitmap made in 2 hours, if you manage to pass this PLEASE send me a video. I would love to see it.\n\nFeedback: Abstr4kt#2416","deletedAt":null,"_id":"5fc30ae8f9ebbf000693349f","key":"11780","name":"LHUGUENY - Undertale the Musical","uploader":{"_id":"5f03a0cdc51ba90006d82f45","username":"imabstr4kt"},"hash":"48d4519cd15d323b4545845c7ce62a9899eec64e","uploaded":"2020-11-29T02:43:52.211Z","directDownload":"/cdn/11780/48d4519cd15d323b4545845c7ce62a9899eec64e.zip","downloadURL":"/api/download/key/11780","coverURL":"/cdn/11780/48d4519cd15d323b4545845c7ce62a9899eec64e.jpg"}],"totalDocs":35737,"lastPage":3573,"prevPage":1,"nextPage":3}"#.into());
            client.maps_hot_page(2).await.unwrap();
        }
        #[async_test]
        async fn test_maps_rating() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/rating/0").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":417,"length":195,"bombs":4,"notes":301,"obstacles":24,"njs":10,"njsOffset":0},"hard":{"duration":417,"length":195,"bombs":4,"notes":486,"obstacles":24,"njs":10,"njsOffset":0},"expert":{"duration":417.5,"length":195,"bombs":4,"notes":620,"obstacles":24,"njs":10,"njsOffset":0},"expertPlus":{"duration":417.5,"length":195,"bombs":0,"notes":894,"obstacles":0,"njs":12,"njsOffset":0}}}],"songName":"Shut Up and Dance","songSubName":"WALK THE MOON","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":128},"stats":{"downloads":422048,"plays":558,"downVotes":136,"upVotes":10824,"heat":395.8248964,"rating":0.9579470354714587},"description":"Difficulties: Expert+ (Added 11/15), Expert, Hard, Normal\r\nYouTube Preview: https://youtu.be/x9hJbTlPQUY","deletedAt":null,"_id":"5cff621148229f7d88fc77c9","key":"2144","name":"Shut Up and Dance - WALK THE MOON","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-11-21T01:27:00.000Z","hash":"89cf8bb07afb3c59ae7b5ac00337d62261c36fb4","directDownload":"/cdn/2144/89cf8bb07afb3c59ae7b5ac00337d62261c36fb4.zip","downloadURL":"/api/download/key/2144","coverURL":"/cdn/2144/89cf8bb07afb3c59ae7b5ac00337d62261c36fb4.png"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":623.3125,"length":214,"bombs":0,"notes":462,"obstacles":25,"njs":10,"njsOffset":0},"hard":{"duration":623.3125,"length":214,"bombs":0,"notes":639,"obstacles":40,"njs":10,"njsOffset":0},"expert":{"duration":623.3125,"length":214,"bombs":0,"notes":825,"obstacles":40,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Mr. Blue Sky","songSubName":"Electric Light Orchestra","songAuthorName":"GreatYazer","levelAuthorName":"greatyazer","bpm":174},"stats":{"downloads":929036,"plays":39426,"downVotes":485,"upVotes":22691,"heat":94.0178926,"rating":0.9558250129688451},"description":"Channel your inner Baby Groot.  Normal, Hard, Expert\r\nSpecial thanks to BennydaBeast for his help on this track!","deletedAt":null,"_id":"5cff620d48229f7d88fc65f7","key":"570","name":"Mr. Blue Sky | Electric Light Orchestra","uploader":{"_id":"5cff0b7298cc5a672c84ea71","username":"greatyazer"},"uploaded":"2018-06-16T16:53:34.000Z","hash":"236173d5ba7dc379d480b9cb5fb6b4fa5abe77da","directDownload":"/cdn/570/236173d5ba7dc379d480b9cb5fb6b4fa5abe77da.zip","downloadURL":"/api/download/key/570","coverURL":"/cdn/570/236173d5ba7dc379d480b9cb5fb6b4fa5abe77da.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":475,"length":226,"bombs":0,"notes":620,"obstacles":10,"njs":10,"njsOffset":0},"expert":{"duration":475,"length":226,"bombs":0,"notes":738,"obstacles":11,"njs":12,"njsOffset":0},"expertPlus":null}}],"songName":"Feel Invincible","songSubName":"Skillet","songAuthorName":"Rustic","levelAuthorName":"rustic","bpm":126},"stats":{"downloads":266051,"plays":3479,"downVotes":90,"upVotes":7150,"heat":231.7515825,"rating":0.9539859440299348},"description":"Expert / Hard\r\nhttps://www.youtube.com/watch?v=nq-Qul4XxbE","deletedAt":null,"_id":"5cff620f48229f7d88fc6eba","key":"121f","name":"Skillet - Feel Invincible","uploader":{"_id":"5cff0b7298cc5a672c84e8c4","username":"rustic"},"uploaded":"2018-08-27T16:47:05.000Z","hash":"2e9ab6e1fb8055649e241cade98b018926cc93a8","directDownload":"/cdn/121f/2e9ab6e1fb8055649e241cade98b018926cc93a8.zip","downloadURL":"/api/download/key/121f","coverURL":"/cdn/121f/2e9ab6e1fb8055649e241cade98b018926cc93a8.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":{"duration":476.7637634277344,"length":173,"bombs":52,"notes":722,"obstacles":28,"njs":14,"njsOffset":0},"expertPlus":null}}],"songName":"Caramelldansen (Speedcake Remix)","songSubName":"Caramell","songAuthorName":"Dack","levelAuthorName":"Dack","bpm":165},"stats":{"downloads":257793,"plays":0,"downVotes":249,"upVotes":13203,"heat":604.9856039,"rating":0.9539671938016036},"description":"Preview: https://youtu.be/V5p0HOzunY0\n\n\nPatreon: https://www.patreon.com/Dack","deletedAt":null,"_id":"5cff621548229f7d88fc8904","key":"3cf5","name":"Caramelldansen","uploader":{"_id":"5cff0b7598cc5a672c852c6f","username":"dack"},"uploaded":"2019-03-09T22:54:54.000Z","hash":"cf5e32d6b7f30095f7198da5894139c92336cad7","directDownload":"/cdn/3cf5/cf5e32d6b7f30095f7198da5894139c92336cad7.zip","downloadURL":"/api/download/key/3cf5","coverURL":"/cdn/3cf5/cf5e32d6b7f30095f7198da5894139c92336cad7.jpg"},{"metadata":{"difficulties":{"easy":true,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":{"duration":418,"length":200,"bombs":0,"notes":216,"obstacles":0,"njs":10,"njsOffset":0},"normal":{"duration":418,"length":200,"bombs":0,"notes":388,"obstacles":8,"njs":10,"njsOffset":0},"hard":{"duration":418,"length":200,"bombs":0,"notes":514,"obstacles":10,"njs":11,"njsOffset":0},"expert":{"duration":418,"length":200,"bombs":0,"notes":560,"obstacles":12,"njs":12,"njsOffset":0},"expertPlus":null}}],"songName":"Believer (100k ver.)","songSubName":"Imagine Dragons","songAuthorName":"Rustic","levelAuthorName":"rustic","bpm":125},"stats":{"downloads":514839,"plays":9381,"downVotes":217,"upVotes":11958,"heat":379.9016606,"rating":0.953774738159888},"description":"This is one of the 22 maps that were mapped for the 100k Contest where you can win over $7,000 in prizes. Go to https://bsaber.com/100k-contest/ to register!","deletedAt":null,"_id":"5cff621148229f7d88fc76ec","key":"1fef","name":"Imagine Dragons - Believer (100k ver.) | 100k Contest","uploader":{"_id":"5cff0b7298cc5a672c84e8c4","username":"rustic"},"uploaded":"2018-11-12T17:53:58.000Z","hash":"9a7a5beadfdd1c7c0f137ecba6e5f6ff377eb390","directDownload":"/cdn/1fef/9a7a5beadfdd1c7c0f137ecba6e5f6ff377eb390.zip","downloadURL":"/api/download/key/1fef","coverURL":"/cdn/1fef/9a7a5beadfdd1c7c0f137ecba6e5f6ff377eb390.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":501.19000244140625,"length":227,"bombs":0,"notes":671,"obstacles":16,"njs":10,"njsOffset":0},"expert":{"duration":501.19000244140625,"length":227,"bombs":0,"notes":831,"obstacles":16,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Daddy","songSubName":"PSY","songAuthorName":"Fafurion","levelAuthorName":"fafurion","bpm":132},"stats":{"downloads":251102,"plays":2330,"downVotes":123,"upVotes":8386,"heat":243.8954711,"rating":0.953687887575571},"description":"Insanely fun dance map! Enjoy!\r\nSee the map in action (Expert): https://www.youtube.com/watch?v=cWz6flYGs20\r\n\r\nThank you to my playtesters:\r\nQTPop (https://www.twitch.tv/qtpop)\r\nDuoVR (https://www.twitch.tv/duovr)\r\nSourgurl (https://www.twitch.tv/sourgurl)\r\nRexxxzi (https://www.twitch.tv/rexxxzi)\r\nAshleyriott (https://www.twitch.tv/ashleyriott)\r\n\r\nDiscord: @Fufu#5452","deletedAt":null,"_id":"5cff620f48229f7d88fc6f6c","key":"133b","name":"Daddy - PSY","uploader":{"_id":"5cff0b7398cc5a672c84f945","username":"fafurion"},"uploaded":"2018-09-02T23:43:45.000Z","hash":"dc489921185f92dfecb9cb07b84fc556123bd134","directDownload":"/cdn/133b/dc489921185f92dfecb9cb07b84fc556123bd134.zip","downloadURL":"/api/download/key/133b","coverURL":"/cdn/133b/dc489921185f92dfecb9cb07b84fc556123bd134.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":523.625,"length":245,"bombs":0,"notes":633,"obstacles":13,"njs":10,"njsOffset":0},"expert":{"duration":523.5650024414062,"length":245,"bombs":0,"notes":880,"obstacles":19,"njs":12,"njsOffset":0},"expertPlus":null}}],"songName":"Uprising","songSubName":"Muse","songAuthorName":"Rustic","levelAuthorName":"rustic","bpm":128},"stats":{"downloads":458225,"plays":11598,"downVotes":163,"upVotes":9224,"heat":84.4207539,"rating":0.9518918933740727},"description":"Expert / Hard\r\nhttps://youtu.be/WpFUt3UNp7c","deletedAt":null,"_id":"5cff620d48229f7d88fc655e","key":"4c6","name":"Muse - Uprising","uploader":{"_id":"5cff0b7298cc5a672c84e8c4","username":"rustic"},"uploaded":"2018-06-11T21:47:41.000Z","hash":"00e5671e594a6fe621c3605fcc5a0e4466ba6478","directDownload":"/cdn/4c6/00e5671e594a6fe621c3605fcc5a0e4466ba6478.zip","downloadURL":"/api/download/key/4c6","coverURL":"/cdn/4c6/00e5671e594a6fe621c3605fcc5a0e4466ba6478.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":true,"hard":false,"normal":false},"duration":0,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":547,"length":234,"njs":12,"njsOffset":0,"bombs":0,"notes":705,"obstacles":10},"expertPlus":{"duration":547,"length":234,"njs":16,"njsOffset":0,"bombs":0,"notes":876,"obstacles":10},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"KikaeAeon","songAuthorName":"League of Legends & Against The Current","songName":"Legends Never Die","songSubName":"","bpm":140},"stats":{"downloads":142656,"plays":0,"downVotes":87,"upVotes":6241,"heat":997.2555043,"rating":0.9513740970623574},"description":"A special request from Prima1URGE","deletedAt":null,"_id":"5d91d6c1871b1a0006f9b3e7","key":"66e6","name":"League of Legends - Legends never die (ft. Against The Current)","uploader":{"_id":"5cff0b7498cc5a672c85109b","username":"kikaeaeon"},"hash":"732bd4072b89d4b3bf0e63db812a7ffc3096e837","uploaded":"2019-09-30T10:19:45.606Z","directDownload":"/cdn/66e6/732bd4072b89d4b3bf0e63db812a7ffc3096e837.zip","downloadURL":"/api/download/key/66e6","coverURL":"/cdn/66e6/732bd4072b89d4b3bf0e63db812a7ffc3096e837.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":578,"length":194,"bombs":8,"notes":519,"obstacles":86,"njs":13,"njsOffset":0},"expert":{"duration":578,"length":194,"bombs":10,"notes":679,"obstacles":86,"njs":16,"njsOffset":0},"expertPlus":null}}],"songName":"Flamingo","songSubName":"Kero Kero Bonito","songAuthorName":"ETAN","levelAuthorName":"ETAN","bpm":178},"stats":{"downloads":142323,"plays":0,"downVotes":90,"upVotes":6344,"heat":744.9785357,"rating":0.9513253928566593},"description":"edited: NJS was a tad slow my b\r\nfuramingo \r\noh oh ooh oh\r\nthis needed to be remapped\r\n \r\nPlease check out Kero Kero Bonito and the rest of their songs\r\nI'll be mappin more of em soon\r\n\r\nBPM 178\r\nFlamingo (Expert)\r\nShrimp (Hard)\r\n\r\nhave fun \r\n\r\ngimme feedback on Discord\r\nETAN#8341","deletedAt":null,"_id":"5cff621748229f7d88fc93fc","key":"4e6f","name":"Kero Kero Bonito - Flamingo","uploader":{"_id":"5cff0b7798cc5a672c855775","username":"etan"},"uploaded":"2019-05-22T00:46:47.000Z","hash":"585ee25e654ebf5db5aa0ec02c3bcecbaccf3e0b","directDownload":"/cdn/4e6f/585ee25e654ebf5db5aa0ec02c3bcecbaccf3e0b.zip","downloadURL":"/api/download/key/4e6f","coverURL":"/cdn/4e6f/585ee25e654ebf5db5aa0ec02c3bcecbaccf3e0b.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":{"duration":689.8004760742188,"length":242,"bombs":16,"notes":1093,"obstacles":16,"njs":14,"njsOffset":0},"expertPlus":null}}],"songName":"IGNITE","songSubName":"Aoi Eir","songAuthorName":"Joetastic","levelAuthorName":"Joetastic","bpm":171},"stats":{"downloads":266468,"plays":0,"downVotes":141,"upVotes":7933,"heat":451.3606934,"rating":0.9503730517090982},"description":"Trying to get this version ranked! New version with changes according to the ranking criteria: Double directional notes fixed, flow improvements, removed fast dodge walls on bridge section.","deletedAt":null,"_id":"5cff621248229f7d88fc7b21","key":"26f6","name":"IGNITE (Ranked Version) [Sword Art Online Season 2 Opening] - Aoi Eir","uploader":{"_id":"5cff0b7498cc5a672c85050e","username":"joetastic"},"uploaded":"2018-12-20T01:21:47.000Z","hash":"125b07ebcc06fe9667e83fc2d6b9ae5ecbc72e8c","directDownload":"/cdn/26f6/125b07ebcc06fe9667e83fc2d6b9ae5ecbc72e8c.zip","downloadURL":"/api/download/key/26f6","coverURL":"/cdn/26f6/125b07ebcc06fe9667e83fc2d6b9ae5ecbc72e8c.jpg"}],"totalDocs":35533,"lastPage":3553,"prevPage":null,"nextPage":1}"#.into());
            client.maps_rating().await.unwrap();
        }
        #[async_test]
        async fn test_maps_rating_page() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/rating/2").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":401.92266845703125,"length":207,"bombs":0,"notes":423,"obstacles":7,"njs":10,"njsOffset":0},"hard":{"duration":401.92266845703125,"length":207,"bombs":0,"notes":507,"obstacles":32,"njs":10,"njsOffset":0},"expert":{"duration":401.9254150390625,"length":207,"bombs":0,"notes":771,"obstacles":32,"njs":10,"njsOffset":0},"expertPlus":{"duration":401.92266845703125,"length":207,"bombs":0,"notes":873,"obstacles":32,"njs":10,"njsOffset":0}}}],"songName":"New Rules","songSubName":"Dua Lipa","songAuthorName":"BennyDaBeast (Lighting: Heisenberg)","levelAuthorName":"bennydabeast","bpm":116},"stats":{"downloads":300360,"plays":7319,"downVotes":115,"upVotes":6006,"heat":168.6420112,"rating":0.9463489464557748},"description":"Difficulties: Expert+, Expert, Hard, Normal\r\nYouTube Preview: https://youtu.be/Ohq6cA_1NAE\r\nLighting by Heisenberg: https://beatsaver.com/index.php/browse/byuser/1089","deletedAt":null,"_id":"5cff620e48229f7d88fc6afc","key":"bd3","name":"New Rules - Dua Lipa","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-07-25T20:53:52.000Z","hash":"674b1b540ac5851c92c8cde7dd456698f5a733c4","directDownload":"/cdn/bd3/674b1b540ac5851c92c8cde7dd456698f5a733c4.zip","downloadURL":"/api/download/key/bd3","coverURL":"/cdn/bd3/674b1b540ac5851c92c8cde7dd456698f5a733c4.png"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":false,"hard":false,"normal":false},"duration":0,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":569.0850219726562,"length":200,"njs":14,"njsOffset":0,"bombs":0,"notes":651,"obstacles":42},"expertPlus":null,"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"Joetastic","songAuthorName":"Twenty One Pilots","songName":"Stressed Out","songSubName":"","bpm":170},"stats":{"downloads":132241,"plays":0,"downVotes":61,"upVotes":4008,"heat":922.5037945,"rating":0.9452754283183059},"description":"\"Stressed Out\" is a song by American musical duo Twenty One Pilots, for their fourth studio album, Blurryface. Written by Tyler Joseph and produced by Mike Elizondo, the lyrics discuss the harsh end of adolescence and the transition to adulthood.","deletedAt":null,"_id":"5d5ea4b62c316f000688d7b7","key":"5e81","name":"Stressed Out - Twenty One Pilots","uploader":{"_id":"5cff0b7498cc5a672c85050e","username":"joetastic"},"hash":"068a80d89857a6a2221f54e8a5d374584b2db77e","uploaded":"2019-08-22T14:20:38.731Z","directDownload":"/cdn/5e81/068a80d89857a6a2221f54e8a5d374584b2db77e.zip","downloadURL":"/api/download/key/5e81","coverURL":"/cdn/5e81/068a80d89857a6a2221f54e8a5d374584b2db77e.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":454,"length":252,"bombs":0,"notes":321,"obstacles":14,"njs":10,"njsOffset":0},"hard":{"duration":454,"length":252,"bombs":0,"notes":432,"obstacles":14,"njs":10,"njsOffset":0},"expert":{"duration":454,"length":252,"bombs":0,"notes":680,"obstacles":14,"njs":10,"njsOffset":0},"expertPlus":{"duration":454,"length":252,"bombs":0,"notes":810,"obstacles":14,"njs":10,"njsOffset":0}}}],"songName":"Some Nights","songSubName":"Fun.","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":108},"stats":{"downloads":294845,"plays":6779,"downVotes":133,"upVotes":6250,"heat":199.3520718,"rating":0.9448837394753198},"description":"Difficulties: Expert+, Expert, Hard, Normal\r\nYouTube Preview: https://youtu.be/X4R7VIZPffk","deletedAt":null,"_id":"5cff620f48229f7d88fc6cee","key":"efe","name":"Some Nights - Fun.","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-08-10T20:34:09.000Z","hash":"e64d6b7c5527d36005ae1801268798dd21ccf605","directDownload":"/cdn/efe/e64d6b7c5527d36005ae1801268798dd21ccf605.zip","downloadURL":"/api/download/key/efe","coverURL":"/cdn/efe/e64d6b7c5527d36005ae1801268798dd21ccf605.png"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":false,"hard":false,"normal":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":{"duration":389.8768310546875,"length":182,"bombs":0,"notes":721,"obstacles":8,"njs":14,"njsOffset":0},"expertPlus":null}}],"levelAuthorName":"Joetastic","songAuthorName":"Run DMC","songName":"It's Tricky","songSubName":"","bpm":128},"stats":{"downloads":104893,"plays":0,"downVotes":34,"upVotes":2955,"heat":824.6964382,"rating":0.9447017186713489},"description":"\"It's Tricky\" is the fourth and final single released from Run-DMC's third album, Raising Hell which was released early in 1987. \n\nThis is one of favorite workout songs, can't believe I haven't mapped it yet :P","deletedAt":null,"_id":"5d1b92fe1aea5f0006478bd9","key":"5552","name":"It's Tricky - Run DMC","uploader":{"_id":"5cff0b7498cc5a672c85050e","username":"joetastic"},"hash":"9027d4274febf8722078a5f70b51da58cf433322","uploaded":"2019-07-02T17:23:10.798Z","directDownload":"/cdn/5552/9027d4274febf8722078a5f70b51da58cf433322.zip","downloadURL":"/api/download/key/5552","coverURL":"/cdn/5552/9027d4274febf8722078a5f70b51da58cf433322.jpg"},{"metadata":{"difficulties":{"easy":true,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":{"duration":429.5,"length":201,"bombs":0,"notes":297,"obstacles":88,"njs":10,"njsOffset":0},"normal":{"duration":429.54266357421875,"length":201,"bombs":0,"notes":343,"obstacles":88,"njs":10,"njsOffset":0},"hard":{"duration":429.54266357421875,"length":201,"bombs":0,"notes":524,"obstacles":125,"njs":12,"njsOffset":0},"expert":{"duration":429.5,"length":201,"bombs":0,"notes":695,"obstacles":100,"njs":12,"njsOffset":0},"expertPlus":null}}],"songName":"Moves Like Jagger","songSubName":"Maroon 5 ft. Christina Aguilera","songAuthorName":"Fafurion","levelAuthorName":"fafurion","bpm":128},"stats":{"downloads":202165,"plays":0,"downVotes":93,"upVotes":4859,"heat":516.3199763,"rating":0.9440595804974747},"description":"See it in Action: https://www.youtube.com/watch?v=J4_8scnZPjk\r\n\r\nThank you to my playtesters:\r\n\r\nQTpop (https://www.twitch.tv/qtpop)\r\n\r\nI stream playing and making maps for beat saber: https://www.twitch.tv/fafurion","deletedAt":null,"_id":"5cff621348229f7d88fc8108","key":"3038","name":"Moves Like Jagger - Maroon 5 ft. Christina Aguilera","uploader":{"_id":"5cff0b7398cc5a672c84f945","username":"fafurion"},"uploaded":"2019-01-23T00:01:22.000Z","hash":"6f5e229b8ec73c9e448c00a680548b0ce25918ee","directDownload":"/cdn/3038/6f5e229b8ec73c9e448c00a680548b0ce25918ee.zip","downloadURL":"/api/download/key/3038","coverURL":"/cdn/3038/6f5e229b8ec73c9e448c00a680548b0ce25918ee.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":127,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":264,"length":123,"njs":18,"njsOffset":0,"bombs":0,"notes":748,"obstacles":4878},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"Reaxt","songAuthorName":"Dirty Androids","songName":"Midnight Lady","songSubName":"","bpm":128},"stats":{"downloads":51835,"plays":0,"downVotes":39,"upVotes":3047,"heat":1621.4627602,"rating":0.9439715751108106},"description":"Enjoy the ride.\n\nMassive thanks to Nyri0 and Checkthepan for helping with scripts and some math!!\n\n\nThis map was released as a part of the \"Extra Sensory\" event.\n\nVideo showcase thingy: https://youtu.be/pE_s9bvntA0 (watch tougeVR's instead tho)","deletedAt":null,"_id":"5f3ea9559824150006b6ebce","key":"da60","name":"[Extra Sensory] Dirty Androids - Midnight Lady","uploader":{"_id":"5cff0b7298cc5a672c84e8ab","username":"reaxt"},"hash":"ee501d7348223470c16ca88eac4a946e41cd11a9","uploaded":"2020-08-20T16:48:21.705Z","directDownload":"/cdn/da60/ee501d7348223470c16ca88eac4a946e41cd11a9.zip","downloadURL":"/api/download/key/da60","coverURL":"/cdn/da60/ee501d7348223470c16ca88eac4a946e41cd11a9.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":514,"length":268,"bombs":0,"notes":639,"obstacles":24,"njs":10,"njsOffset":0},"expert":{"duration":514,"length":268,"bombs":0,"notes":776,"obstacles":24,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Uptown Funk","songSubName":"Mark Ronson","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":115},"stats":{"downloads":254754,"plays":0,"downVotes":162,"upVotes":6815,"heat":763.6612175,"rating":0.9435730219852141},"description":"5/31: This version now works for the Oculus Quest.\r\n\r\nDifficulties: Expert and Hard\r\nYouTube Link: https://youtu.be/6TYji_Klr9I","deletedAt":null,"_id":"5cff621748229f7d88fc9549","key":"5038","name":"Uptown Funk - Mark Ronson","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2019-05-31T17:58:39.000Z","hash":"d110e413fb7fb462b692f1f17b835cf8b7280884","directDownload":"/cdn/5038/d110e413fb7fb462b692f1f17b835cf8b7280884.zip","downloadURL":"/api/download/key/5038","coverURL":"/cdn/5038/d110e413fb7fb462b692f1f17b835cf8b7280884.png"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":false,"hard":true,"normal":false},"duration":0,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":707.3033447265625,"length":326,"njs":16,"njsOffset":0,"bombs":0,"notes":1218,"obstacles":6631},"expertPlus":null,"hard":{"duration":707.3033447265625,"length":326,"njs":16,"njsOffset":0,"bombs":0,"notes":1218,"obstacles":43},"normal":null},"name":"Standard"}],"levelAuthorName":"ejiejidayo","songAuthorName":".","songName":"Star Sky Two Steps From Hell","songSubName":"","bpm":130},"stats":{"downloads":96518,"plays":0,"downVotes":29,"upVotes":2632,"heat":966.9351536,"rating":0.9435706585457941},"description":"68\nNormal wall --- 43 walls\nHyper wall --- 6631 walls\n\ndoodle :)","deletedAt":null,"_id":"5d7d46b1fffdb800068e0b37","key":"6366","name":"Star Sky - Two Steps From Hell","uploader":{"_id":"5cff0b7398cc5a672c84fc58","username":"ejiejidayo"},"hash":"323975ef9eaec337c8208dc864e766289e3d5ef1","uploaded":"2019-09-14T19:59:45.575Z","directDownload":"/cdn/6366/323975ef9eaec337c8208dc864e766289e3d5ef1.zip","downloadURL":"/api/download/key/6366","coverURL":"/cdn/6366/323975ef9eaec337c8208dc864e766289e3d5ef1.jpg"},{"metadata":{"difficulties":{"easy":true,"expert":true,"expertPlus":true,"hard":true,"normal":true},"duration":180,"automapper":null,"characteristics":[{"difficulties":{"easy":{"duration":307.98065185546875,"length":175,"njs":10,"njsOffset":0,"bombs":0,"notes":175,"obstacles":1},"expert":{"duration":307.98065185546875,"length":175,"njs":14,"njsOffset":0,"bombs":0,"notes":578,"obstacles":15},"expertPlus":{"duration":307.98065185546875,"length":175,"njs":14,"njsOffset":0,"bombs":0,"notes":580,"obstacles":14},"hard":{"duration":307.98065185546875,"length":175,"njs":12,"njsOffset":0,"bombs":0,"notes":459,"obstacles":10},"normal":{"duration":307.98065185546875,"length":175,"njs":10,"njsOffset":0,"bombs":0,"notes":322,"obstacles":2}},"name":"Standard"}],"levelAuthorName":"Holair","songAuthorName":"Joey Batey","songName":"Toss A Coin To Your Witcher","songSubName":"Netflix's The Witcher","bpm":105},"stats":{"downloads":199534,"plays":0,"downVotes":188,"upVotes":7500,"heat":1168.9994977,"rating":0.9433779085510436},"description":"Expert+ Preview https://www.youtube.com/watch?v=AjfABhvswrI\n\nToss a Coin to Beat Saber!\n\nNetflix's The Witcher OST.\nOriginal Music by Sonya Belousova & Giona Ostinelli.\nLyrics by Jenny Klein, Sonya Belousova & Giona Ostinelli.\nPerformed by Joey Batey.\n\nThanks Sorukun for playtesting.","deletedAt":null,"_id":"5e07b6f7932ef2000772d492","key":"7a64","name":"Joey Batey - Toss A Coin To Your Witcher","uploader":{"_id":"5cff0b7698cc5a672c853af4","username":"holair"},"hash":"19a733cf9202ef25725966d78f465bf87b26254d","uploaded":"2019-12-28T20:11:35.767Z","directDownload":"/cdn/7a64/19a733cf9202ef25725966d78f465bf87b26254d.zip","downloadURL":"/api/download/key/7a64","coverURL":"/cdn/7a64/19a733cf9202ef25725966d78f465bf87b26254d.jpg"},{"metadata":{"difficulties":{"easy":true,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":{"duration":517.3426513671875,"length":263,"bombs":0,"notes":353,"obstacles":78,"njs":13,"njsOffset":0},"normal":{"duration":517.3426513671875,"length":263,"bombs":0,"notes":589,"obstacles":18,"njs":13,"njsOffset":0},"hard":{"duration":517.3426513671875,"length":263,"bombs":0,"notes":893,"obstacles":13,"njs":13,"njsOffset":0},"expert":{"duration":517.3426513671875,"length":263,"bombs":0,"notes":1167,"obstacles":25,"njs":13,"njsOffset":0},"expertPlus":null}}],"songName":"New Divide","songSubName":"Linkin Park","songAuthorName":"DownyCat","levelAuthorName":"downycat","bpm":118},"stats":{"downloads":257520,"plays":5363,"downVotes":65,"upVotes":3770,"heat":379.9668327,"rating":0.9427663556455308},"description":"This is one of the 22 maps that were mapped for the 100k Contest where you can win over $7,000 in prizes. Go to https://bsaber.com/100k-contest/ to register!\r\nhttps://www.youtube.com/watch?v=deWMNAw03QI&t=28s","deletedAt":null,"_id":"5cff621148229f7d88fc7700","key":"2005","name":"New Divide - Linkin Park - 100k Contest","uploader":{"_id":"5cff0b7398cc5a672c84ede5","username":"downycat"},"uploaded":"2018-11-13T00:58:32.000Z","hash":"be4a33ad1b1caef9f1f42b680ca1a9087db19ffe","directDownload":"/cdn/2005/be4a33ad1b1caef9f1f42b680ca1a9087db19ffe.zip","downloadURL":"/api/download/key/2005","coverURL":"/cdn/2005/be4a33ad1b1caef9f1f42b680ca1a9087db19ffe.jpg"}],"totalDocs":35794,"lastPage":3579,"prevPage":1,"nextPage":3}"#.into());
            client.maps_rating_page(2).await.unwrap();
        }
        #[async_test]
        async fn test_maps_latest() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/latest/0").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":false,"hard":false,"normal":false},"duration":225,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":512,"length":219,"njs":20,"njsOffset":-0.550000011920929,"bombs":101,"notes":688,"obstacles":35},"expertPlus":null,"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"AuroraModz","songAuthorName":"Cafe Disko","songName":"So High","songSubName":"(feat. DanÃ©l)","bpm":140},"stats":{"downloads":0,"plays":0,"downVotes":0,"upVotes":0,"heat":1803.4047171,"rating":0},"description":"Mapped By UwUCrew.\nWe are a various mapping team that makes songs based on what the community wants. If you would like to request a song join this discord>https://discord.gg/YueyEWb\n","deletedAt":null,"_id":"5fbdfabcea68e70007b216f6","key":"1149f","name":"Cafe Disko - So High (feat. Danél)","uploader":{"_id":"5f292e68c9b14c0006ce923f","username":"uwucrew"},"hash":"56941d85c66142fb91aaa62eeb36e65262343d9a","uploaded":"2020-11-25T06:33:32.268Z","directDownload":"/cdn/1149f/56941d85c66142fb91aaa62eeb36e65262343d9a.zip","downloadURL":"/api/download/key/1149f","coverURL":"/cdn/1149f/56941d85c66142fb91aaa62eeb36e65262343d9a.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":110,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":174.537,"length":58,"njs":23,"njsOffset":-0.5,"bombs":6,"notes":333,"obstacles":46},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"Astrella","songAuthorName":"Breakmaster Cylinder","songName":"The Most Gangster Drop","songSubName":"","bpm":180},"stats":{"downloads":21,"plays":0,"downVotes":0,"upVotes":0,"heat":1803.3840344,"rating":0},"description":"gangster awehfiuawefluiawehfaiuwhfewaf","deletedAt":null,"_id":"5fbdf719ea68e70007b21333","key":"1149e","name":"The Most Gangster Drop - Breakmaster Cylinder","uploader":{"_id":"5fa1e74381e1d70006f2cc01","username":"c0r3nn"},"hash":"d6a267ea3d6a0d715d1d320e7773ad646aa2a424","uploaded":"2020-11-25T06:18:01.546Z","directDownload":"/cdn/1149e/d6a267ea3d6a0d715d1d320e7773ad646aa2a424.zip","downloadURL":"/api/download/key/1149e","coverURL":"/cdn/1149e/d6a267ea3d6a0d715d1d320e7773ad646aa2a424.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":false,"hard":false,"normal":false},"duration":239,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":243.375,"length":101,"njs":12,"njsOffset":0,"bombs":0,"notes":300,"obstacles":2},"expertPlus":null,"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"Packz","songAuthorName":"Illenium, John Bellion","songName":"Good Things Fall Apart - Illenium, John Bellion","songSubName":"","bpm":144},"stats":{"downloads":77,"plays":0,"downVotes":0,"upVotes":0,"heat":1803.3043823,"rating":0},"description":"this is a test map dont download","deletedAt":null,"_id":"5fbde91900e48a00065ae757","key":"1149d","name":"tyui","uploader":{"_id":"5f9a3ba76ef6a20006d59aea","username":"milla"},"hash":"eb7f40e59ee44be638054b3ca41f4f4b7b5b357f","uploaded":"2020-11-25T05:18:17.204Z","directDownload":"/cdn/1149d/eb7f40e59ee44be638054b3ca41f4f4b7b5b357f.zip","downloadURL":"/api/download/key/1149d","coverURL":"/cdn/1149d/eb7f40e59ee44be638054b3ca41f4f4b7b5b357f.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":74,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":399,"length":106,"njs":23,"njsOffset":-0.20000000298023224,"bombs":0,"notes":931,"obstacles":0},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"DE125","songAuthorName":"you","songName":"Melancholia","songSubName":"(EKU's Desolation Remix) (Literally Just the First Drop Ver.)","bpm":225},"stats":{"downloads":91,"plays":0,"downVotes":0,"upVotes":0,"heat":1803.2910497,"rating":0},"description":"Literally just the first drop.\nI overmapped this so the pattern would work B)\n\nDm with issues @DE125#0001 if the issue isn't cringe saut burnt rice pattern","deletedAt":null,"_id":"5fbde6c1ea68e70007b20165","key":"1149c","name":"you - Melancholia (EKU's Desolation Remix) (TV Size)","uploader":{"_id":"5cff0b7798cc5a672c8554ba","username":"de125"},"hash":"2cb3a27602b362a6265fdfd543f4eec31f957ba4","uploaded":"2020-11-25T05:08:17.236Z","directDownload":"/cdn/1149c/2cb3a27602b362a6265fdfd543f4eec31f957ba4.zip","downloadURL":"/api/download/key/1149c","coverURL":"/cdn/1149c/2cb3a27602b362a6265fdfd543f4eec31f957ba4.jpg"},{"metadata":{"difficulties":{"easy":true,"expert":true,"expertPlus":false,"hard":true,"normal":true},"duration":96,"automapper":null,"characteristics":[{"difficulties":{"easy":{"duration":269.302083,"length":89,"njs":8,"njsOffset":0,"bombs":0,"notes":179,"obstacles":18},"expert":{"duration":269.302083,"length":89,"njs":15,"njsOffset":0,"bombs":14,"notes":403,"obstacles":112},"expertPlus":null,"hard":{"duration":269.302083,"length":89,"njs":13,"njsOffset":0,"bombs":11,"notes":360,"obstacles":102},"normal":{"duration":269.302083,"length":89,"njs":10,"njsOffset":0,"bombs":20,"notes":286,"obstacles":30}},"name":"Standard"}],"levelAuthorName":"rodysan","songAuthorName":"Ryu*","songName":"Sakura Sunrise","songSubName":"","bpm":181},"stats":{"downloads":96,"plays":0,"downVotes":0,"upVotes":0,"heat":1803.2705277,"rating":0},"description":"9","deletedAt":null,"_id":"5fbde325ea68e70007b1fd1e","key":"1149b","name":"Sakura Sunrise - Ryu☆","uploader":{"_id":"5fabfd44fe23c6000688154a","username":"rodysan"},"hash":"eea9c9813c1a06ce2ea754a4d4557f98bdc33d33","uploaded":"2020-11-25T04:52:53.745Z","directDownload":"/cdn/1149b/eea9c9813c1a06ce2ea754a4d4557f98bdc33d33.zip","downloadURL":"/api/download/key/1149b","coverURL":"/cdn/1149b/eea9c9813c1a06ce2ea754a4d4557f98bdc33d33.png"},{"metadata":{"difficulties":{"easy":true,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":240,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":525.5,"length":233,"njs":12,"njsOffset":0,"bombs":235,"notes":1036,"obstacles":46},"hard":null,"normal":null},"name":"Standard"},{"difficulties":{"easy":{"duration":0,"length":0,"njs":16,"njsOffset":0,"bombs":0,"notes":0,"obstacles":0},"expert":null,"expertPlus":null,"hard":null,"normal":null},"name":"Lightshow"}],"levelAuthorName":"jd gamer65","songAuthorName":"CG5, Pokimane, TheRandomMusicMan, ect","songName":"A Killer on the floor","songSubName":"Among Us Rap Battle","bpm":135},"stats":{"downloads":116,"plays":0,"downVotes":1,"upVotes":1,"heat":1803.2316104,"rating":0.5},"description":"Made with the help of beatsage.com It is a bit choppy at bits, because i am a amateur editor. Hope you enjoy my first song I fully mapped! BTW there is a light show mode in case you wanna watch my dynamic lighting.","deletedAt":null,"_id":"5fbddc4ee3a5a20006f9bfb0","key":"11493","name":"Killer on the Floor, Among Us Rap Battle ","uploader":{"_id":"5f03f3fb8f03870006ab590f","username":"jd gamer65"},"hash":"6eb3bf646cb3f8e8ec3f39bc581091b3ba34ce26","uploaded":"2020-11-25T04:23:42.467Z","directDownload":"/cdn/11493/6eb3bf646cb3f8e8ec3f39bc581091b3ba34ce26.zip","downloadURL":"/api/download/key/11493","coverURL":"/cdn/11493/6eb3bf646cb3f8e8ec3f39bc581091b3ba34ce26.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":49,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":203.5,"length":46,"njs":26,"njsOffset":-0.05000000074505806,"bombs":121,"notes":506,"obstacles":5},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"MonsterWook regrets this","songAuthorName":"Nickelodeon","songName":"FanBoy & ChumChum Theme Song","songSubName":"","bpm":260.0740051269531},"stats":{"downloads":112,"plays":0,"downVotes":0,"upVotes":1,"heat":1803.2228074,"rating":0.5941636475090435},"description":"BA BAB ABA ABA BA AB ABA BA BA ABB A ABA A BA BAB ABABAB ABB BRAIN FREEEZEEEEEE BABA BBBABABABBABABAB","deletedAt":null,"_id":"5fbddac2ea68e70007b1f529","key":"11492","name":"yes hahaha - FanBoy & ChumChum Theme Song","uploader":{"_id":"5e3e058b470a82000675dc55","username":"monsterwook2"},"hash":"b011d57f737a6a0ff2700ee2dfa7af37b4fdb8bb","uploaded":"2020-11-25T04:17:06.334Z","directDownload":"/cdn/11492/b011d57f737a6a0ff2700ee2dfa7af37b4fdb8bb.zip","downloadURL":"/api/download/key/11492","coverURL":"/cdn/11492/b011d57f737a6a0ff2700ee2dfa7af37b4fdb8bb.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":false,"hard":true,"normal":true},"duration":235,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":null,"hard":{"duration":388,"length":232,"njs":14,"njsOffset":0,"bombs":0,"notes":874,"obstacles":9},"normal":{"duration":381.25,"length":228,"njs":12,"njsOffset":0,"bombs":60,"notes":374,"obstacles":52}},"name":"Standard"}],"levelAuthorName":"Alekcake","songAuthorName":"Amerie","songName":"1 Thing","songSubName":"","bpm":100},"stats":{"downloads":103,"plays":0,"downVotes":0,"upVotes":1,"heat":1803.2192485,"rating":0.5941636475090435},"description":"Special request :D\r\n\r\nGet in touch with us on our discord server!\r\nAlekcake's Kpop & VR Arcade - https://discord.gg/P4eGh26","deletedAt":null,"_id":"5fbdda22910759000612f575","key":"11490","name":"Amerie - 1 Thing","uploader":{"_id":"5ee6cc499ae7380006da7aef","username":"alekcake"},"hash":"5e4f00d81ef0363439c712c64f35dfea017918f9","uploaded":"2020-11-25T04:14:26.181Z","directDownload":"/cdn/11490/5e4f00d81ef0363439c712c64f35dfea017918f9.zip","downloadURL":"/api/download/key/11490","coverURL":"/cdn/11490/5e4f00d81ef0363439c712c64f35dfea017918f9.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":191,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":316,"length":184,"njs":18,"njsOffset":1,"bombs":0,"notes":935,"obstacles":94},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"MisterZ did it","songAuthorName":"LINKIN PARK","songName":"Pushing Me Away","songSubName":"","bpm":103},"stats":{"downloads":112,"plays":0,"downVotes":0,"upVotes":0,"heat":1803.203822,"rating":0},"description":"","deletedAt":null,"_id":"5fbdd76b5fd85f00069233d5","key":"1148e","name":"Pushing Me Away","uploader":{"_id":"5f52d68f9824150006c5a23b","username":"misterz did it"},"hash":"fa9ca90cf19f8316e0fcbf606a5c20a313f2a5d2","uploaded":"2020-11-25T04:02:51.989Z","directDownload":"/cdn/1148e/fa9ca90cf19f8316e0fcbf606a5c20a313f2a5d2.zip","downloadURL":"/api/download/key/1148e","coverURL":"/cdn/1148e/fa9ca90cf19f8316e0fcbf606a5c20a313f2a5d2.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":350,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":1264.1478271484375,"length":337,"njs":22,"njsOffset":-0.28999999165534973,"bombs":9,"notes":2553,"obstacles":250},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"abcbadq","songAuthorName":"you","songName":"Melancholia","songSubName":"(EKU's Desolation Remix)","bpm":225},"stats":{"downloads":122,"plays":0,"downVotes":0,"upVotes":0,"heat":1803.1947261,"rating":0},"description":"crow walls thats all you need to know\nrequested by saints","deletedAt":null,"_id":"5fbdd5d239a7430006a0485d","key":"1148c","name":"Melancholia (EKU's Desolation Remix)","uploader":{"_id":"5e0344ebe85d6800061edc97","username":"abcbadq"},"hash":"94e516fab1650261b372ee83f51a9fe5fa6b2908","uploaded":"2020-11-25T03:56:02.673Z","directDownload":"/cdn/1148c/94e516fab1650261b372ee83f51a9fe5fa6b2908.zip","downloadURL":"/api/download/key/1148c","coverURL":"/cdn/1148c/94e516fab1650261b372ee83f51a9fe5fa6b2908.png"}],"totalDocs":35533,"lastPage":3553,"prevPage":null,"nextPage":1}"#.into());
            client.maps_latest().await.unwrap();
        }
        #[async_test]
        async fn test_maps_latest_page() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/latest/2").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":false,"hard":true,"normal":false},"duration":145,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":null,"hard":{"duration":242.9824981689453,"length":138,"njs":14,"njsOffset":0,"bombs":0,"notes":394,"obstacles":70},"normal":null},"name":"Standard"}],"levelAuthorName":"LoveLessDark","songAuthorName":"Lady Gaga","songName":"Summerboy","songSubName":"(Short Ver.)","bpm":105},"stats":{"downloads":164,"plays":0,"downVotes":0,"upVotes":0,"heat":1813.1443116,"rating":0},"description":"Lady Gaga - Summerboy (Short Ver.)\nPreview : https://www.bilibili.com/video/BV1az4y1k7xb/","deletedAt":null,"_id":"5fc4aac69370580009f0ccd9","key":"11875","name":"Lady Gaga - Summerboy (Short Ver.)","uploader":{"_id":"5f26d1f3103cbc0006643d54","username":"lovelessdark"},"hash":"30c3d2ab8918386133cc0373076e7c4211679adb","uploaded":"2020-11-30T08:18:14.022Z","directDownload":"/cdn/11875/30c3d2ab8918386133cc0373076e7c4211679adb.zip","downloadURL":"/api/download/key/11875","coverURL":"/cdn/11875/30c3d2ab8918386133cc0373076e7c4211679adb.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":false,"hard":false,"normal":false},"duration":176,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":275.7170104980469,"length":167,"njs":14,"njsOffset":0,"bombs":0,"notes":512,"obstacles":19},"expertPlus":null,"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"LoveLessDark","songAuthorName":"Lady Gaga","songName":"Paper Gangsta","songSubName":"(Short Ver.)","bpm":99},"stats":{"downloads":154,"plays":0,"downVotes":0,"upVotes":0,"heat":1813.1440152,"rating":0},"description":"Lady Gaga - Paper Gangsta (Short Ver.)\nPreview : https://www.bilibili.com/video/BV1jr4y1c7zx/","deletedAt":null,"_id":"5fc4aab8029e5500069c27f4","key":"11874","name":"Lady Gaga - Paper Gangsta (Short Ver.)","uploader":{"_id":"5f26d1f3103cbc0006643d54","username":"lovelessdark"},"hash":"18a4a22da3350fd5a6640630e8ef79b80d8b2148","uploaded":"2020-11-30T08:18:00.686Z","directDownload":"/cdn/11874/18a4a22da3350fd5a6640630e8ef79b80d8b2148.zip","downloadURL":"/api/download/key/11874","coverURL":"/cdn/11874/18a4a22da3350fd5a6640630e8ef79b80d8b2148.jpg"},{"metadata":{"difficulties":{"easy":true,"expert":true,"expertPlus":false,"hard":false,"normal":true},"duration":213,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":448,"length":210,"njs":12,"njsOffset":0,"bombs":14,"notes":544,"obstacles":16},"expertPlus":null,"hard":null,"normal":{"duration":448,"length":210,"njs":12,"njsOffset":0,"bombs":4,"notes":267,"obstacles":9}},"name":"Standard"},{"difficulties":{"easy":{"duration":448,"length":210,"njs":12,"njsOffset":0,"bombs":4,"notes":215,"obstacles":9},"expert":null,"expertPlus":null,"hard":null,"normal":null},"name":"NoArrows"}],"levelAuthorName":"salmon","songAuthorName":"T-ara","songName":"Number 9","songSubName":"","bpm":128},"stats":{"downloads":202,"plays":0,"downVotes":2,"upVotes":0,"heat":1812.6622793,"rating":0.35920485264517465},"description":"My first map! Please let me know what I can do better, which aspects you liked, etc. I tried to do multiple difficulties, but am not sure I'm gauging them appropriately.","deletedAt":null,"_id":"5fc48af4d2a4c200062ffd96","key":"11873","name":"T-ara [티아라] - Number 9","uploader":{"_id":"5fc489bdb05fe700068cdd71","username":"salmon2"},"hash":"8c312e523e6d5498e60111fbad86c47b41fecdb8","uploaded":"2020-11-30T06:02:28.919Z","directDownload":"/cdn/11873/8c312e523e6d5498e60111fbad86c47b41fecdb8.zip","downloadURL":"/api/download/key/11873","coverURL":"/cdn/11873/8c312e523e6d5498e60111fbad86c47b41fecdb8.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":271,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":1149.875,"length":269,"njs":22,"njsOffset":0.100000001490116,"bombs":474,"notes":2977,"obstacles":124},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"Atomosophere","songAuthorName":"Camellia","songName":"Blackmagik Blazing","songSubName":"","bpm":256},"stats":{"downloads":196,"plays":0,"downVotes":2,"upVotes":0,"heat":1812.6597046,"rating":0.35920485264517465},"description":"so I reupped this due to concern about the bombs\n\nI swear, the way they are now it's just like playing a normal double stream\nswing the same\nyou will be fine\nI promise\n\nanyway jammer going for ranked SmileW","deletedAt":null,"_id":"5fc48a81029e5500069c1754","key":"11872","name":"Blackmagik Blazing - かめりあ","uploader":{"_id":"5ddeae138d832b000680e4ec","username":"atomosophere"},"hash":"38dbb1c74daac4086636169b55b791f85018bd1e","uploaded":"2020-11-30T06:00:33.055Z","directDownload":"/cdn/11872/38dbb1c74daac4086636169b55b791f85018bd1e.zip","downloadURL":"/api/download/key/11872","coverURL":"/cdn/11872/38dbb1c74daac4086636169b55b791f85018bd1e.png"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":219,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":349.5,"length":209,"njs":22,"njsOffset":0.20000000298023224,"bombs":0,"notes":956,"obstacles":75},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"8-bit bulldog","songAuthorName":"Porter Robinson & Madeon","songName":"Shelter","songSubName":"","bpm":100},"stats":{"downloads":247,"plays":0,"downVotes":0,"upVotes":2,"heat":1813.2591647,"rating":0.6407951473548253},"description":"Just a fun map to vibe with, nothing too crazy or difficult. I think its a nice benchmark on my progress as a mapper in general\n\nNotes: 956\nBombs: 0\nWalls: 75\nNotes Per Second: 4.35\nNote Jump Speed: 22\nSpawn Offset: 0.2","deletedAt":null,"_id":"5fc48a0c607cfe00068ecd41","key":"11871","name":"Shelter","uploader":{"_id":"5ec8794f3f476a000685621e","username":"8-bit bulldog"},"hash":"2d212c53f7354f02e788531a6271e109c0056417","uploaded":"2020-11-30T05:58:36.061Z","directDownload":"/cdn/11871/2d212c53f7354f02e788531a6271e109c0056417.zip","downloadURL":"/api/download/key/11871","coverURL":"/cdn/11871/2d212c53f7354f02e788531a6271e109c0056417.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":289,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":1568.75,"length":280,"njs":24,"njsOffset":-1.5,"bombs":33,"notes":3291,"obstacles":719},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"landify","songAuthorName":"Camellia as \"menaXe inXonnu\"","songName":"Xronial Xero","songSubName":"(Laur Remix)","bpm":335},"stats":{"downloads":232,"plays":0,"downVotes":0,"upVotes":0,"heat":1812.9580276,"rating":0},"description":"Heavily inspired by altrewins Xronial Xero\n\nTook some walls from altrewins Xronial Xero\n\nFeel free to leave me feedback on discord:\n@landify#1818","deletedAt":null,"_id":"5fc48a07029e5500069c16ef","key":"11870","name":"Xronial Xero (Laur Remix)","uploader":{"_id":"5f614224530c8e000639ee58","username":"landify"},"hash":"c87ea9470547fb1aa5676d9c1095b1933e914f3c","uploaded":"2020-11-30T05:58:31.244Z","directDownload":"/cdn/11870/c87ea9470547fb1aa5676d9c1095b1933e914f3c.zip","downloadURL":"/api/download/key/11870","coverURL":"/cdn/11870/c87ea9470547fb1aa5676d9c1095b1933e914f3c.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":161,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":618,"length":161,"njs":23,"njsOffset":-0.30000001192092896,"bombs":45,"notes":1811,"obstacles":39},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"cerret","songAuthorName":"Kobaryo","songName":"Speedcore Psytama","songSubName":"","bpm":230},"stats":{"downloads":332,"plays":0,"downVotes":0,"upVotes":5,"heat":1813.4831551,"rating":0.7084432256108616},"description":"mapped in 2 and a half hours lol\nfunny ending\n","deletedAt":null,"_id":"5fc46b78d2a4c200062fe4b7","key":"1186c","name":"Kobaryo - Speedcore Psytama","uploader":{"_id":"5cff0b7698cc5a672c8541e1","username":"cerret"},"hash":"d352dcc8c2f0c0ce7cbef9f1df691ef05603c47c","uploaded":"2020-11-30T03:48:08.331Z","directDownload":"/cdn/1186c/d352dcc8c2f0c0ce7cbef9f1df691ef05603c47c.zip","downloadURL":"/api/download/key/1186c","coverURL":"/cdn/1186c/d352dcc8c2f0c0ce7cbef9f1df691ef05603c47c.jpg"},{"metadata":{"difficulties":{"easy":true,"expert":false,"expertPlus":false,"hard":false,"normal":false},"duration":5,"automapper":null,"characteristics":[{"difficulties":{"easy":{"duration":11.015625,"length":5,"njs":20,"njsOffset":0,"bombs":0,"notes":19,"obstacles":0},"expert":null,"expertPlus":null,"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"zbolt","songAuthorName":"zboltlightning","songName":"facts","songSubName":"","bpm":120},"stats":{"downloads":259,"plays":0,"downVotes":0,"upVotes":0,"heat":1812.715026,"rating":0},"description":"lol","deletedAt":null,"_id":"5fc45f509370580009f0985e","key":"11850","name":"its true","uploader":{"_id":"5f655ad24bf28e00061ce4f0","username":"zboltlightning"},"hash":"d1188ff5d4046c75950fd513cd4582d3376317fb","uploaded":"2020-11-30T02:56:16.172Z","directDownload":"/cdn/11850/d1188ff5d4046c75950fd513cd4582d3376317fb.zip","downloadURL":"/api/download/key/11850","coverURL":"/cdn/11850/d1188ff5d4046c75950fd513cd4582d3376317fb.png"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":85,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":null,"expertPlus":{"duration":270.1250305175781,"length":81,"njs":22,"njsOffset":-0.20000000298023224,"bombs":95,"notes":414,"obstacles":34},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"thelitlewiseowl","songAuthorName":"Hatsuki Yura","songName":"Dragon Slayer -Koku Ryuu no Kishi hen-","songSubName":"","bpm":198},"stats":{"downloads":278,"plays":0,"downVotes":1,"upVotes":3,"heat":1813.0054291,"rating":0.5959970389138742},"description":"Somewhat short, hope you enjoy","deletedAt":null,"_id":"5fc45d71a3f6d20006db43df","key":"1184a","name":"Dragon Slayer Koku Ryuu no Kishi hen | Hatsuki Yura","uploader":{"_id":"5cff0b7698cc5a672c854bca","username":"thelitlewiseowl"},"hash":"ff1ce0efaecf5b3ba8b7409038fa0088df16110c","uploaded":"2020-11-30T02:48:17.960Z","directDownload":"/cdn/1184a/ff1ce0efaecf5b3ba8b7409038fa0088df16110c.zip","downloadURL":"/api/download/key/1184a","coverURL":"/cdn/1184a/ff1ce0efaecf5b3ba8b7409038fa0088df16110c.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":false,"hard":true,"normal":false},"duration":288,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":618.5,"length":285,"njs":20,"njsOffset":0.5,"bombs":8,"notes":1115,"obstacles":20},"expertPlus":null,"hard":{"duration":618.5,"length":285,"njs":18,"njsOffset":-0.4000000059604645,"bombs":8,"notes":1091,"obstacles":20},"normal":null},"name":"Standard"}],"levelAuthorName":"thelitlewiseowl","songAuthorName":"DECO 27","songName":"Once Upon a Me","songSubName":"","bpm":130},"stats":{"downloads":358,"plays":0,"downVotes":0,"upVotes":5,"heat":1813.4004346,"rating":0.7084432256108616},"description":"むかしむかしのきょうのぼく (Mukashi Mukashi no Kyou no Boku)\nby DECO*27\n\n","deletedAt":null,"_id":"5fc45ced9370580009f09592","key":"11849","name":"Once upon a me | DECO*27","uploader":{"_id":"5cff0b7698cc5a672c854bca","username":"thelitlewiseowl"},"hash":"d7369741299c77c6859aa5c4058f4a696f482f75","uploaded":"2020-11-30T02:46:05.909Z","directDownload":"/cdn/11849/d7369741299c77c6859aa5c4058f4a696f482f75.zip","downloadURL":"/api/download/key/11849","coverURL":"/cdn/11849/d7369741299c77c6859aa5c4058f4a696f482f75.jpg"}],"totalDocs":35794,"lastPage":3579,"prevPage":1,"nextPage":3}"#.into());
            client.maps_latest_page(2).await.unwrap();
        }
        #[async_test]
        async fn test_maps_downloads() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/downloads/0").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":468,"length":212,"bombs":4,"notes":415,"obstacles":42,"njs":10,"njsOffset":0},"hard":{"duration":468,"length":212,"bombs":40,"notes":695,"obstacles":94,"njs":10,"njsOffset":0},"expert":{"duration":468,"length":212,"bombs":50,"notes":932,"obstacles":103,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Gangnam Style","songSubName":"PSY","songAuthorName":"GreatYazer","levelAuthorName":"greatyazer","bpm":132},"stats":{"downloads":1069206,"plays":82700,"downVotes":617,"upVotes":17445,"heat":41.5047436,"rating":0.94147214608232},"description":"Expert, Hard, and Normal tracks.  I tried my best to setup the chorus charts to allow you to mimic the classic dance moves.  I think it matches up quite nicely.  I hope you have as much fun playing as I did making this!  Enjoy!","deletedAt":null,"_id":"5cff620c48229f7d88fc620d","key":"141","name":"GANGNAM STYLE","uploader":{"_id":"5cff0b7298cc5a672c84ea71","username":"greatyazer"},"uploaded":"2018-05-20T09:59:02.000Z","hash":"8e7e553099436af31564adf1977a5ec42a61cfff","directDownload":"/cdn/141/8e7e553099436af31564adf1977a5ec42a61cfff.zip","downloadURL":"/api/download/key/141","coverURL":"/cdn/141/8e7e553099436af31564adf1977a5ec42a61cfff.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":{"duration":418,"length":200,"bombs":0,"notes":546,"obstacles":10,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Believer","songSubName":"Imagine Dragons","songAuthorName":"Rustic","levelAuthorName":"rustic","bpm":125},"stats":{"downloads":1045930,"plays":70725,"downVotes":352,"upVotes":9390,"heat":18.911539,"rating":0.9346479331024395},"description":"Currently expert only. Events included.","deletedAt":null,"_id":"5cff620c48229f7d88fc60e9","key":"b","name":"Imagine Dragons - Believer","uploader":{"_id":"5cff0b7298cc5a672c84e8c4","username":"rustic"},"uploaded":"2018-05-08T18:56:36.000Z","hash":"19f2879d11a91b51a5c090d63471c3e8d9b7aee3","directDownload":"/cdn/b/19f2879d11a91b51a5c090d63471c3e8d9b7aee3.zip","downloadURL":"/api/download/key/b","coverURL":"/cdn/b/19f2879d11a91b51a5c090d63471c3e8d9b7aee3.jpg"},{"metadata":{"difficulties":{"easy":true,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":{"duration":328.556396484375,"length":142,"bombs":0,"notes":188,"obstacles":84,"njs":10,"njsOffset":0},"normal":{"duration":328.681396484375,"length":142,"bombs":40,"notes":219,"obstacles":70,"njs":10,"njsOffset":0},"hard":{"duration":328.681396484375,"length":142,"bombs":42,"notes":386,"obstacles":72,"njs":10,"njsOffset":0},"expert":{"duration":328.681396484375,"length":142,"bombs":46,"notes":623,"obstacles":69,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Beat it","songSubName":"Michael Jackson","songAuthorName":"Freeek","levelAuthorName":"freeek","bpm":139},"stats":{"downloads":941091,"plays":117624,"downVotes":768,"upVotes":12584,"heat":51.2995594,"rating":0.9171309232285056},"description":"Easy/Normal/Hard/Expert - Obstacles and mines purely for dance moves! 100% Expert Playthrough: https://bit.ly/2IKzCp3\r\n\r\n- Freeek =)","deletedAt":null,"_id":"5cff620c48229f7d88fc62d6","key":"217","name":"Beat it - Michael Jackson","uploader":{"_id":"5cff0b7298cc5a672c84e8ad","username":"freeek"},"uploaded":"2018-05-25T14:20:19.000Z","hash":"4b2da842b687ec4cfbc948c583c21c79d4120de0","directDownload":"/cdn/217/4b2da842b687ec4cfbc948c583c21c79d4120de0.zip","downloadURL":"/api/download/key/217","coverURL":"/cdn/217/4b2da842b687ec4cfbc948c583c21c79d4120de0.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":640.7428588867188,"length":311,"bombs":57,"notes":423,"obstacles":33,"njs":10,"njsOffset":0},"expert":{"duration":640.7428588867188,"length":311,"bombs":68,"notes":616,"obstacles":33,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Harder Better Faster Stronger","songSubName":"Daft Punk","songAuthorName":"RunRockGame","levelAuthorName":"runrockgame","bpm":123},"stats":{"downloads":939245,"plays":74223,"downVotes":761,"upVotes":13105,"heat":65.0537892,"rating":0.9199051796117618},"description":"Expert & Hard | 600+ Blocks | Full Song 3:44 | Includes Lighting. Request to: @themakertales","deletedAt":null,"_id":"5cff620c48229f7d88fc63dd","key":"32e","name":"Daft Punk - Harder Better Faster Stronger","uploader":{"_id":"5cff0b7398cc5a672c84f04e","username":"runrockgame"},"uploaded":"2018-06-01T18:01:45.000Z","hash":"7c7f38d467bb43fe11a142581e63e324622ecc71","directDownload":"/cdn/32e/7c7f38d467bb43fe11a142581e63e324622ecc71.zip","downloadURL":"/api/download/key/32e","coverURL":"/cdn/32e/7c7f38d467bb43fe11a142581e63e324622ecc71.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":623.3125,"length":214,"bombs":0,"notes":462,"obstacles":25,"njs":10,"njsOffset":0},"hard":{"duration":623.3125,"length":214,"bombs":0,"notes":639,"obstacles":40,"njs":10,"njsOffset":0},"expert":{"duration":623.3125,"length":214,"bombs":0,"notes":825,"obstacles":40,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Mr. Blue Sky","songSubName":"Electric Light Orchestra","songAuthorName":"GreatYazer","levelAuthorName":"greatyazer","bpm":174},"stats":{"downloads":929040,"plays":39426,"downVotes":485,"upVotes":22691,"heat":94.0178926,"rating":0.9558250129688451},"description":"Channel your inner Baby Groot.  Normal, Hard, Expert\r\nSpecial thanks to BennydaBeast for his help on this track!","deletedAt":null,"_id":"5cff620d48229f7d88fc65f7","key":"570","name":"Mr. Blue Sky | Electric Light Orchestra","uploader":{"_id":"5cff0b7298cc5a672c84ea71","username":"greatyazer"},"uploaded":"2018-06-16T16:53:34.000Z","hash":"236173d5ba7dc379d480b9cb5fb6b4fa5abe77da","directDownload":"/cdn/570/236173d5ba7dc379d480b9cb5fb6b4fa5abe77da.zip","downloadURL":"/api/download/key/570","coverURL":"/cdn/570/236173d5ba7dc379d480b9cb5fb6b4fa5abe77da.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":false,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":590.65625,"length":232,"bombs":0,"notes":768,"obstacles":154,"njs":10,"njsOffset":0},"expert":null,"expertPlus":null}}],"songName":"Rasputin (Funk Overload)","songSubName":"","songAuthorName":"Jobas","levelAuthorName":"jobas","bpm":149},"stats":{"downloads":796456,"plays":29624,"downVotes":774,"upVotes":17434,"heat":40.1104306,"rating":0.9336181107580133},"description":"Hard\r\nBpm 147\r\nspeed up version of rasputin Original","deletedAt":null,"_id":"5cff620c48229f7d88fc61f0","key":"124","name":"Rasputin (Funk Overload)","uploader":{"_id":"5cff0b7298cc5a672c84e9a2","username":"jobas"},"uploaded":"2018-05-19T16:36:34.000Z","hash":"9a1d001995cc0a2014352aa7148cbcbf2e489d89","directDownload":"/cdn/124/9a1d001995cc0a2014352aa7148cbcbf2e489d89.zip","downloadURL":"/api/download/key/124","coverURL":"/cdn/124/9a1d001995cc0a2014352aa7148cbcbf2e489d89.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":false,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":473.1875,"length":228,"bombs":0,"notes":399,"obstacles":0,"njs":10,"njsOffset":0},"hard":{"duration":473.1875,"length":228,"bombs":0,"notes":496,"obstacles":0,"njs":10,"njsOffset":0},"expert":null,"expertPlus":null}}],"songName":"Seven Nation Army","songSubName":"The White Stripes","songAuthorName":"BlueASIS","levelAuthorName":"blueasis","bpm":124},"stats":{"downloads":776038,"plays":56470,"downVotes":437,"upVotes":11620,"heat":74.676625,"rating":0.93635850868144},"description":"UPDATED! @BlueASIS#4095 on Discord let me know what you think","deletedAt":null,"_id":"5cff620d48229f7d88fc64a0","key":"3fc","name":"The White Stripes - Seven Nation Army","uploader":{"_id":"5cff0b7298cc5a672c84eb5d","username":"blueasis"},"uploaded":"2018-06-06T18:51:03.000Z","hash":"0b0ad0f34b2d0687a9794bcf5019100fda06971e","directDownload":"/cdn/3fc/0b0ad0f34b2d0687a9794bcf5019100fda06971e.zip","downloadURL":"/api/download/key/3fc","coverURL":"/cdn/3fc/0b0ad0f34b2d0687a9794bcf5019100fda06971e.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":{"duration":384,"length":136,"bombs":0,"notes":505,"obstacles":52,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Take On Me","songSubName":"","songAuthorName":"a-ha","levelAuthorName":"jackscape","bpm":168},"stats":{"downloads":770057,"plays":36801,"downVotes":549,"upVotes":5946,"heat":18.5911969,"rating":0.8859054068140281},"description":"Expert only","deletedAt":null,"_id":"5cff620c48229f7d88fc60e7","key":"9","name":"a-ha - Take On Me","uploader":{"_id":"5cff0b7298cc5a672c84e8bb","username":"jackscape"},"uploaded":"2018-05-08T17:44:17.000Z","hash":"2aa1f5192828e075c30dd015b1e132bba912eb86","directDownload":"/cdn/9/2aa1f5192828e075c30dd015b1e132bba912eb86.zip","downloadURL":"/api/download/key/9","coverURL":"/cdn/9/2aa1f5192828e075c30dd015b1e132bba912eb86.jpg"},{"metadata":{"difficulties":{"easy":true,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":{"duration":342.8125,"length":165,"bombs":0,"notes":313,"obstacles":27,"njs":10,"njsOffset":0},"normal":{"duration":343.8125,"length":166,"bombs":0,"notes":480,"obstacles":27,"njs":10,"njsOffset":0},"hard":{"duration":343.8125,"length":166,"bombs":0,"notes":730,"obstacles":27,"njs":10,"njsOffset":0},"expert":{"duration":341.75,"length":165,"bombs":11,"notes":735,"obstacles":2,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Lone Digger","songSubName":"","songAuthorName":"Caravan Palace","levelAuthorName":"calijor","bpm":124},"stats":{"downloads":677450,"plays":57999,"downVotes":823,"upVotes":14212,"heat":46.3871704,"rating":0.920647601959446},"description":"Caravan Palace - Lone Digger\r\nEasy | Normal | Hard | Expert\r\nThis is a re-upload of my previous map, with improvements for hard, and a new, harder expert difficulty mapped by Squeaksies, as well as lower difficulties as iterations on my original map.\r\n\r\nBPM: 124\r\nDuration: 2:49\r\nNotes (Hard): 730\r\nNotes (Expert): 735\r\nPreview (Hard): https://youtu.be/NExvLUyeBUU\r\nPreview (Expert): https://youtu.be/NYmExXlpB0k","deletedAt":null,"_id":"5cff620c48229f7d88fc6282","key":"1bf","name":"Caravan Palace - Lone Digger","uploader":{"_id":"5cff0b7298cc5a672c84ebb1","username":"calijor"},"uploaded":"2018-05-23T00:15:19.000Z","hash":"906160fd1f808e2f34f33c2ca5920118855c065d","directDownload":"/cdn/1bf/906160fd1f808e2f34f33c2ca5920118855c065d.zip","downloadURL":"/api/download/key/1bf","coverURL":"/cdn/1bf/906160fd1f808e2f34f33c2ca5920118855c065d.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":382.4375,"length":246,"bombs":0,"notes":728,"obstacles":16,"njs":10,"njsOffset":0},"hard":{"duration":387.4375,"length":249,"bombs":0,"notes":836,"obstacles":19,"njs":10,"njsOffset":0},"expert":{"duration":387.4375,"length":249,"bombs":0,"notes":883,"obstacles":31,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Africa","songSubName":"","songAuthorName":"Toto","levelAuthorName":"calijor","bpm":92},"stats":{"downloads":669322,"plays":27043,"downVotes":1106,"upVotes":5060,"heat":40.3054811,"rating":0.7974511907115919},"description":"Bless the rains!\r\n\r\nExpert, hard, and normal difficulty available. I do apologize, but I think they're a bit harder than vanilla.\r\n\r\nBPM: 92\r\nNotes: 883 (expert)\r\nDuration: 4:20\r\n\r\nPreview: https://youtu.be/SLpUwKson80","deletedAt":null,"_id":"5cff620c48229f7d88fc6203","key":"137","name":"Toto - Africa","uploader":{"_id":"5cff0b7298cc5a672c84ebb1","username":"calijor"},"uploaded":"2018-05-20T02:51:20.000Z","hash":"12fee98db7d2080724435d0a1442545f21a9134d","directDownload":"/cdn/137/12fee98db7d2080724435d0a1442545f21a9134d.zip","downloadURL":"/api/download/key/137","coverURL":"/cdn/137/12fee98db7d2080724435d0a1442545f21a9134d.jpg"}],"totalDocs":35533,"lastPage":3553,"prevPage":null,"nextPage":1}"#.into());
            client.maps_downloads().await.unwrap();
        }
        #[async_test]
        async fn test_maps_downloads_page() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/downloads/2").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":1467.25,"length":440,"bombs":18,"notes":1356,"obstacles":22,"njs":10,"njsOffset":0},"expert":{"duration":1467.25,"length":440,"bombs":26,"notes":2806,"obstacles":36,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"TTFAF","songSubName":"DragonForce","songAuthorName":"Freeek","levelAuthorName":"freeek","bpm":200},"stats":{"downloads":473727,"plays":18661,"downVotes":1420,"upVotes":5050,"heat":23.7687066,"rating":0.7605381326555614},"description":"Expert and a Hard difficulty. 2800 notes and Even more event light triggers... Enjoy!","deletedAt":null,"_id":"5cff620c48229f7d88fc6117","key":"3a","name":"Through the Fire and Flames - Dragonforce","uploader":{"_id":"5cff0b7298cc5a672c84e8ad","username":"freeek"},"uploaded":"2018-05-11T12:36:36.000Z","hash":"9b0881baab8b72f33424ecf0d9ad247ea10afbb2","directDownload":"/cdn/3a/9b0881baab8b72f33424ecf0d9ad247ea10afbb2.zip","downloadURL":"/api/download/key/3a","coverURL":"/cdn/3a/9b0881baab8b72f33424ecf0d9ad247ea10afbb2.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":523.625,"length":245,"bombs":0,"notes":633,"obstacles":13,"njs":10,"njsOffset":0},"expert":{"duration":523.5650024414062,"length":245,"bombs":0,"notes":880,"obstacles":19,"njs":12,"njsOffset":0},"expertPlus":null}}],"songName":"Uprising","songSubName":"Muse","songAuthorName":"Rustic","levelAuthorName":"rustic","bpm":128},"stats":{"downloads":463841,"plays":11598,"downVotes":167,"upVotes":9303,"heat":84.4243339,"rating":0.951720218307175},"description":"Expert / Hard\r\nhttps://youtu.be/WpFUt3UNp7c","deletedAt":null,"_id":"5cff620d48229f7d88fc655e","key":"4c6","name":"Muse - Uprising","uploader":{"_id":"5cff0b7298cc5a672c84e8c4","username":"rustic"},"uploaded":"2018-06-11T21:47:41.000Z","hash":"00e5671e594a6fe621c3605fcc5a0e4466ba6478","directDownload":"/cdn/4c6/00e5671e594a6fe621c3605fcc5a0e4466ba6478.zip","downloadURL":"/api/download/key/4c6","coverURL":"/cdn/4c6/00e5671e594a6fe621c3605fcc5a0e4466ba6478.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":567.893310546875,"length":212,"bombs":24,"notes":604,"obstacles":27,"njs":10,"njsOffset":0},"hard":{"duration":567.893310546875,"length":212,"bombs":24,"notes":762,"obstacles":31,"njs":10,"njsOffset":0},"expert":{"duration":567.893310546875,"length":212,"bombs":24,"notes":776,"obstacles":31,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Shake It Off","songSubName":"Taylor Swift","songAuthorName":"Jovian","levelAuthorName":"jovian","bpm":160},"stats":{"downloads":461671,"plays":27795,"downVotes":349,"upVotes":5459,"heat":65.787732,"rating":0.9075319571041482},"description":"Supports - Normal, Hard, Expert difficulties. \r\n\r\nGameplay: https://youtu.be/7pbtO1B7tK0\r\n\r\nExpert: As chartered (gameplay shown in video) \r\nHard: Cuts down drastically on arm cross overs.\r\nNormal: As above, additionally cuts down on double/triples and compresses strike range.","deletedAt":null,"_id":"5cff620c48229f7d88fc63f5","key":"348","name":"Taylor Swift - Shake It Off","uploader":{"_id":"5cff0b7298cc5a672c84ebab","username":"jovian"},"uploaded":"2018-06-02T07:59:29.000Z","hash":"483c7bc03133c6e215f3018e5033b0913821126f","directDownload":"/cdn/348/483c7bc03133c6e215f3018e5033b0913821126f.zip","downloadURL":"/api/download/key/348","coverURL":"/cdn/348/483c7bc03133c6e215f3018e5033b0913821126f.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":399.6875,"length":228,"bombs":0,"notes":332,"obstacles":58,"njs":10,"njsOffset":0},"hard":{"duration":399.6875,"length":228,"bombs":0,"notes":367,"obstacles":76,"njs":10,"njsOffset":0},"expert":{"duration":399.6875,"length":228,"bombs":0,"notes":634,"obstacles":76,"njs":10,"njsOffset":0},"expertPlus":{"duration":399.6875,"length":228,"bombs":0,"notes":931,"obstacles":76,"njs":10,"njsOffset":0}}}],"songName":"Midnight City","songSubName":"M83","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":105},"stats":{"downloads":458321,"plays":44907,"downVotes":577,"upVotes":7711,"heat":41.848622,"rating":0.9019191908663293},"description":"Improved beat mapping & added difficulties.\r\nWatch on YouTube: https://youtu.be/UeNn5RQ51is\r\nDifficulties: Expert+, Expert, Hard, Normal\r\n\r\nIf you like this, check out my other beat maps:\r\nWhat You Know by Two Door Cinema Club\r\nKids by MGMT\r\n\r\nTrain you must. Dance you shall. :)","deletedAt":null,"_id":"5cff620c48229f7d88fc6220","key":"155","name":"Midnight City - M83","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-05-20T18:56:28.000Z","hash":"fbd8b9338bffb98555a10c69887234fac959d83d","directDownload":"/cdn/155/fbd8b9338bffb98555a10c69887234fac959d83d.zip","downloadURL":"/api/download/key/155","coverURL":"/cdn/155/fbd8b9338bffb98555a10c69887234fac959d83d.jpeg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":183.5,"length":81,"bombs":0,"notes":174,"obstacles":0,"njs":10,"njsOffset":0},"expert":{"duration":183.5,"length":81,"bombs":0,"notes":262,"obstacles":0,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Unravel","songSubName":"(TV Size)","songAuthorName":"TK","levelAuthorName":"winepic","bpm":135},"stats":{"downloads":448107,"plays":52247,"downVotes":375,"upVotes":4185,"heat":18.3344805,"rating":0.8846924645925284},"description":"Map made by me. Includes Hard and Expert difficulties.","deletedAt":null,"_id":"5cff620c48229f7d88fc60e5","key":"7","name":"Unravel (Tokyo Ghoul OP) TV Size","uploader":{"_id":"5cff0b7298cc5a672c84e8b6","username":"winepic"},"uploaded":"2018-05-08T16:25:10.000Z","hash":"b9867cdccf8b27d7a174c861adc69215c86cdab8","directDownload":"/cdn/7/b9867cdccf8b27d7a174c861adc69215c86cdab8.zip","downloadURL":"/api/download/key/7","coverURL":"/cdn/7/b9867cdccf8b27d7a174c861adc69215c86cdab8.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":{"duration":439,"length":233,"bombs":0,"notes":579,"obstacles":38,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"CAN'T STOP THE FEELING!","songSubName":"Justin Timberlake","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":113},"stats":{"downloads":445793,"plays":9160,"downVotes":170,"upVotes":6076,"heat":78.470849,"rating":0.9387378041429791},"description":"Difficulties: Expert Only     Lighting by GreatYazer\r\nWatch Me on Twitch: http://www.twitch.tv/bennydabeastlive\r\n\r\nIf you like this, check out my other beat maps:\r\nMidnight City by M83: https://beatsaver.com/details.php?id=542\r\nKids by MGMT: https://beatsaver.com/details.php?id=421\r\nWhat You Know by Two Door Cinema Club: https://beatsaver.com/details.php?id=1107\r\nPolish Girl by Neon Indian: https://beatsaver.com/details.php?id=694","deletedAt":null,"_id":"5cff620d48229f7d88fc64fd","key":"45e","name":"CAN'T STOP THE FEELING! - Justin Timberlake","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-06-08T21:44:40.000Z","hash":"91ba25c089d50e93154e2c7920c46d4730f22569","directDownload":"/cdn/45e/91ba25c089d50e93154e2c7920c46d4730f22569.zip","downloadURL":"/api/download/key/45e","coverURL":"/cdn/45e/91ba25c089d50e93154e2c7920c46d4730f22569.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":{"duration":368,"length":200,"bombs":9,"notes":603,"obstacles":40,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Bangarang","songSubName":"Skrillex","songAuthorName":"tmoss94","levelAuthorName":"tmoss94","bpm":110},"stats":{"downloads":433015,"plays":30721,"downVotes":321,"upVotes":2872,"heat":35.6593327,"rating":0.8642652382205075},"description":"Expert only, got a little lighting but nothing super fancy.","deletedAt":null,"_id":"5cff620c48229f7d88fc61a6","key":"d3","name":"Bangarang - Skrillex","uploader":{"_id":"5cff0b7298cc5a672c84eab3","username":"tmoss94"},"uploaded":"2018-05-17T19:09:28.000Z","hash":"4ffb4b82a7443e184aeace69b9d12f63d39b4386","directDownload":"/cdn/d3/4ffb4b82a7443e184aeace69b9d12f63d39b4386.zip","downloadURL":"/api/download/key/d3","coverURL":"/cdn/d3/4ffb4b82a7443e184aeace69b9d12f63d39b4386.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":486,"length":173,"bombs":0,"notes":368,"obstacles":285,"njs":10,"njsOffset":0},"expert":{"duration":486,"length":173,"bombs":4,"notes":523,"obstacles":329,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Thunder","songSubName":"(Maikyy Beatmap)","songAuthorName":"Imagine Dragons","levelAuthorName":"maikyy","bpm":168},"stats":{"downloads":431893,"plays":26685,"downVotes":713,"upVotes":1186,"heat":18.2184611,"rating":0.6117069756773167},"description":"Reupload with an added 'easier' Hard difficulty, really hard to balance so please let me know what I could change to make it better","deletedAt":null,"_id":"5cff620c48229f7d88fc60f2","key":"14","name":"Thunder - Imagine Dragons","uploader":{"_id":"5cff0b7298cc5a672c84e8e3","username":"maikyy"},"uploaded":"2018-05-09T02:17:42.000Z","hash":"f2c56d4ea62d31d04982db9a9e46199716a0dcfc","directDownload":"/cdn/14/f2c56d4ea62d31d04982db9a9e46199716a0dcfc.zip","downloadURL":"/api/download/key/14","coverURL":"/cdn/14/f2c56d4ea62d31d04982db9a9e46199716a0dcfc.png"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":417,"length":195,"bombs":4,"notes":301,"obstacles":24,"njs":10,"njsOffset":0},"hard":{"duration":417,"length":195,"bombs":4,"notes":486,"obstacles":24,"njs":10,"njsOffset":0},"expert":{"duration":417.5,"length":195,"bombs":4,"notes":620,"obstacles":24,"njs":10,"njsOffset":0},"expertPlus":{"duration":417.5,"length":195,"bombs":0,"notes":894,"obstacles":0,"njs":12,"njsOffset":0}}}],"songName":"Shut Up and Dance","songSubName":"WALK THE MOON","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":128},"stats":{"downloads":428629,"plays":558,"downVotes":138,"upVotes":10964,"heat":395.830468,"rating":0.9580415431678604},"description":"Difficulties: Expert+ (Added 11/15), Expert, Hard, Normal\r\nYouTube Preview: https://youtu.be/x9hJbTlPQUY","deletedAt":null,"_id":"5cff621148229f7d88fc77c9","key":"2144","name":"Shut Up and Dance - WALK THE MOON","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-11-21T01:27:00.000Z","hash":"89cf8bb07afb3c59ae7b5ac00337d62261c36fb4","directDownload":"/cdn/2144/89cf8bb07afb3c59ae7b5ac00337d62261c36fb4.zip","downloadURL":"/api/download/key/2144","coverURL":"/cdn/2144/89cf8bb07afb3c59ae7b5ac00337d62261c36fb4.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":272.0799865722656,"length":136,"bombs":28,"notes":290,"obstacles":76,"njs":10,"njsOffset":0},"expert":{"duration":272.0799865722656,"length":136,"bombs":28,"notes":374,"obstacles":76,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Portal - Still Alive (Uppermost Remix)","songSubName":"Uppermost","songAuthorName":"Kryptikos","levelAuthorName":"kryptikos","bpm":120},"stats":{"downloads":420093,"plays":32883,"downVotes":339,"upVotes":4931,"heat":47.466913,"rating":0.9026549349629458},"description":"Second track mapped, includes Hard and Expert difficulties.\r\n\r\nI know that this isn't the hardest track, but I find it to be fun, which I see as priority number one. :)","deletedAt":null,"_id":"5cff620c48229f7d88fc629f","key":"1dd","name":"Portal - Still Alive (Uppermost Remix)","uploader":{"_id":"5cff0b7298cc5a672c84eab4","username":"kryptikos"},"uploaded":"2018-05-23T19:33:41.000Z","hash":"01308128a87b6b561799359ee5aa213168c3b49f","directDownload":"/cdn/1dd/01308128a87b6b561799359ee5aa213168c3b49f.zip","downloadURL":"/api/download/key/1dd","coverURL":"/cdn/1dd/01308128a87b6b561799359ee5aa213168c3b49f.jpg"}],"totalDocs":35794,"lastPage":3579,"prevPage":1,"nextPage":3}"#.into());
            client.maps_downloads_page(2).await.unwrap();
        }
        #[async_test]
        async fn test_maps_plays() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/plays/0").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":true,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":{"duration":328.556396484375,"length":142,"bombs":0,"notes":188,"obstacles":84,"njs":10,"njsOffset":0},"normal":{"duration":328.681396484375,"length":142,"bombs":40,"notes":219,"obstacles":70,"njs":10,"njsOffset":0},"hard":{"duration":328.681396484375,"length":142,"bombs":42,"notes":386,"obstacles":72,"njs":10,"njsOffset":0},"expert":{"duration":328.681396484375,"length":142,"bombs":46,"notes":623,"obstacles":69,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Beat it","songSubName":"Michael Jackson","songAuthorName":"Freeek","levelAuthorName":"freeek","bpm":139},"stats":{"downloads":941091,"plays":117624,"downVotes":768,"upVotes":12584,"heat":51.2995594,"rating":0.9171309232285056},"description":"Easy/Normal/Hard/Expert - Obstacles and mines purely for dance moves! 100% Expert Playthrough: https://bit.ly/2IKzCp3\r\n\r\n- Freeek =)","deletedAt":null,"_id":"5cff620c48229f7d88fc62d6","key":"217","name":"Beat it - Michael Jackson","uploader":{"_id":"5cff0b7298cc5a672c84e8ad","username":"freeek"},"uploaded":"2018-05-25T14:20:19.000Z","hash":"4b2da842b687ec4cfbc948c583c21c79d4120de0","directDownload":"/cdn/217/4b2da842b687ec4cfbc948c583c21c79d4120de0.zip","downloadURL":"/api/download/key/217","coverURL":"/cdn/217/4b2da842b687ec4cfbc948c583c21c79d4120de0.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":468,"length":212,"bombs":4,"notes":415,"obstacles":42,"njs":10,"njsOffset":0},"hard":{"duration":468,"length":212,"bombs":40,"notes":695,"obstacles":94,"njs":10,"njsOffset":0},"expert":{"duration":468,"length":212,"bombs":50,"notes":932,"obstacles":103,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Gangnam Style","songSubName":"PSY","songAuthorName":"GreatYazer","levelAuthorName":"greatyazer","bpm":132},"stats":{"downloads":1069207,"plays":82700,"downVotes":617,"upVotes":17445,"heat":41.5047436,"rating":0.94147214608232},"description":"Expert, Hard, and Normal tracks.  I tried my best to setup the chorus charts to allow you to mimic the classic dance moves.  I think it matches up quite nicely.  I hope you have as much fun playing as I did making this!  Enjoy!","deletedAt":null,"_id":"5cff620c48229f7d88fc620d","key":"141","name":"GANGNAM STYLE","uploader":{"_id":"5cff0b7298cc5a672c84ea71","username":"greatyazer"},"uploaded":"2018-05-20T09:59:02.000Z","hash":"8e7e553099436af31564adf1977a5ec42a61cfff","directDownload":"/cdn/141/8e7e553099436af31564adf1977a5ec42a61cfff.zip","downloadURL":"/api/download/key/141","coverURL":"/cdn/141/8e7e553099436af31564adf1977a5ec42a61cfff.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":640.7428588867188,"length":311,"bombs":57,"notes":423,"obstacles":33,"njs":10,"njsOffset":0},"expert":{"duration":640.7428588867188,"length":311,"bombs":68,"notes":616,"obstacles":33,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Harder Better Faster Stronger","songSubName":"Daft Punk","songAuthorName":"RunRockGame","levelAuthorName":"runrockgame","bpm":123},"stats":{"downloads":939245,"plays":74223,"downVotes":761,"upVotes":13105,"heat":65.0537892,"rating":0.9199051796117618},"description":"Expert & Hard | 600+ Blocks | Full Song 3:44 | Includes Lighting. Request to: @themakertales","deletedAt":null,"_id":"5cff620c48229f7d88fc63dd","key":"32e","name":"Daft Punk - Harder Better Faster Stronger","uploader":{"_id":"5cff0b7398cc5a672c84f04e","username":"runrockgame"},"uploaded":"2018-06-01T18:01:45.000Z","hash":"7c7f38d467bb43fe11a142581e63e324622ecc71","directDownload":"/cdn/32e/7c7f38d467bb43fe11a142581e63e324622ecc71.zip","downloadURL":"/api/download/key/32e","coverURL":"/cdn/32e/7c7f38d467bb43fe11a142581e63e324622ecc71.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":{"duration":418,"length":200,"bombs":0,"notes":546,"obstacles":10,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Believer","songSubName":"Imagine Dragons","songAuthorName":"Rustic","levelAuthorName":"rustic","bpm":125},"stats":{"downloads":1045930,"plays":70725,"downVotes":352,"upVotes":9390,"heat":18.911539,"rating":0.9346479331024395},"description":"Currently expert only. Events included.","deletedAt":null,"_id":"5cff620c48229f7d88fc60e9","key":"b","name":"Imagine Dragons - Believer","uploader":{"_id":"5cff0b7298cc5a672c84e8c4","username":"rustic"},"uploaded":"2018-05-08T18:56:36.000Z","hash":"19f2879d11a91b51a5c090d63471c3e8d9b7aee3","directDownload":"/cdn/b/19f2879d11a91b51a5c090d63471c3e8d9b7aee3.zip","downloadURL":"/api/download/key/b","coverURL":"/cdn/b/19f2879d11a91b51a5c090d63471c3e8d9b7aee3.jpg"},{"metadata":{"difficulties":{"easy":true,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":{"duration":342.8125,"length":165,"bombs":0,"notes":313,"obstacles":27,"njs":10,"njsOffset":0},"normal":{"duration":343.8125,"length":166,"bombs":0,"notes":480,"obstacles":27,"njs":10,"njsOffset":0},"hard":{"duration":343.8125,"length":166,"bombs":0,"notes":730,"obstacles":27,"njs":10,"njsOffset":0},"expert":{"duration":341.75,"length":165,"bombs":11,"notes":735,"obstacles":2,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Lone Digger","songSubName":"","songAuthorName":"Caravan Palace","levelAuthorName":"calijor","bpm":124},"stats":{"downloads":677451,"plays":57999,"downVotes":823,"upVotes":14212,"heat":46.3871704,"rating":0.920647601959446},"description":"Caravan Palace - Lone Digger\r\nEasy | Normal | Hard | Expert\r\nThis is a re-upload of my previous map, with improvements for hard, and a new, harder expert difficulty mapped by Squeaksies, as well as lower difficulties as iterations on my original map.\r\n\r\nBPM: 124\r\nDuration: 2:49\r\nNotes (Hard): 730\r\nNotes (Expert): 735\r\nPreview (Hard): https://youtu.be/NExvLUyeBUU\r\nPreview (Expert): https://youtu.be/NYmExXlpB0k","deletedAt":null,"_id":"5cff620c48229f7d88fc6282","key":"1bf","name":"Caravan Palace - Lone Digger","uploader":{"_id":"5cff0b7298cc5a672c84ebb1","username":"calijor"},"uploaded":"2018-05-23T00:15:19.000Z","hash":"906160fd1f808e2f34f33c2ca5920118855c065d","directDownload":"/cdn/1bf/906160fd1f808e2f34f33c2ca5920118855c065d.zip","downloadURL":"/api/download/key/1bf","coverURL":"/cdn/1bf/906160fd1f808e2f34f33c2ca5920118855c065d.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":false,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":473.1875,"length":228,"bombs":0,"notes":399,"obstacles":0,"njs":10,"njsOffset":0},"hard":{"duration":473.1875,"length":228,"bombs":0,"notes":496,"obstacles":0,"njs":10,"njsOffset":0},"expert":null,"expertPlus":null}}],"songName":"Seven Nation Army","songSubName":"The White Stripes","songAuthorName":"BlueASIS","levelAuthorName":"blueasis","bpm":124},"stats":{"downloads":776038,"plays":56470,"downVotes":437,"upVotes":11620,"heat":74.676625,"rating":0.93635850868144},"description":"UPDATED! @BlueASIS#4095 on Discord let me know what you think","deletedAt":null,"_id":"5cff620d48229f7d88fc64a0","key":"3fc","name":"The White Stripes - Seven Nation Army","uploader":{"_id":"5cff0b7298cc5a672c84eb5d","username":"blueasis"},"uploaded":"2018-06-06T18:51:03.000Z","hash":"0b0ad0f34b2d0687a9794bcf5019100fda06971e","directDownload":"/cdn/3fc/0b0ad0f34b2d0687a9794bcf5019100fda06971e.zip","downloadURL":"/api/download/key/3fc","coverURL":"/cdn/3fc/0b0ad0f34b2d0687a9794bcf5019100fda06971e.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":183.5,"length":81,"bombs":0,"notes":174,"obstacles":0,"njs":10,"njsOffset":0},"expert":{"duration":183.5,"length":81,"bombs":0,"notes":262,"obstacles":0,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Unravel","songSubName":"(TV Size)","songAuthorName":"TK","levelAuthorName":"winepic","bpm":135},"stats":{"downloads":444166,"plays":52247,"downVotes":369,"upVotes":4150,"heat":18.3311622,"rating":0.8851378895668524},"description":"Map made by me. Includes Hard and Expert difficulties.","deletedAt":null,"_id":"5cff620c48229f7d88fc60e5","key":"7","name":"Unravel (Tokyo Ghoul OP) TV Size","uploader":{"_id":"5cff0b7298cc5a672c84e8b6","username":"winepic"},"uploaded":"2018-05-08T16:25:10.000Z","hash":"b9867cdccf8b27d7a174c861adc69215c86cdab8","directDownload":"/cdn/7/b9867cdccf8b27d7a174c861adc69215c86cdab8.zip","downloadURL":"/api/download/key/7","coverURL":"/cdn/7/b9867cdccf8b27d7a174c861adc69215c86cdab8.png"},{"metadata":{"difficulties":{"easy":true,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":{"duration":265.510009765625,"length":189,"bombs":0,"notes":297,"obstacles":57,"njs":10,"njsOffset":0},"normal":{"duration":264.510009765625,"length":188,"bombs":0,"notes":358,"obstacles":62,"njs":10,"njsOffset":0},"hard":{"duration":266.010009765625,"length":190,"bombs":0,"notes":514,"obstacles":67,"njs":10,"njsOffset":0},"expert":{"duration":276.010009765625,"length":197,"bombs":0,"notes":681,"obstacles":67,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Clint Eastwood","songSubName":"Gorillaz","songAuthorName":"unknow","levelAuthorName":"freeek","bpm":84},"stats":{"downloads":471361,"plays":51819,"downVotes":372,"upVotes":5758,"heat":51.4893997,"rating":0.9075010599167767},"description":"Easy/Normal/Hard/Expert - Audio is as loud without clipping I swear! 100% Expert Playthrough: https://bit.ly/2LuFcxq\r\n\r\nHave fun! =D\r\n\r\n- Freeek =)","deletedAt":null,"_id":"5cff620c48229f7d88fc62e4","key":"225","name":"Clint Eastwood - Gorillaz","uploader":{"_id":"5cff0b7298cc5a672c84e8ad","username":"freeek"},"uploaded":"2018-05-25T20:58:36.000Z","hash":"507f0e09326d37e09dca08e3c2597f027dbe1940","directDownload":"/cdn/225/507f0e09326d37e09dca08e3c2597f027dbe1940.zip","downloadURL":"/api/download/key/225","coverURL":"/cdn/225/507f0e09326d37e09dca08e3c2597f027dbe1940.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":{"duration":189,"length":90,"bombs":0,"notes":330,"obstacles":0,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Super Mario Bros. Theme (Overworld Theme)","songSubName":"Nintendo","songAuthorName":"red knight","levelAuthorName":"redknight","bpm":125},"stats":{"downloads":552611,"plays":49329,"downVotes":1093,"upVotes":4653,"heat":22.15705,"rating":0.7869063116417228},"description":"Expert only","deletedAt":null,"_id":"5cff620c48229f7d88fc6106","key":"29","name":"Super Mario Bros Theme","uploader":{"_id":"5cff0b7298cc5a672c84e917","username":"redknight"},"uploaded":"2018-05-10T16:34:12.000Z","hash":"c1c8e2b9394050afad435608137941da0b64b8f3","directDownload":"/cdn/29/c1c8e2b9394050afad435608137941da0b64b8f3.zip","downloadURL":"/api/download/key/29","coverURL":"/cdn/29/c1c8e2b9394050afad435608137941da0b64b8f3.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":472.5,"length":232,"bombs":0,"notes":373,"obstacles":11,"njs":10,"njsOffset":0},"hard":{"duration":472.5,"length":232,"bombs":0,"notes":503,"obstacles":14,"njs":10,"njsOffset":0},"expert":{"duration":472.5,"length":232,"bombs":0,"notes":682,"obstacles":30,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Livin' On A Prayer","songSubName":"Bon Jovi","songAuthorName":"Bon Jovi","levelAuthorName":"jnua12345","bpm":122},"stats":{"downloads":472998,"plays":47593,"downVotes":840,"upVotes":2606,"heat":34.0630574,"rating":0.7341707864621012},"description":"Expert, Hard, Normal 122BPM","deletedAt":null,"_id":"5cff620c48229f7d88fc6194","key":"bd","name":"Bon Jovi - Livin' On A Prayer","uploader":{"_id":"5cff0b7298cc5a672c84e9da","username":"jnua12345"},"uploaded":"2018-05-17T01:12:03.000Z","hash":"4b47cccc819825f10ffbbf0d52ce2a00cc7a5f88","directDownload":"/cdn/bd/4b47cccc819825f10ffbbf0d52ce2a00cc7a5f88.zip","downloadURL":"/api/download/key/bd","coverURL":"/cdn/bd/4b47cccc819825f10ffbbf0d52ce2a00cc7a5f88.jpg"}],"totalDocs":35533,"lastPage":3553,"prevPage":null,"nextPage":1}"#.into());
            client.maps_plays().await.unwrap();
        }
        #[async_test]
        async fn test_maps_plays_page() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/maps/plays/2").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":168.25,"length":71,"bombs":0,"notes":183,"obstacles":61,"njs":10,"njsOffset":0},"hard":{"duration":168.25,"length":71,"bombs":0,"notes":254,"obstacles":61,"njs":10,"njsOffset":0},"expert":{"duration":168.25,"length":71,"bombs":0,"notes":377,"obstacles":61,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"He's a pirate","songSubName":"Hans Zimmer & Klaus Badelt","songAuthorName":"Hans Zimmer & Klaus Badelt","levelAuthorName":"jnua12345","bpm":140},"stats":{"downloads":408651,"plays":36415,"downVotes":3863,"upVotes":1191,"heat":22.9591858,"rating":0.25594296508008013},"description":"Expert, Hard, and Normal 140 BPM","deletedAt":null,"_id":"5cff620c48229f7d88fc6159","key":"80","name":"He's a pirate - Hans Zimmer & Klaus Badelt","uploader":{"_id":"5cff0b7298cc5a672c84e9da","username":"jnua12345"},"uploaded":"2018-05-14T17:49:31.000Z","hash":"f1ec6967a2a3940c2e65fcb207fc418f2813403d","directDownload":"/cdn/80/f1ec6967a2a3940c2e65fcb207fc418f2813403d.zip","downloadURL":"/api/download/key/80","coverURL":"/cdn/80/f1ec6967a2a3940c2e65fcb207fc418f2813403d.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":619.0533447265625,"length":290,"bombs":0,"notes":574,"obstacles":2,"njs":10,"njsOffset":0},"hard":{"duration":619.0533447265625,"length":290,"bombs":0,"notes":739,"obstacles":2,"njs":10,"njsOffset":0},"expert":{"duration":619.0533447265625,"length":290,"bombs":0,"notes":849,"obstacles":2,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"I Gotta Feeling","songSubName":"The Black Eyed Peas","songAuthorName":"RunRockGame","levelAuthorName":"runrockgame","bpm":128},"stats":{"downloads":341751,"plays":36096,"downVotes":518,"upVotes":3106,"heat":65.3734754,"rating":0.8267748309557275},"description":"Expert, Hard & Normal | 800+ Blocks | Full Song 4:56 | Includes Lighting. Request to: @themakertales","deletedAt":null,"_id":"5cff620c48229f7d88fc63f1","key":"344","name":"The Black Eyed Peas - I Gotta Feeling","uploader":{"_id":"5cff0b7398cc5a672c84f04e","username":"runrockgame"},"uploaded":"2018-06-02T06:30:23.000Z","hash":"0e440ed89a72fbe2b9835fcdc57688423d0b7d02","directDownload":"/cdn/344/0e440ed89a72fbe2b9835fcdc57688423d0b7d02.zip","downloadURL":"/api/download/key/344","coverURL":"/cdn/344/0e440ed89a72fbe2b9835fcdc57688423d0b7d02.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":324,"length":162,"bombs":0,"notes":335,"obstacles":22,"njs":10,"njsOffset":0},"expert":{"duration":324,"length":162,"bombs":0,"notes":511,"obstacles":11,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"New Dawn","songSubName":"Prototyperaptor","songAuthorName":"Rustic","levelAuthorName":"rustic","bpm":120},"stats":{"downloads":155055,"plays":35038,"downVotes":205,"upVotes":569,"heat":17.9620569,"rating":0.7034052594285399},"description":"Hard/Expert + Lights","deletedAt":null,"_id":"5cff620c48229f7d88fc60ef","key":"11","name":"Prototyperaptor - New Dawn","uploader":{"_id":"5cff0b7298cc5a672c84e8c4","username":"rustic"},"uploaded":"2018-05-09T00:30:43.000Z","hash":"b677fb72f916f74d69e532b279ce90b28e4fa14f","directDownload":"/cdn/11/b677fb72f916f74d69e532b279ce90b28e4fa14f.zip","downloadURL":"/api/download/key/11","coverURL":"/cdn/11/b677fb72f916f74d69e532b279ce90b28e4fa14f.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":535.5889892578125,"length":172,"bombs":0,"notes":344,"obstacles":0,"njs":10,"njsOffset":0},"hard":{"duration":535.5889892578125,"length":172,"bombs":0,"notes":553,"obstacles":0,"njs":10,"njsOffset":0},"expert":{"duration":535.5889892578125,"length":172,"bombs":0,"notes":835,"obstacles":0,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"American Idiot","songSubName":"Green Day","songAuthorName":"DownyCat","levelAuthorName":"downycat","bpm":186},"stats":{"downloads":311356,"plays":34648,"downVotes":413,"upVotes":5242,"heat":91.1248572,"rating":0.8952879027838307},"description":"Expert - Hard - Normal Charts\r\nLighting Events","deletedAt":null,"_id":"5cff620d48229f7d88fc65ce","key":"541","name":"American Idiot - Green Day","uploader":{"_id":"5cff0b7398cc5a672c84ede5","username":"downycat"},"uploaded":"2018-06-15T13:00:45.000Z","hash":"4b932c34c8402d4b1d1cbc11ec0eebf9d1ce9569","directDownload":"/cdn/541/4b932c34c8402d4b1d1cbc11ec0eebf9d1ce9569.zip","downloadURL":"/api/download/key/541","coverURL":"/cdn/541/4b932c34c8402d4b1d1cbc11ec0eebf9d1ce9569.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":388.90625,"length":191,"bombs":0,"notes":402,"obstacles":15,"njs":10,"njsOffset":0},"hard":{"duration":389,"length":191,"bombs":0,"notes":618,"obstacles":15,"njs":10,"njsOffset":0},"expert":{"duration":389,"length":191,"bombs":0,"notes":914,"obstacles":15,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Black Betty","songSubName":"Caravan Palace Cover","songAuthorName":"Caravan Palace","levelAuthorName":"calijor","bpm":122},"stats":{"downloads":278149,"plays":34223,"downVotes":413,"upVotes":3838,"heat":49.5429939,"rating":0.8702759162699826},"description":"Caravan Palace - Black Betty (cover)\r\nThis is not the classic Black Betty but instead an electro-swing cover by Caravan Palace, and it is a banger.\r\n\r\nNormal | Hard | Expert\r\n\r\nBPM: 122\r\nNotes (Expert): 914\r\nDuration: 3:11\r\n\r\nPreview: https://youtu.be/5SgT9hUO7rU","deletedAt":null,"_id":"5cff620c48229f7d88fc62c8","key":"208","name":"Caravan Palace - Black Betty (cover)","uploader":{"_id":"5cff0b7298cc5a672c84ebb1","username":"calijor"},"uploaded":"2018-05-24T23:06:15.000Z","hash":"32d2e0072615066f6958ea33519f62eca7d8f59e","directDownload":"/cdn/208/32d2e0072615066f6958ea33519f62eca7d8f59e.zip","downloadURL":"/api/download/key/208","coverURL":"/cdn/208/32d2e0072615066f6958ea33519f62eca7d8f59e.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":false,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":365.49951171875,"length":162,"bombs":0,"notes":275,"obstacles":70,"njs":10,"njsOffset":0},"expert":null,"expertPlus":null}}],"songName":"You're Welcome","songSubName":"Moana","songAuthorName":"Prime","levelAuthorName":"prime","bpm":135},"stats":{"downloads":365259,"plays":34012,"downVotes":278,"upVotes":3955,"heat":53.5988492,"rating":0.8991650755241951},"description":"Difficulties: Hard\r\nBPM: 135\r\nLights: Done\r\nListen: https://www.youtube.com/watch?v=79DijItQXMM\r\n\r\nNot meant to be challenging, just a feel-good song to enjoy :)","deletedAt":null,"_id":"5cff620c48229f7d88fc631d","key":"261","name":"Moana - You're Welcome","uploader":{"_id":"5cff0b7298cc5a672c84eb1e","username":"prime"},"uploaded":"2018-05-27T01:25:01.000Z","hash":"0e4b5e325760bdabb66caea4506c5463daf4b51f","directDownload":"/cdn/261/0e4b5e325760bdabb66caea4506c5463daf4b51f.zip","downloadURL":"/api/download/key/261","coverURL":"/cdn/261/0e4b5e325760bdabb66caea4506c5463daf4b51f.jpg"},{"metadata":{"difficulties":{"easy":true,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":{"duration":596.3594360351562,"length":176,"bombs":0,"notes":349,"obstacles":54,"njs":10,"njsOffset":0},"normal":{"duration":591.7109985351562,"length":174,"bombs":0,"notes":399,"obstacles":78,"njs":10,"njsOffset":0},"hard":{"duration":591.7109985351562,"length":174,"bombs":0,"notes":491,"obstacles":81,"njs":10,"njsOffset":0},"expert":{"duration":591.6094360351562,"length":174,"bombs":28,"notes":498,"obstacles":90,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Kung Fu Fighting","songSubName":"Carl Douglas","songAuthorName":"Kleid","levelAuthorName":"kleid","bpm":103},"stats":{"downloads":283456,"plays":32946,"downVotes":238,"upVotes":2336,"heat":44.8870944,"rating":0.869217331994228},"description":"Kung Fu Fighting (Carl Douglas)\r\nFinished lighting\r\nDifficulties: Easy, Normal, Hard, Expert","deletedAt":null,"_id":"5cff620c48229f7d88fc626b","key":"1a8","name":"Kung Fu Fighting (Carl Douglas)","uploader":{"_id":"5cff0b7398cc5a672c84ecd9","username":"kleid"},"uploaded":"2018-05-22T15:33:58.000Z","hash":"dc3525c5a21d3dee732966e7b46ecc06120f7b84","directDownload":"/cdn/1a8/dc3525c5a21d3dee732966e7b46ecc06120f7b84.zip","downloadURL":"/api/download/key/1a8","coverURL":"/cdn/1a8/dc3525c5a21d3dee732966e7b46ecc06120f7b84.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":272.0799865722656,"length":136,"bombs":28,"notes":290,"obstacles":76,"njs":10,"njsOffset":0},"expert":{"duration":272.0799865722656,"length":136,"bombs":28,"notes":374,"obstacles":76,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Portal - Still Alive (Uppermost Remix)","songSubName":"Uppermost","songAuthorName":"Kryptikos","levelAuthorName":"kryptikos","bpm":120},"stats":{"downloads":420090,"plays":32883,"downVotes":339,"upVotes":4931,"heat":47.466913,"rating":0.9026549349629458},"description":"Second track mapped, includes Hard and Expert difficulties.\r\n\r\nI know that this isn't the hardest track, but I find it to be fun, which I see as priority number one. :)","deletedAt":null,"_id":"5cff620c48229f7d88fc629f","key":"1dd","name":"Portal - Still Alive (Uppermost Remix)","uploader":{"_id":"5cff0b7298cc5a672c84eab4","username":"kryptikos"},"uploaded":"2018-05-23T19:33:41.000Z","hash":"01308128a87b6b561799359ee5aa213168c3b49f","directDownload":"/cdn/1dd/01308128a87b6b561799359ee5aa213168c3b49f.zip","downloadURL":"/api/download/key/1dd","coverURL":"/cdn/1dd/01308128a87b6b561799359ee5aa213168c3b49f.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":458,"length":196,"bombs":0,"notes":412,"obstacles":21,"njs":10,"njsOffset":0},"hard":{"duration":458,"length":196,"bombs":0,"notes":500,"obstacles":23,"njs":10,"njsOffset":0},"expert":{"duration":458,"length":196,"bombs":16,"notes":877,"obstacles":23,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"DotA","songSubName":"","songAuthorName":"Basshunter","levelAuthorName":"fossilgenera","bpm":140},"stats":{"downloads":315812,"plays":32014,"downVotes":602,"upVotes":7561,"heat":48.2210135,"rating":0.8979343211999712},"description":"Normal / Hard / Expert\r\n877 Notes || 23 Obstacles || Events || 140 BPM\r\nVideo: https://youtu.be/QBkYyVkIdm0\r\n\r\nNot responsible for seizures.\r\nEnjoy!","deletedAt":null,"_id":"5cff620c48229f7d88fc62b0","key":"1ef","name":"DotA - Basshunter","uploader":{"_id":"5cff0b7298cc5a672c84ec3b","username":"fossilgenera"},"uploaded":"2018-05-24T02:43:51.000Z","hash":"dc4906a7f76965cdd2b75c72cf470344b698e352","directDownload":"/cdn/1ef/dc4906a7f76965cdd2b75c72cf470344b698e352.zip","downloadURL":"/api/download/key/1ef","coverURL":"/cdn/1ef/dc4906a7f76965cdd2b75c72cf470344b698e352.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":291,"length":136,"bombs":4,"notes":353,"obstacles":15,"njs":10,"njsOffset":0},"hard":{"duration":291,"length":136,"bombs":4,"notes":455,"obstacles":15,"njs":10,"njsOffset":0},"expert":{"duration":291,"length":136,"bombs":10,"notes":526,"obstacles":15,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"LUVORATORRRRRY!","songSubName":"feat.nqrse","songAuthorName":"Reol","levelAuthorName":"datkami","bpm":128},"stats":{"downloads":274785,"plays":31684,"downVotes":180,"upVotes":4260,"heat":21.0834602,"rating":0.9227949333597193},"description":"Hard (353 notes) / Hard+ (455 notes) / Expert (526 notes) / 15 Obstacles / Video Demonstration: https://streamable.com/23ayv / Part 1 of the J-EDM Graduation series! Use this song pack to level up your game!","deletedAt":null,"_id":"5cff620c48229f7d88fc60fe","key":"21","name":"REOL feat. nqrse - LUVORATORRRRRY!","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-05-10T02:24:36.000Z","hash":"c807689fefdae82aa79ba9c7f861118fb426b4cc","directDownload":"/cdn/21/c807689fefdae82aa79ba9c7f861118fb426b4cc.zip","downloadURL":"/api/download/key/21","coverURL":"/cdn/21/c807689fefdae82aa79ba9c7f861118fb426b4cc.jpg"}],"totalDocs":35794,"lastPage":3579,"prevPage":1,"nextPage":3}"#.into());
            client.maps_plays_page(2).await.unwrap();
        }
        #[async_test]
        async fn test_user() {
            let client = FakeClient::new(
                BEATSAVER_URL
                    .join("api/users/find/5fbe7cd60192c700062b2a1f")
                    .unwrap(),
                r#"{"_id":"5fbe7cd60192c700062b2a1f","username":"qw3rty01"}"#.into(),
            );
            client
                .user("5fbe7cd60192c700062b2a1f".into())
                .await
                .unwrap();
        }
        #[async_test]
        async fn test_search() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/search/text/0?q=datkami").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":false,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":188.625,"length":141,"bombs":28,"notes":337,"obstacles":11,"njs":10,"njsOffset":0},"expert":null,"expertPlus":null}}],"songName":"me & u","songSubName":"","songAuthorName":"succducc","levelAuthorName":"datkami","bpm":160},"stats":{"downloads":86172,"plays":8377,"downVotes":110,"upVotes":512,"heat":17.2028038,"rating":0.7765731134313741},"description":"Hard Only / ~330 notes / Event Lighting! / https://soundcloud.com/succducc/me-n-u","deletedAt":null,"_id":"5cff620c48229f7d88fc60df","key":"1","name":"succducc - me & u","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-05-08T14:28:56.000Z","hash":"fda568fc27c20d21f8dc6f3709b49b5cc96723be","directDownload":"/cdn/1/fda568fc27c20d21f8dc6f3709b49b5cc96723be.zip","downloadURL":"/api/download/key/1","coverURL":"/cdn/1/fda568fc27c20d21f8dc6f3709b49b5cc96723be.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":291,"length":136,"bombs":4,"notes":353,"obstacles":15,"njs":10,"njsOffset":0},"hard":{"duration":291,"length":136,"bombs":4,"notes":455,"obstacles":15,"njs":10,"njsOffset":0},"expert":{"duration":291,"length":136,"bombs":10,"notes":526,"obstacles":15,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"LUVORATORRRRRY!","songSubName":"feat.nqrse","songAuthorName":"Reol","levelAuthorName":"datkami","bpm":128},"stats":{"downloads":273593,"plays":31684,"downVotes":178,"upVotes":4248,"heat":21.0823944,"rating":0.923057857514794},"description":"Hard (353 notes) / Hard+ (455 notes) / Expert (526 notes) / 15 Obstacles / Video Demonstration: https://streamable.com/23ayv / Part 1 of the J-EDM Graduation series! Use this song pack to level up your game!","deletedAt":null,"_id":"5cff620c48229f7d88fc60fe","key":"21","name":"REOL feat. nqrse - LUVORATORRRRRY!","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-05-10T02:24:36.000Z","hash":"c807689fefdae82aa79ba9c7f861118fb426b4cc","directDownload":"/cdn/21/c807689fefdae82aa79ba9c7f861118fb426b4cc.zip","downloadURL":"/api/download/key/21","coverURL":"/cdn/21/c807689fefdae82aa79ba9c7f861118fb426b4cc.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":482,"length":199,"bombs":20,"notes":583,"obstacles":38,"njs":12,"njsOffset":0},"hard":{"duration":482,"length":199,"bombs":20,"notes":640,"obstacles":30,"njs":12,"njsOffset":0},"expert":{"duration":482,"length":199,"bombs":20,"notes":734,"obstacles":19,"njs":12,"njsOffset":0},"expertPlus":null}}],"songName":"Kodokushi","songSubName":"Kami","songAuthorName":"Mihka! x Kyoto Black","levelAuthorName":"datkami","bpm":145},"stats":{"downloads":21773,"plays":2937,"downVotes":17,"upVotes":327,"heat":30.7342061,"rating":0.87298999599274},"description":"Hard (583 Notes) / Hard+ (640 Notes) / Expert (734 Notes) / Event lighting! / Part 2 of the J-EDM Graduation series, a setlist of maps meant to help you bridge the gap between Hard and Expert! / Mapped by Kami#9635  / Video Demonstration: https://streamable.com/n3h12 / If you like the track, be sure to sign up for Beat Saver and give it a LIKE!","deletedAt":null,"_id":"5cff620c48229f7d88fc6171","key":"98","name":"Mihka! x Kyoto Black - Kodokushi","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-05-15T17:02:08.000Z","hash":"f829a801f10366ae4f61b8daabcf133209a65789","directDownload":"/cdn/98/f829a801f10366ae4f61b8daabcf133209a65789.zip","downloadURL":"/api/download/key/98","coverURL":"/cdn/98/f829a801f10366ae4f61b8daabcf133209a65789.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":{"duration":655.5,"length":228,"bombs":28,"notes":865,"obstacles":31,"njs":12,"njsOffset":0},"expertPlus":null}}],"songName":"Coconut Cabana","songSubName":"Ikura","songAuthorName":"Kami","levelAuthorName":"datkami","bpm":172},"stats":{"downloads":40640,"plays":201,"downVotes":43,"upVotes":207,"heat":326.6865772,"rating":0.7658415646708089},"description":"172 BPM / Expert (865 notes) / my lights are pretty / Video Demonstration: https://streamable.com/2yo6w / shout out to @ikuratunes for making this bangin' track https://soundcloud.com/chunchunmarudesu/coconut-cabana","deletedAt":null,"_id":"5cff621048229f7d88fc73e2","key":"1a98","name":"ikura - Coconut Cabana","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-10-16T23:53:48.000Z","hash":"023ae70b643a2abe62c9dbc9e3fdfd9c325f0f1f","directDownload":"/cdn/1a98/023ae70b643a2abe62c9dbc9e3fdfd9c325f0f1f.zip","downloadURL":"/api/download/key/1a98","coverURL":"/cdn/1a98/023ae70b643a2abe62c9dbc9e3fdfd9c325f0f1f.jpg"}],"totalDocs":4,"lastPage":0,"prevPage":null,"nextPage":null}"#.into());
            client.search("datkami".into()).await.unwrap();
        }
        #[async_test]
        async fn test_search_page() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/search/text/2?q=bennydabeast").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":true,"normal":false,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":{"duration":841,"length":290,"bombs":12,"notes":438,"obstacles":8,"njs":10,"njsOffset":0},"normal":null,"hard":{"duration":841,"length":290,"bombs":12,"notes":519,"obstacles":8,"njs":10,"njsOffset":0},"expert":{"duration":649,"length":223,"bombs":12,"notes":686,"obstacles":8,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Burn","songSubName":"Ellie Goulding","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":174},"stats":{"downloads":363792,"plays":14209,"downVotes":241,"upVotes":6251,"heat":105.2609634,"rating":0.9299311715015002},"description":"Difficulties: Expert, Hard, Normal\r\nCome Hang Out on Twitch! http://www.twitch.tv/bennydabeastlive\r\nYouTube Link: https://youtu.be/KOdvSdrnaeE\r\n\r\nIf you like this, check out my other beat maps:\r\nUptown Funk: https://beatsaver.com/details.php?id=1962\r\nCAN'T STOP THE FEELING by Justin Timberlake: https://beatsaver.com/details.php?id=1587\r\nMidnight City by M83: https://beatsaver.com/details.php?id=542\r\nKids by MGMT: https://beatsaver.com/details.php?id=421\r\nWhat You Know by Two Door Cinema Club: https://beatsaver.com/details.php?id=1107\r\nPolish Girl by Neon Indian: https://beatsaver.com/details.php?id=694","deletedAt":null,"_id":"5cff620d48229f7d88fc66ae","key":"636","name":"Burn - Ellie Goulding","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-06-22T20:31:34.000Z","hash":"9d31d3aab3d58ab540df63caed06d62ff1cfefdd","directDownload":"/cdn/636/9d31d3aab3d58ab540df63caed06d62ff1cfefdd.zip","downloadURL":"/api/download/key/636","coverURL":"/cdn/636/9d31d3aab3d58ab540df63caed06d62ff1cfefdd.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":false,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":null,"expertPlus":{"duration":259,"length":167,"bombs":2,"notes":706,"obstacles":36,"njs":10,"njsOffset":0}}}],"songName":"Otter Pop (feat. Hollis)","songSubName":"Shawn Wasabi","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":93},"stats":{"downloads":138178,"plays":3100,"downVotes":77,"upVotes":2274,"heat":131.8017412,"rating":0.9220994437102321},"description":"Difficulties: Expert+ Only\r\nMore Benny Originals: https://beatsaver.com/searchhtml.php?q=bennydabeast","deletedAt":null,"_id":"5cff620e48229f7d88fc687c","key":"83b","name":"Otter Pop (feat. Hollis) - Shawn Wasabi","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-07-06T21:44:56.000Z","hash":"c7e15a9eaeaae0fe9dd8e4ad62cfd849e3cc6cc7","directDownload":"/cdn/83b/c7e15a9eaeaae0fe9dd8e4ad62cfd849e3cc6cc7.zip","downloadURL":"/api/download/key/83b","coverURL":"/cdn/83b/c7e15a9eaeaae0fe9dd8e4ad62cfd849e3cc6cc7.png"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":454,"length":252,"bombs":0,"notes":321,"obstacles":14,"njs":10,"njsOffset":0},"hard":{"duration":454,"length":252,"bombs":0,"notes":432,"obstacles":14,"njs":10,"njsOffset":0},"expert":{"duration":454,"length":252,"bombs":0,"notes":680,"obstacles":14,"njs":10,"njsOffset":0},"expertPlus":{"duration":454,"length":252,"bombs":0,"notes":810,"obstacles":14,"njs":10,"njsOffset":0}}}],"songName":"Some Nights","songSubName":"Fun.","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":108},"stats":{"downloads":294847,"plays":6779,"downVotes":133,"upVotes":6250,"heat":199.3520718,"rating":0.9448837394753198},"description":"Difficulties: Expert+, Expert, Hard, Normal\r\nYouTube Preview: https://youtu.be/X4R7VIZPffk","deletedAt":null,"_id":"5cff620f48229f7d88fc6cee","key":"efe","name":"Some Nights - Fun.","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-08-10T20:34:09.000Z","hash":"e64d6b7c5527d36005ae1801268798dd21ccf605","directDownload":"/cdn/efe/e64d6b7c5527d36005ae1801268798dd21ccf605.zip","downloadURL":"/api/download/key/efe","coverURL":"/cdn/efe/e64d6b7c5527d36005ae1801268798dd21ccf605.png"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":372,"length":174,"bombs":0,"notes":271,"obstacles":16,"njs":10,"njsOffset":0},"hard":{"duration":372,"length":174,"bombs":0,"notes":474,"obstacles":16,"njs":10,"njsOffset":0},"expert":{"duration":371.5,"length":174,"bombs":0,"notes":643,"obstacles":16,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Better When I'm Dancin'","songSubName":"Meghan Trainor","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":128},"stats":{"downloads":84800,"plays":1362,"downVotes":25,"upVotes":1531,"heat":311.3518027,"rating":0.9309898926008106},"description":"\"We can do this together... I bet you feel better when you're dancing, yeah, yeah...\"\r\nDifficulties: Expert, Hard, Normal","deletedAt":null,"_id":"5cff621048229f7d88fc7319","key":"194c","name":"Better When I'm Dancin' - Meghan Trainor","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-10-08T12:10:29.000Z","hash":"9bd5e0efe697a38fe0da28f252a8bfb870da630a","directDownload":"/cdn/194c/9bd5e0efe697a38fe0da28f252a8bfb870da630a.zip","downloadURL":"/api/download/key/194c","coverURL":"/cdn/194c/9bd5e0efe697a38fe0da28f252a8bfb870da630a.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":false,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":null,"expertPlus":{"duration":371.5,"length":176,"bombs":18,"notes":636,"obstacles":9,"njs":10,"njsOffset":0}}}],"songName":"So Funky [NCS Release]","songSubName":"NIVIRO","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":126},"stats":{"downloads":22878,"plays":963,"downVotes":10,"upVotes":557,"heat":310.9960095,"rating":0.9108753721370022},"description":"This map is one of the two that were created specifically for the 2018 Elements Tournament Qualifier.\r\nDifficulties: Expert+ Only","deletedAt":null,"_id":"5cff621048229f7d88fc731a","key":"194d","name":"So Funky - NVIRIO [Elements Qualifier]","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-10-08T13:13:31.000Z","hash":"a5bf0f0bd05e12fc10fd1dda65132531f00123a1","directDownload":"/cdn/194d/a5bf0f0bd05e12fc10fd1dda65132531f00123a1.zip","downloadURL":"/api/download/key/194d","coverURL":"/cdn/194d/a5bf0f0bd05e12fc10fd1dda65132531f00123a1.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":false,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":null,"expertPlus":{"duration":580,"length":248,"bombs":0,"notes":1206,"obstacles":1,"njs":15,"njsOffset":0}}}],"songName":"Without Me (Nurko & Miles Away Remix)","songSubName":"Halsey","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":140},"stats":{"downloads":33233,"plays":366,"downVotes":20,"upVotes":780,"heat":339.135058,"rating":0.9115234775631975},"description":"Difficulties: Expert+ Only","deletedAt":null,"_id":"5cff621148229f7d88fc7491","key":"1bc4","name":"Without Me (Nurko & Miles Away Remix) - Halsey","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-10-23T03:10:41.000Z","hash":"e447ac77708869ac151546110aecda97acac2cab","directDownload":"/cdn/1bc4/e447ac77708869ac151546110aecda97acac2cab.zip","downloadURL":"/api/download/key/1bc4","coverURL":"/cdn/1bc4/e447ac77708869ac151546110aecda97acac2cab.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":false,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":null,"expertPlus":{"duration":387.6815185546875,"length":145,"bombs":0,"notes":586,"obstacles":7,"njs":10,"njsOffset":0}}}],"songName":"What Christmas Means to Me","songSubName":"Stevie Wonder","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":160},"stats":{"downloads":23604,"plays":4,"downVotes":16,"upVotes":97,"heat":435.3491072,"rating":0.7722707184352429},"description":"","deletedAt":null,"_id":"5cff621248229f7d88fc7a2f","key":"2556","name":"What Christmas Means to Me - Stevie Wonder","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-12-12T18:00:28.000Z","hash":"34a51a17715446e103b1ae57709fa595f77dc0d5","directDownload":"/cdn/2556/34a51a17715446e103b1ae57709fa595f77dc0d5.zip","downloadURL":"/api/download/key/2556","coverURL":"/cdn/2556/34a51a17715446e103b1ae57709fa595f77dc0d5.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":false,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":null,"expertPlus":{"duration":395.75,"length":221,"bombs":0,"notes":937,"obstacles":6,"njs":14,"njsOffset":0}}}],"songName":"Alone feat. Kyle Reynolds","songSubName":"Asketa & Natan Chaim","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":107},"stats":{"downloads":53081,"plays":0,"downVotes":26,"upVotes":704,"heat":634.3483852,"rating":0.9005936790957055},"description":"You ever just find a map gathering dust but pretty much finished? Yeah... let's go ahead and release that.\r\nDifficulties: Expert+ Only\r\nYouTube Preview: https://youtu.be/cg1wBYBCqX0","deletedAt":null,"_id":"5cff621548229f7d88fc8b42","key":"40b2","name":"Alone feat. Kyle Reynolds - Asketa & Natan Chaim","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2019-03-25T21:57:52.000Z","hash":"84ac2667162920902490fb1a572ed4cf5ad50a1f","directDownload":"/cdn/40b2/84ac2667162920902490fb1a572ed4cf5ad50a1f.zip","downloadURL":"/api/download/key/40b2","coverURL":"/cdn/40b2/84ac2667162920902490fb1a572ed4cf5ad50a1f.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":418.0929870605469,"length":202,"bombs":0,"notes":387,"obstacles":54,"njs":10,"njsOffset":0},"expert":{"duration":418.0929870605469,"length":202,"bombs":0,"notes":616,"obstacles":54,"njs":12,"njsOffset":0},"expertPlus":{"duration":418.0929870605469,"length":202,"bombs":0,"notes":868,"obstacles":57,"njs":14,"njsOffset":0}}}],"songName":"Nevada (feat. Cozi Zuehlsdorff)","songSubName":"Vicetone","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":124},"stats":{"downloads":29853,"plays":0,"downVotes":32,"upVotes":1062,"heat":638.1088594,"rating":0.9134916861785893},"description":"YouTube Preview: https://youtu.be/3gb2gH8eueI","deletedAt":null,"_id":"5cff621548229f7d88fc8b94","key":"4131","name":"Nevada feat. Cozi Zuehlsdorff - Vicetone","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2019-03-27T18:42:01.000Z","hash":"5e847d92de6e01dfd5ce3491969b3939b4374699","directDownload":"/cdn/4131/5e847d92de6e01dfd5ce3491969b3939b4374699.zip","downloadURL":"/api/download/key/4131","coverURL":"/cdn/4131/5e847d92de6e01dfd5ce3491969b3939b4374699.jpg"},{"metadata":{"difficulties":{"easy":true,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":{"duration":501,"length":193,"bombs":0,"notes":231,"obstacles":8,"njs":10,"njsOffset":0},"normal":{"duration":501,"length":193,"bombs":0,"notes":259,"obstacles":8,"njs":10,"njsOffset":0},"hard":{"duration":501,"length":193,"bombs":0,"notes":442,"obstacles":8,"njs":10,"njsOffset":0},"expert":{"duration":501,"length":193,"bombs":0,"notes":487,"obstacles":8,"njs":12,"njsOffset":0},"expertPlus":null}}],"songName":"Kamikaze","songSubName":"WALK THE MOON","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":155},"stats":{"downloads":65284,"plays":0,"downVotes":23,"upVotes":876,"heat":647.9071713,"rating":0.9132030079990229},"description":"An older map that I have no idea why I never published. So here it is!","deletedAt":null,"_id":"5cff621648229f7d88fc8c9d","key":"42de","name":"Kamikaze - WALK THE MOON","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2019-04-01T22:12:10.000Z","hash":"63d2d5920e6676f63bf997ae606b6d1590cd8c8d","directDownload":"/cdn/42de/63d2d5920e6676f63bf997ae606b6d1590cd8c8d.zip","downloadURL":"/api/download/key/42de","coverURL":"/cdn/42de/63d2d5920e6676f63bf997ae606b6d1590cd8c8d.png"}],"totalDocs":58,"lastPage":5,"prevPage":1,"nextPage":3}"#.into());
            client.search_page("bennydabeast".into(), 2).await.unwrap();
        }
        #[async_test]
        async fn test_search_advanced() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/search/advanced/0?q=metadata.levelAuthor%3Adatkami").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":false,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":188.625,"length":141,"bombs":28,"notes":337,"obstacles":11,"njs":10,"njsOffset":0},"expert":null,"expertPlus":null}}],"songName":"me & u","songSubName":"","songAuthorName":"succducc","levelAuthorName":"datkami","bpm":160},"stats":{"downloads":86172,"plays":8377,"downVotes":110,"upVotes":512,"heat":17.2028038,"rating":0.7765731134313741},"description":"Hard Only / ~330 notes / Event Lighting! / https://soundcloud.com/succducc/me-n-u","deletedAt":null,"_id":"5cff620c48229f7d88fc60df","key":"1","name":"succducc - me & u","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-05-08T14:28:56.000Z","hash":"fda568fc27c20d21f8dc6f3709b49b5cc96723be","directDownload":"/cdn/1/fda568fc27c20d21f8dc6f3709b49b5cc96723be.zip","downloadURL":"/api/download/key/1","coverURL":"/cdn/1/fda568fc27c20d21f8dc6f3709b49b5cc96723be.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":291,"length":136,"bombs":4,"notes":353,"obstacles":15,"njs":10,"njsOffset":0},"hard":{"duration":291,"length":136,"bombs":4,"notes":455,"obstacles":15,"njs":10,"njsOffset":0},"expert":{"duration":291,"length":136,"bombs":10,"notes":526,"obstacles":15,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"LUVORATORRRRRY!","songSubName":"feat.nqrse","songAuthorName":"Reol","levelAuthorName":"datkami","bpm":128},"stats":{"downloads":273593,"plays":31684,"downVotes":178,"upVotes":4248,"heat":21.0823944,"rating":0.923057857514794},"description":"Hard (353 notes) / Hard+ (455 notes) / Expert (526 notes) / 15 Obstacles / Video Demonstration: https://streamable.com/23ayv / Part 1 of the J-EDM Graduation series! Use this song pack to level up your game!","deletedAt":null,"_id":"5cff620c48229f7d88fc60fe","key":"21","name":"REOL feat. nqrse - LUVORATORRRRRY!","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-05-10T02:24:36.000Z","hash":"c807689fefdae82aa79ba9c7f861118fb426b4cc","directDownload":"/cdn/21/c807689fefdae82aa79ba9c7f861118fb426b4cc.zip","downloadURL":"/api/download/key/21","coverURL":"/cdn/21/c807689fefdae82aa79ba9c7f861118fb426b4cc.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":482,"length":199,"bombs":20,"notes":583,"obstacles":38,"njs":12,"njsOffset":0},"hard":{"duration":482,"length":199,"bombs":20,"notes":640,"obstacles":30,"njs":12,"njsOffset":0},"expert":{"duration":482,"length":199,"bombs":20,"notes":734,"obstacles":19,"njs":12,"njsOffset":0},"expertPlus":null}}],"songName":"Kodokushi","songSubName":"Kami","songAuthorName":"Mihka! x Kyoto Black","levelAuthorName":"datkami","bpm":145},"stats":{"downloads":21773,"plays":2937,"downVotes":17,"upVotes":327,"heat":30.7342061,"rating":0.87298999599274},"description":"Hard (583 Notes) / Hard+ (640 Notes) / Expert (734 Notes) / Event lighting! / Part 2 of the J-EDM Graduation series, a setlist of maps meant to help you bridge the gap between Hard and Expert! / Mapped by Kami#9635  / Video Demonstration: https://streamable.com/n3h12 / If you like the track, be sure to sign up for Beat Saver and give it a LIKE!","deletedAt":null,"_id":"5cff620c48229f7d88fc6171","key":"98","name":"Mihka! x Kyoto Black - Kodokushi","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-05-15T17:02:08.000Z","hash":"f829a801f10366ae4f61b8daabcf133209a65789","directDownload":"/cdn/98/f829a801f10366ae4f61b8daabcf133209a65789.zip","downloadURL":"/api/download/key/98","coverURL":"/cdn/98/f829a801f10366ae4f61b8daabcf133209a65789.jpg"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":{"duration":655.5,"length":228,"bombs":28,"notes":865,"obstacles":31,"njs":12,"njsOffset":0},"expertPlus":null}}],"songName":"Coconut Cabana","songSubName":"Ikura","songAuthorName":"Kami","levelAuthorName":"datkami","bpm":172},"stats":{"downloads":40640,"plays":201,"downVotes":43,"upVotes":207,"heat":326.6865772,"rating":0.7658415646708089},"description":"172 BPM / Expert (865 notes) / my lights are pretty / Video Demonstration: https://streamable.com/2yo6w / shout out to @ikuratunes for making this bangin' track https://soundcloud.com/chunchunmarudesu/coconut-cabana","deletedAt":null,"_id":"5cff621048229f7d88fc73e2","key":"1a98","name":"ikura - Coconut Cabana","uploader":{"_id":"5cff0b7298cc5a672c84e8a3","username":"datkami"},"uploaded":"2018-10-16T23:53:48.000Z","hash":"023ae70b643a2abe62c9dbc9e3fdfd9c325f0f1f","directDownload":"/cdn/1a98/023ae70b643a2abe62c9dbc9e3fdfd9c325f0f1f.zip","downloadURL":"/api/download/key/1a98","coverURL":"/cdn/1a98/023ae70b643a2abe62c9dbc9e3fdfd9c325f0f1f.jpg"}],"totalDocs":4,"lastPage":0,"prevPage":null,"nextPage":null}"#.into());
            client
                .search_advanced("metadata.levelAuthor:datkami".into())
                .await
                .unwrap();
        }
        #[async_test]
        async fn test_search_advanced_page() {
            let client = FakeClient::new(BEATSAVER_URL.join("api/search/advanced/2?q=uploader.username%3Abennydabeast").unwrap(), r#"{"docs":[{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":false,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":null,"expertPlus":{"duration":259,"length":167,"bombs":2,"notes":706,"obstacles":36,"njs":10,"njsOffset":0}}}],"songName":"Otter Pop (feat. Hollis)","songSubName":"Shawn Wasabi","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":93},"stats":{"downloads":138178,"plays":3100,"downVotes":77,"upVotes":2274,"heat":131.8017412,"rating":0.9220994437102321},"description":"Difficulties: Expert+ Only\r\nMore Benny Originals: https://beatsaver.com/searchhtml.php?q=bennydabeast","deletedAt":null,"_id":"5cff620e48229f7d88fc687c","key":"83b","name":"Otter Pop (feat. Hollis) - Shawn Wasabi","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-07-06T21:44:56.000Z","hash":"c7e15a9eaeaae0fe9dd8e4ad62cfd849e3cc6cc7","directDownload":"/cdn/83b/c7e15a9eaeaae0fe9dd8e4ad62cfd849e3cc6cc7.zip","downloadURL":"/api/download/key/83b","coverURL":"/cdn/83b/c7e15a9eaeaae0fe9dd8e4ad62cfd849e3cc6cc7.png"},{"metadata":{"difficulties":{"easy":false,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":372,"length":174,"bombs":0,"notes":271,"obstacles":16,"njs":10,"njsOffset":0},"hard":{"duration":372,"length":174,"bombs":0,"notes":474,"obstacles":16,"njs":10,"njsOffset":0},"expert":{"duration":371.5,"length":174,"bombs":0,"notes":643,"obstacles":16,"njs":10,"njsOffset":0},"expertPlus":null}}],"songName":"Better When I'm Dancin'","songSubName":"Meghan Trainor","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":128},"stats":{"downloads":84800,"plays":1362,"downVotes":25,"upVotes":1531,"heat":311.3518027,"rating":0.9309898926008106},"description":"\"We can do this together... I bet you feel better when you're dancing, yeah, yeah...\"\r\nDifficulties: Expert, Hard, Normal","deletedAt":null,"_id":"5cff621048229f7d88fc7319","key":"194c","name":"Better When I'm Dancin' - Meghan Trainor","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-10-08T12:10:29.000Z","hash":"9bd5e0efe697a38fe0da28f252a8bfb870da630a","directDownload":"/cdn/194c/9bd5e0efe697a38fe0da28f252a8bfb870da630a.zip","downloadURL":"/api/download/key/194c","coverURL":"/cdn/194c/9bd5e0efe697a38fe0da28f252a8bfb870da630a.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":false,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":null,"expertPlus":{"duration":580,"length":248,"bombs":0,"notes":1206,"obstacles":1,"njs":15,"njsOffset":0}}}],"songName":"Without Me (Nurko & Miles Away Remix)","songSubName":"Halsey","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":140},"stats":{"downloads":33233,"plays":366,"downVotes":20,"upVotes":780,"heat":339.135058,"rating":0.9115234775631975},"description":"Difficulties: Expert+ Only","deletedAt":null,"_id":"5cff621148229f7d88fc7491","key":"1bc4","name":"Without Me (Nurko & Miles Away Remix) - Halsey","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-10-23T03:10:41.000Z","hash":"e447ac77708869ac151546110aecda97acac2cab","directDownload":"/cdn/1bc4/e447ac77708869ac151546110aecda97acac2cab.zip","downloadURL":"/api/download/key/1bc4","coverURL":"/cdn/1bc4/e447ac77708869ac151546110aecda97acac2cab.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":false,"expert":false,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":null,"expertPlus":{"duration":387.6815185546875,"length":145,"bombs":0,"notes":586,"obstacles":7,"njs":10,"njsOffset":0}}}],"songName":"What Christmas Means to Me","songSubName":"Stevie Wonder","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":160},"stats":{"downloads":23604,"plays":4,"downVotes":16,"upVotes":97,"heat":435.3491072,"rating":0.7722707184352429},"description":"","deletedAt":null,"_id":"5cff621248229f7d88fc7a2f","key":"2556","name":"What Christmas Means to Me - Stevie Wonder","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2018-12-12T18:00:28.000Z","hash":"34a51a17715446e103b1ae57709fa595f77dc0d5","directDownload":"/cdn/2556/34a51a17715446e103b1ae57709fa595f77dc0d5.zip","downloadURL":"/api/download/key/2556","coverURL":"/cdn/2556/34a51a17715446e103b1ae57709fa595f77dc0d5.png"},{"metadata":{"difficulties":{"easy":false,"normal":false,"hard":true,"expert":true,"expertPlus":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":{"duration":418.0929870605469,"length":202,"bombs":0,"notes":387,"obstacles":54,"njs":10,"njsOffset":0},"expert":{"duration":418.0929870605469,"length":202,"bombs":0,"notes":616,"obstacles":54,"njs":12,"njsOffset":0},"expertPlus":{"duration":418.0929870605469,"length":202,"bombs":0,"notes":868,"obstacles":57,"njs":14,"njsOffset":0}}}],"songName":"Nevada (feat. Cozi Zuehlsdorff)","songSubName":"Vicetone","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":124},"stats":{"downloads":29853,"plays":0,"downVotes":32,"upVotes":1062,"heat":638.1088594,"rating":0.9134916861785893},"description":"YouTube Preview: https://youtu.be/3gb2gH8eueI","deletedAt":null,"_id":"5cff621548229f7d88fc8b94","key":"4131","name":"Nevada feat. Cozi Zuehlsdorff - Vicetone","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2019-03-27T18:42:01.000Z","hash":"5e847d92de6e01dfd5ce3491969b3939b4374699","directDownload":"/cdn/4131/5e847d92de6e01dfd5ce3491969b3939b4374699.zip","downloadURL":"/api/download/key/4131","coverURL":"/cdn/4131/5e847d92de6e01dfd5ce3491969b3939b4374699.jpg"},{"metadata":{"difficulties":{"easy":true,"normal":true,"hard":true,"expert":true,"expertPlus":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":{"duration":501,"length":193,"bombs":0,"notes":231,"obstacles":8,"njs":10,"njsOffset":0},"normal":{"duration":501,"length":193,"bombs":0,"notes":259,"obstacles":8,"njs":10,"njsOffset":0},"hard":{"duration":501,"length":193,"bombs":0,"notes":442,"obstacles":8,"njs":10,"njsOffset":0},"expert":{"duration":501,"length":193,"bombs":0,"notes":487,"obstacles":8,"njs":12,"njsOffset":0},"expertPlus":null}}],"songName":"Kamikaze","songSubName":"WALK THE MOON","songAuthorName":"BennyDaBeast","levelAuthorName":"bennydabeast","bpm":155},"stats":{"downloads":65284,"plays":0,"downVotes":23,"upVotes":876,"heat":647.9071713,"rating":0.9132030079990229},"description":"An older map that I have no idea why I never published. So here it is!","deletedAt":null,"_id":"5cff621648229f7d88fc8c9d","key":"42de","name":"Kamikaze - WALK THE MOON","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"uploaded":"2019-04-01T22:12:10.000Z","hash":"63d2d5920e6676f63bf997ae606b6d1590cd8c8d","directDownload":"/cdn/42de/63d2d5920e6676f63bf997ae606b6d1590cd8c8d.zip","downloadURL":"/api/download/key/42de","coverURL":"/cdn/42de/63d2d5920e6676f63bf997ae606b6d1590cd8c8d.png"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":true,"hard":true,"normal":true},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":{"duration":427,"length":184,"bombs":0,"notes":246,"obstacles":16,"njs":10,"njsOffset":0},"hard":{"duration":427,"length":184,"bombs":0,"notes":400,"obstacles":16,"njs":10,"njsOffset":0},"expert":{"duration":427,"length":184,"bombs":0,"notes":537,"obstacles":16,"njs":10,"njsOffset":0},"expertPlus":{"duration":427,"length":184,"bombs":0,"notes":715,"obstacles":16,"njs":10,"njsOffset":0}}}],"levelAuthorName":"BennyDaBeast","songAuthorName":"Two Door Cinema Club","songName":"What You Know","songSubName":"","bpm":139},"stats":{"downloads":43703,"plays":0,"downVotes":111,"upVotes":783,"heat":799.0684375,"rating":0.8272637389628217},"description":"Re-upload of an earlier Beatmap that was lost to the update.","deletedAt":null,"_id":"5d0a6a40c87a6a000653a546","key":"5388","name":"What You Know - Two Door Cinema Club","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"hash":"b8830915b5023c4c8030b2b0077688eb8508dc4c","uploaded":"2019-06-19T17:00:48.072Z","directDownload":"/cdn/5388/b8830915b5023c4c8030b2b0077688eb8508dc4c.zip","downloadURL":"/api/download/key/5388","coverURL":"/cdn/5388/b8830915b5023c4c8030b2b0077688eb8508dc4c.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":false,"expertPlus":true,"hard":false,"normal":false},"duration":0,"automapper":null,"characteristics":[{"name":"Standard","difficulties":{"easy":null,"normal":null,"hard":null,"expert":null,"expertPlus":{"duration":532,"length":187,"bombs":28,"notes":840,"obstacles":17,"njs":12,"njsOffset":0}}}],"levelAuthorName":"BennyDaBeast","songAuthorName":"K/DA (ft Madison Beer, (G)I-DLE, Jaira Burns)","songName":"POP/STARS","songSubName":"","bpm":170},"stats":{"downloads":49887,"plays":0,"downVotes":70,"upVotes":257,"heat":798.5296208,"rating":0.7359395873642176},"description":"Re-upload of an earlier Beatmap that was lost to the update.","deletedAt":null,"_id":"5d0a6d30e66d5000063fc546","key":"538a","name":"KDA/POPSTARS - League of Legends","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"hash":"6b7c5baf85b9e4402b3461eb137908d4522a9a9c","uploaded":"2019-06-19T17:13:20.065Z","directDownload":"/cdn/538a/6b7c5baf85b9e4402b3461eb137908d4522a9a9c.zip","downloadURL":"/api/download/key/538a","coverURL":"/cdn/538a/6b7c5baf85b9e4402b3461eb137908d4522a9a9c.png"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":false,"hard":true,"normal":false},"duration":0,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":403,"length":201,"njs":12,"njsOffset":0,"bombs":8,"notes":614,"obstacles":41},"expertPlus":null,"hard":{"duration":403,"length":201,"njs":12,"njsOffset":1,"bombs":8,"notes":609,"obstacles":41},"normal":null},"name":"Standard"}],"levelAuthorName":"BennyDabeast","songAuthorName":"5 Seconds of Summer","songName":"Youngblood","songSubName":"","bpm":120},"stats":{"downloads":30853,"plays":0,"downVotes":16,"upVotes":738,"heat":939.6445566,"rating":0.9136488781274229},"description":"Just an Expert level.","deletedAt":null,"_id":"5d6aeb6ae6a676000604751c","key":"6078","name":"Youngblood - 5 Seconds of Summer","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"hash":"182e88e0e80450dd02bdcd6ac4924e3cc00d8673","uploaded":"2019-08-31T21:49:30.872Z","directDownload":"/cdn/6078/182e88e0e80450dd02bdcd6ac4924e3cc00d8673.zip","downloadURL":"/api/download/key/6078","coverURL":"/cdn/6078/182e88e0e80450dd02bdcd6ac4924e3cc00d8673.jpg"},{"metadata":{"difficulties":{"easy":false,"expert":true,"expertPlus":true,"hard":false,"normal":false},"duration":0,"automapper":null,"characteristics":[{"difficulties":{"easy":null,"expert":{"duration":387.5,"length":192,"njs":12,"njsOffset":0,"bombs":0,"notes":668,"obstacles":84},"expertPlus":{"duration":387.5,"length":192,"njs":15,"njsOffset":0,"bombs":0,"notes":770,"obstacles":129},"hard":null,"normal":null},"name":"Standard"}],"levelAuthorName":"BennyDaBeast","songAuthorName":"Young Pines","songName":"Start Right Now ft. Laney Jones","songSubName":"","bpm":121},"stats":{"downloads":52464,"plays":0,"downVotes":27,"upVotes":581,"heat":987.0967523,"rating":0.8894736256801323},"description":"We're gonna start right now! ... working out, of course!\n\nHope this makes you sweat. ;)","deletedAt":null,"_id":"5d8b94d7048dff0006da90d1","key":"65cb","name":"[YUR Workout] Start Right Now - Young Pines ft. Laney Jones","uploader":{"_id":"5cff0b7298cc5a672c84e98d","username":"bennydabeast"},"hash":"d203ee856b5b60d058fc1ff7aabca93ed7de1753","uploaded":"2019-09-25T16:24:55.914Z","directDownload":"/cdn/65cb/d203ee856b5b60d058fc1ff7aabca93ed7de1753.zip","downloadURL":"/api/download/key/65cb","coverURL":"/cdn/65cb/d203ee856b5b60d058fc1ff7aabca93ed7de1753.jpg"}],"totalDocs":46,"lastPage":4,"prevPage":1,"nextPage":3}"#.into());
            client
                .search_advanced_page("uploader.username:bennydabeast".into(), 2)
                .await
                .unwrap();
        }
        #[async_test]
        async fn test_download() {
            let client = FakeClient::new(
                BEATSAVER_URL.join("api/download/key/1").unwrap(),
                "map #1".into(),
            );
            client.download("1".try_into().unwrap()).await.unwrap();
            let client = FakeClient::new(
                BEATSAVER_URL
                    .join("api/download/hash/fda568fc27c20d21f8dc6f3709b49b5cc96723be")
                    .unwrap(),
                "map #1".into(),
            );
            client
                .download(
                    "fda568fc27c20d21f8dc6f3709b49b5cc96723be"
                        .try_into()
                        .unwrap(),
                )
                .await
                .unwrap();
        }
    }
}
